import{j as e}from"./index-D6tTS0JU.js";import{d as h}from"./vendor-react-DEK6ZklB.js";import{X as f,U as l,a5 as p,a4 as x,M as g,N as j,j as b,H as N}from"./vendor-ui-DSVO5Hq3.js";const k=({isOpen:d,onClose:a,title:m,items:r,type:t})=>{const i=h();if(!d)return null;const n=s=>{a(),i(t==="dogs"?`/pro/dogs/${s.id}`:`/pro/crm/contacts/${s.id}`)},o=s=>s==="foster_family"||s==="both"?x:s==="adopter"?N:l,c=s=>{switch(s){case"foster_family":return"Famille d'accueil";case"adopter":return"Adoptant";case"both":return"FA & Adoptant";default:return"Contact"}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-3 xs:p-4",children:e.jsxs("div",{className:"bg-card rounded-xl shadow-2xl w-full max-w-xs xs:max-w-sm sm:max-w-md max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-primary/5 px-3 xs:px-4 py-3 border-b border-border flex items-center justify-between sticky top-0 z-10",children:[e.jsx("h2",{className:"text-base xs:text-lg font-heading font-bold text-foreground truncate pr-2",children:m}),e.jsx("button",{onClick:a,className:"p-2 hover:bg-background rounded-lg transition-smooth min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Fermer",children:e.jsx(f,{size:20,className:"text-muted-foreground"})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-120px)]",children:r.length===0?e.jsxs("div",{className:"p-6 xs:p-8 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-muted rounded-full flex items-center justify-center mx-auto mb-3",children:e.jsx(l,{size:24,className:"text-muted-foreground"})}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Aucun élément à afficher"})]}):e.jsx("div",{className:"divide-y divide-border",children:t==="dogs"?r.map(s=>e.jsxs("button",{onClick:()=>n(s),className:"w-full p-3 hover:bg-muted/50 active:bg-muted transition-smooth text-left flex items-center gap-3 group min-h-[60px]",children:[s.photo_url?e.jsx("img",{src:s.photo_url,alt:s.name,className:"w-12 h-12 rounded-lg object-cover flex-shrink-0"}):e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center flex-shrink-0",children:e.jsx(p,{size:20,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-heading font-semibold text-foreground mb-0.5 group-hover:text-primary transition-colors truncate",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground mb-1 truncate",children:s.breed||"Race non précisée"}),s.foster_family_name&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-purple-600 truncate",children:[e.jsx(x,{size:10}),e.jsxs("span",{children:["Chez ",s.foster_family_name]})]})]}),e.jsx("div",{className:"text-muted-foreground flex-shrink-0",children:"→"})]},s.id)):r.map(s=>{const u=o(s.type);return e.jsx("button",{onClick:()=>n(s),className:"w-full p-3 hover:bg-muted/50 active:bg-muted transition-smooth text-left group min-h-[70px]",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-primary/20 to-primary/10 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(u,{size:18,className:"text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[e.jsx("h3",{className:"font-heading font-semibold text-foreground group-hover:text-primary transition-colors truncate max-w-[70%]",children:s.full_name}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap flex-shrink-0 ml-1",children:c(s.type)})]}),e.jsxs("div",{className:"space-y-0.5",children:[s.email&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(g,{size:12,className:"flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(j,{size:12,className:"flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.phone})]}),s.city&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[e.jsx(b,{size:12,className:"flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.city})]})]}),(s.type==="foster_family"||s.type==="both")&&e.jsxs("div",{className:"mt-1.5 flex items-center gap-2 flex-wrap",children:[e.jsxs("span",{className:"text-xs text-purple-600 font-medium",children:[s.current_dogs_count||0,"/",s.max_dogs||0," chiens"]}),s.availability==="available"&&e.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-700 rounded-full text-xs font-medium whitespace-nowrap",children:"Disponible"})]})]}),e.jsx("div",{className:"text-muted-foreground flex-shrink-0 mt-1",children:"→"})]})},s.id)})})}),e.jsx("div",{className:"bg-muted/30 px-4 py-2 border-t border-border",children:e.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[r.length," ",t==="dogs"?"chien":"contact",r.length>1?"s":""]})})]})})};export{k as C};
