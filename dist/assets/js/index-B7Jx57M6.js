var q=Object.defineProperty;var H=(s,t,o)=>t in s?q(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var N=(s,t,o)=>(H(s,typeof t!="symbol"?t+"":t,o),o);import{r,a as G,u as J,R as y,B as $,b as X,c as i,d as Q}from"./vendor-react-DEK6ZklB.js";import{C as Z,L as K,S as Y,D as ee,X as V,a as D,b as R,c as z,d as te,e as se}from"./vendor-ui-BmzNxrw7.js";import{c as re}from"./vendor-supabase-DfwcnzK-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function o(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(n){if(n.ep)return;n.ep=!0;const l=o(n);fetch(n.href,l)}})();var M={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe=r,ne=Symbol.for("react.element"),ie=Symbol.for("react.fragment"),ae=Object.prototype.hasOwnProperty,le=oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ce={key:!0,ref:!0,__self:!0,__source:!0};function U(s,t,o){var c,n={},l=null,u=null;o!==void 0&&(l=""+o),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(c in t)ae.call(t,c)&&!ce.hasOwnProperty(c)&&(n[c]=t[c]);if(s&&s.defaultProps)for(c in t=s.defaultProps,t)n[c]===void 0&&(n[c]=t[c]);return{$$typeof:ne,type:s,key:l,ref:u,props:n,_owner:le.current}}I.Fragment=ie;I.jsx=U;I.jsxs=U;M.exports=I;var e=M.exports,F,A=G;F=A.createRoot,A.hydrateRoot;const de="modulepreload",me=function(s){return"/"+s},O={},a=function(t,o,c){return!o||o.length===0?t():(document.getElementsByTagName("link"),Promise.all(o.map(n=>{if(n=me(n),n in O)return;O[n]=!0;const l=n.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${u}`))return;const p=document.createElement("link");if(p.rel=l?"stylesheet":de,l||(p.as="script",p.crossOrigin=""),p.href=n,document.head.appendChild(p),l)return new Promise((v,h)=>{p.addEventListener("load",v),p.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n}))},ue=()=>{const{pathname:s}=J();return r.useEffect(()=>{window.scrollTo(0,0)},[s]),null};function w({name:s,size:t=24,color:o="currentColor",className:c="",strokeWidth:n=2,...l}){var p;const u=(p=K)==null?void 0:p[s];return u?e.jsx(u,{size:t,color:o,strokeWidth:n,className:c,...l}):e.jsx(Z,{size:t,color:"gray",strokeWidth:n,className:c,...l})}class pe extends y.Component{constructor(o){super(o);N(this,"handleRetry",()=>{this.setState({hasError:!1}),window.location.reload()});N(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(o){return{hasError:!0}}componentDidCatch(o,c){var n;o.__ErrorBoundary=!0,(n=window.__COMPONENT_ERROR__)==null||n.call(window,o,c)}render(){var o,c;return(o=this.state)!=null&&o.hasError?e.jsx("div",{className:"min-h-[100dvh] sm:min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"text-center max-w-md w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"w-24 h-24 mx-auto relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-100 to-orange-100 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-red-500 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:e.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsx("h1",{className:"text-2xl font-heading font-bold text-foreground",children:"Oups ! ðŸ˜…"}),e.jsx("div",{className:"bg-card border border-border rounded-xl p-4",children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Une erreur inattendue s'est produite. Ne vous inquiÃ©tez pas, notre Ã©quipe technique a Ã©tÃ© notifiÃ©e."})})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:this.handleRetry,className:"w-full bg-primary text-primary-foreground py-3 rounded-xl font-medium hover:bg-primary/90 transition-smooth flex items-center justify-center gap-2 min-h-[44px] active:scale-[0.98]",children:[e.jsx(w,{name:"RefreshCw",size:18}),"RÃ©essayer"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"w-full border-2 border-border bg-card py-3 rounded-xl font-medium hover:bg-muted transition-smooth flex items-center justify-center gap-2 min-h-[44px] active:scale-[0.98]",children:[e.jsx(w,{name:"Home",size:18}),"Retour Ã  l'accueil"]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Besoin d'aide ?"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs("a",{href:"mailto:support@doogybook.com",className:"text-xs text-primary hover:underline flex items-center gap-1 min-h-[44px] min-w-[44px] justify-center",children:[e.jsx(w,{name:"Mail",size:14}),"Support"]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"text-xs text-primary hover:underline flex items-center gap-1 min-h-[44px] min-w-[44px] justify-center",children:[e.jsx(w,{name:"RefreshCcw",size:14}),"Recharger"]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("details",{className:"text-left",children:[e.jsx("summary",{className:"text-xs text-muted-foreground cursor-pointer hover:text-foreground mb-2",children:"Information technique"}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-xs text-muted-foreground overflow-auto",children:[e.jsx("p",{children:"Erreur capturÃ©e par ErrorBoundary"}),e.jsx("p",{className:"mt-1 text-xs",children:"Essayez de :"}),e.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.jsx("li",{children:"RafraÃ®chir la page"}),e.jsx("li",{children:"VÃ©rifier votre connexion internet"}),e.jsx("li",{children:"Effacer le cache du navigateur"}),e.jsx("li",{children:"Contacter le support si le problÃ¨me persiste"})]})]})]})}),e.jsx("div",{className:"mt-8 pt-4 border-t border-border",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Doogybook v1.0.0"})})]})}):(c=this.props)==null?void 0:c.children}}const xe=()=>e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Chargement..."})]})}),he=r.lazy(()=>a(()=>import("./NotFound-CCVl8u0f.js"),__vite__mapDeps([0,1,2,3,4]))),fe=r.lazy(()=>a(()=>import("./LandingPage-BI4jKE03.js"),__vite__mapDeps([5,1,3,4]))),ge=r.lazy(()=>a(()=>import("./index-Cbh8jSmE.js"),__vite__mapDeps([6,1,7,8,2,3,4]))),_e=r.lazy(()=>a(()=>import("./index-CfKDZez-.js"),__vite__mapDeps([9,1,10,7,8,2,11,3,12,4]))),je=r.lazy(()=>a(()=>import("./DashboardRedirect-CGEiKxdp.js"),__vite__mapDeps([13,1,3,4]))),ve=r.lazy(()=>a(()=>import("./DogProfileRedirect-DMu0OvzL.js"),__vite__mapDeps([14,1,3,4]))),ye=r.lazy(()=>a(()=>import("./AdminDashboard-DQkuXl6z.js"),__vite__mapDeps([15,1,16,3,17,18,4]))),be=r.lazy(()=>a(()=>import("./UserDashboard-DHYPeK4l.js"),__vite__mapDeps([19,1,20,17,3,16,21,2,8,12,4]))),Ee=r.lazy(()=>a(()=>import("./index-n2WAlpAU.js"),__vite__mapDeps([22,1,20,17,3,16,2,23,10,8,21,12,18,24,4]))),Pe=r.lazy(()=>a(()=>import("./index-xgDn7WsU.js"),__vite__mapDeps([25,1,16,3,17,2,11,8,12,18,4]))),we=r.lazy(()=>a(()=>import("./HybridDogProfile-Bhhy3pA0.js"),__vite__mapDeps([26,1,22,20,17,3,16,2,23,10,8,21,12,18,24,4]))),Ie=r.lazy(()=>a(()=>import("./ClaimDogPage-BWdFMT3D.js"),__vite__mapDeps([27,1,3,4]))),Ne=r.lazy(()=>a(()=>import("./index-D0iDErSq.js"),__vite__mapDeps([28,1,29,20,17,3,16,18,4]))),Re=r.lazy(()=>a(()=>import("./index-CZbStBb7.js"),__vite__mapDeps([30,1,20,17,3,16,18,4]))),Le=r.lazy(()=>a(()=>import("./index-Bz7TeF8F.js"),__vite__mapDeps([31,1,29,20,17,3,16,18,4]))),De=r.lazy(()=>a(()=>import("./index-B34nSKAm.js"),__vite__mapDeps([32,1,20,17,3,16,2,8,18,4]))),ze=r.lazy(()=>a(()=>import("./Notifications-DKIRPQ-5.js"),__vite__mapDeps([33,1,29,20,17,3,18,4]))),Ae=r.lazy(()=>a(()=>import("./UserProfile-COEgflKp.js"),__vite__mapDeps([34,1,18,3,35,4]))),Oe=r.lazy(()=>a(()=>import("./index-cB1RWtiK.js"),__vite__mapDeps([36,1,16,3,17,37,18,35,4]))),Te=r.lazy(()=>a(()=>import("./PublicAdoptionPage-Djc_Z0Q8.js"),__vite__mapDeps([38,1,3,4]))),Ce=r.lazy(()=>a(()=>import("./PublicDogDetail-GYMEhFrd.js"),__vite__mapDeps([39,1,3,4]))),ke=r.lazy(()=>a(()=>import("./PremiumPage-PkIZPlIU.js"),__vite__mapDeps([40,1,16,3,17,37,18,4]))),Se=r.lazy(()=>a(()=>import("./RecipesPage-CZAAWNqJ.js"),__vite__mapDeps([41,1,29,20,17,3,16,18,24,4]))),Ve=r.lazy(()=>a(()=>import("./RemindersPage-D8BrZMmC.js"),__vite__mapDeps([42,1,20,17,3,16,18,4]))),Me=r.lazy(()=>a(()=>import("./PhotoAlbumPage-B8xT4mKc.js"),__vite__mapDeps([43,1,29,20,17,3,16,18,24,4,44]))),Ue=r.lazy(()=>a(()=>import("./ProRegistration-Bafuczcw.js"),__vite__mapDeps([45,1,3,4]))),Fe=r.lazy(()=>a(()=>import("./ProDashboard-Bu4-JikJ.js"),__vite__mapDeps([46,1,47,3,37,48,4]))),Be=r.lazy(()=>a(()=>import("./ProSettings-BgIbVx3_.js"),__vite__mapDeps([49,1,37,3,18,4]))),T=r.lazy(()=>a(()=>import("./ProDogManagement-kK_JeDUW.js"),__vite__mapDeps([50,1,3,37,4]))),We=r.lazy(()=>a(()=>import("./ProDogDetail-Tm8VYqi3.js"),__vite__mapDeps([51,1,37,3,23,2,10,8,4]))),qe=r.lazy(()=>a(()=>import("./ProDogsList-QhledjWs.js"),__vite__mapDeps([52,1,37,3,4]))),He=r.lazy(()=>a(()=>import("./ProFosterFamilies-B0rIXaYU.js"),__vite__mapDeps([53,1,37,3,4]))),Ge=r.lazy(()=>a(()=>import("./ProApplications-D5jkUY7I.js"),__vite__mapDeps([54,1,37,3,4]))),Je=r.lazy(()=>a(()=>import("./InstagramGenerator-DGsaNzeM.js"),__vite__mapDeps([55,1,3,4]))),$e=r.lazy(()=>a(()=>import("./CRMContacts-M1efMcG5.js"),__vite__mapDeps([56,1,47,3,37,48,4]))),Xe=r.lazy(()=>a(()=>import("./CRMContactDetail-C73_1oqF.js"),__vite__mapDeps([57,1,47,3,37,4]))),C=r.lazy(()=>a(()=>import("./CRMContactForm-C0Y7mvyg.js"),__vite__mapDeps([58,1,3,4]))),Qe=r.lazy(()=>a(()=>import("./CGU-txjxfQQj.js"),__vite__mapDeps([59,1,3,4]))),Ze=r.lazy(()=>a(()=>import("./MentionsLegales-CiGWPtZL.js"),__vite__mapDeps([60,1,3,4]))),Ke=r.lazy(()=>a(()=>import("./PolitiqueConfidentialite-CRNw9p4e.js"),__vite__mapDeps([61,1,3,4]))),Ye=r.lazy(()=>a(()=>import("./About-CpzjwFuF.js"),__vite__mapDeps([62,1,3,4]))),et=r.lazy(()=>a(()=>import("./Contact-CYoN_Xmd.js"),__vite__mapDeps([63,1,3,4]))),tt=()=>e.jsx($,{children:e.jsxs(pe,{children:[e.jsx(ue,{}),e.jsx(r.Suspense,{fallback:e.jsx(xe,{}),children:e.jsxs(X,{children:[e.jsx(i,{path:"/",element:e.jsx(fe,{})}),e.jsx(i,{path:"/login",element:e.jsx(ge,{})}),e.jsx(i,{path:"/register",element:e.jsx(_e,{})}),e.jsx(i,{path:"/dashboard",element:e.jsx(je,{})}),e.jsx(i,{path:"/admin/dashboard",element:e.jsx(ye,{})}),e.jsx(i,{path:"/user-dashboard",element:e.jsx(be,{})}),e.jsx(i,{path:"/chien/:id",element:e.jsx(we,{})}),e.jsx(i,{path:"/dog-profile",element:e.jsx(ve,{})}),e.jsx(i,{path:"/dog-profile/:id",element:e.jsx(Ee,{})}),e.jsx(i,{path:"/multi-profile-management",element:e.jsx(Pe,{})}),e.jsx(i,{path:"/claim-dog",element:e.jsx(Ie,{})}),e.jsx(i,{path:"/social-feed",element:e.jsx(Ne,{})}),e.jsx(i,{path:"/post/:id",element:e.jsx(Re,{})}),e.jsx(i,{path:"/daily-tip",element:e.jsx(Le,{})}),e.jsx(i,{path:"/important-contacts",element:e.jsx(De,{})}),e.jsx(i,{path:"/notifications",element:e.jsx(ze,{})}),e.jsx(i,{path:"/profile/:userId",element:e.jsx(Ae,{})}),e.jsx(i,{path:"/settings",element:e.jsx(Oe,{})}),e.jsx(i,{path:"/adoption",element:e.jsx(Te,{})}),e.jsx(i,{path:"/adoption/:dogId",element:e.jsx(Ce,{})}),e.jsx(i,{path:"/premium",element:e.jsx(ke,{})}),e.jsx(i,{path:"/recipes",element:e.jsx(Se,{})}),e.jsx(i,{path:"/reminders",element:e.jsx(Ve,{})}),e.jsx(i,{path:"/photo-album",element:e.jsx(Me,{})}),e.jsx(i,{path:"/pro/register",element:e.jsx(Ue,{})}),e.jsx(i,{path:"/pro/dashboard",element:e.jsx(Fe,{})}),e.jsx(i,{path:"/pro/settings",element:e.jsx(Be,{})}),e.jsx(i,{path:"/pro/dogs",element:e.jsx(T,{})}),e.jsx(i,{path:"/pro/dogs/new",element:e.jsx(T,{})}),e.jsx(i,{path:"/pro/dogs/:dogId",element:e.jsx(We,{})}),e.jsx(i,{path:"/pro/dogs-list",element:e.jsx(qe,{})}),e.jsx(i,{path:"/pro/foster-families",element:e.jsx(He,{})}),e.jsx(i,{path:"/pro/applications",element:e.jsx(Ge,{})}),e.jsx(i,{path:"/pro/instagram",element:e.jsx(Je,{})}),e.jsx(i,{path:"/pro/crm/contacts",element:e.jsx($e,{})}),e.jsx(i,{path:"/pro/crm/contacts/new",element:e.jsx(C,{})}),e.jsx(i,{path:"/pro/crm/contacts/:contactId",element:e.jsx(Xe,{})}),e.jsx(i,{path:"/pro/crm/contacts/:contactId/edit",element:e.jsx(C,{})}),e.jsx(i,{path:"/cgu",element:e.jsx(Qe,{})}),e.jsx(i,{path:"/mentions-legales",element:e.jsx(Ze,{})}),e.jsx(i,{path:"/politique-confidentialite",element:e.jsx(Ke,{})}),e.jsx(i,{path:"/about",element:e.jsx(Ye,{})}),e.jsx(i,{path:"/contact",element:e.jsx(et,{})}),e.jsx(i,{path:"*",element:e.jsx(he,{})})]})})]})}),st="https://malcggmelsviujxawpwr.supabase.co",rt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hbGNnZ21lbHN2aXVqeGF3cHdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NzQzNzUsImV4cCI6MjA4MDE1MDM3NX0.JUiDWNPycu7_Oauj7Xfx70TM5x8CvrD087q4N8RRjbQ",j=re(st,rt,{auth:{autoRefreshToken:!0,persistSession:!0}}),B=r.createContext({}),Pt=()=>{const s=r.useContext(B);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},ot=({children:s})=>{const[t,o]=r.useState(null),[c,n]=r.useState(null),[l,u]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const{data:{session:m},error:f}=await j.auth.getSession();f&&console.error("Error getting session:",f),n(m),o((m==null?void 0:m.user)??null)}catch(m){console.error("Error initializing auth:",m)}finally{u(!1)}})();const{data:{subscription:d}}=j.auth.onAuthStateChange(async(m,f)=>{console.log("Auth state changed:",m),n(f),o((f==null?void 0:f.user)??null),u(!1)});return()=>{d==null||d.unsubscribe()}},[]);const P={user:t,session:c,loading:l,signUp:async(x,d,m={})=>{try{const{data:f,error:L}=await j.auth.signUp({email:x,password:d,options:{data:m}});if(L)throw L;return{data:f,error:null}}catch(f){return console.error("Error signing up:",f),{data:null,error:f}}},signIn:async(x,d)=>{try{const{data:m,error:f}=await j.auth.signInWithPassword({email:x,password:d});if(f)throw f;return{data:m,error:null}}catch(m){return console.error("Error signing in:",m),{data:null,error:m}}},signOut:async()=>{try{const{error:x}=await j.auth.signOut();if(x)throw x;return{error:null}}catch(x){return console.error("Error signing out:",x),{error:x}}},resetPassword:async x=>{try{const{data:d,error:m}=await j.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(m)throw m;return{data:d,error:null}}catch(d){return console.error("Error resetting password:",d),{data:null,error:d}}},updatePassword:async x=>{try{const{data:d,error:m}=await j.auth.updateUser({password:x});if(m)throw m;return{data:d,error:null}}catch(d){return console.error("Error updating password:",d),{data:null,error:d}}},updateProfile:async x=>{try{const{data:d,error:m}=await j.auth.updateUser({data:x});if(m)throw m;return{data:d,error:null}}catch(d){return console.error("Error updating profile:",d),{data:null,error:d}}}};return e.jsx(B.Provider,{value:P,children:s})},W=r.createContext(),wt=()=>{const s=r.useContext(W);if(!s)throw new Error("useTheme doit Ãªtre utilisÃ© dans ThemeProvider");return s},nt=({children:s})=>{const[t,o]=r.useState("light"),[c,n]=r.useState(!1),[l,u]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const{data:{user:_}}=await j.auth.getUser();if(console.log("ðŸ” User ID:",_==null?void 0:_.id),_){const{data:g,error:E}=await j.from("user_profiles").select("subscription_tier").eq("id",_.id).single();console.log("ðŸ” Profile data:",g),console.log("ðŸ” Error:",E),console.log("ðŸ” Subscription tier:",g==null?void 0:g.subscription_tier);const x=["premium","professional"].includes(g==null?void 0:g.subscription_tier);if(console.log("ðŸ” Is Premium?",x),n(x),x){const d=localStorage.getItem("woofly-theme")||"light";console.log("ðŸ” Saved theme:",d),o(d),d==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}else console.log("âš ï¸ Pas Premium - forÃ§age mode clair"),o("light"),document.documentElement.classList.remove("dark"),localStorage.removeItem("woofly-theme")}}catch(_){console.error("âŒ Erreur chargement thÃ¨me:",_)}finally{u(!1)}})()},[]);const v={theme:t,setTheme:()=>{if(!c){console.log("âš ï¸ Toggle bloquÃ© - pas Premium");return}const h=t==="light"?"dark":"light";console.log("ðŸ”„ Toggle theme:",t,"->",h),o(h),localStorage.setItem("woofly-theme",h),h==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isPremium:c,loading:l};return e.jsx(W.Provider,{value:v,children:s})};let b=null;const it=()=>{window.addEventListener("beforeinstallprompt",s=>{s.preventDefault(),b=s,window.dispatchEvent(new Event("pwa-install-available"))}),window.addEventListener("appinstalled",()=>{console.log("PWA installÃ©e avec succÃ¨s!"),b=null,window.dispatchEvent(new Event("pwa-installed"))})},at=async()=>{if(!b)return!1;b.prompt();const{outcome:s}=await b.userChoice;return console.log(`User response to install prompt: ${s}`),b=null,s==="accepted"},lt=()=>!!(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0),ct=()=>{const[s,t]=r.useState(!1),[o,c]=r.useState(!1);r.useEffect(()=>{if(it(),lt()){c(!0);return}const u=()=>{setTimeout(()=>{localStorage.getItem("pwa-install-dismissed")||t(!0)},3e3)},p=()=>{c(!0),t(!1),localStorage.removeItem("pwa-install-dismissed")};return window.addEventListener("pwa-install-available",u),window.addEventListener("pwa-installed",p),()=>{window.removeEventListener("pwa-install-available",u),window.removeEventListener("pwa-installed",p)}},[]);const n=async()=>{await at()&&(t(!1),c(!0))},l=()=>{t(!1),localStorage.setItem("pwa-install-dismissed","true")};return o||!s?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-md z-50 animate-in slide-in-from-bottom duration-300",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(Y,{className:"w-6 h-6 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Installer Doogybook"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-3",children:"Installez l'application sur votre Ã©cran d'accueil pour un accÃ¨s rapide et une expÃ©rience optimale"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:n,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-medium px-3 py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all flex items-center justify-center gap-1",children:[e.jsx(ee,{className:"w-3 h-3"}),"Installer"]}),e.jsx("button",{onClick:l,className:"px-3 py-2 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Plus tard"})]})]}),e.jsx("button",{onClick:l,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Fermer",children:e.jsx(V,{className:"w-4 h-4"})})]})})})},dt=({isOpen:s,onClose:t,reason:o="limit"})=>{const c=Q();if(!s)return null;const n={limit:{icon:e.jsx(R,{size:48,className:"text-primary"}),title:"Passez Premium",description:"Vous avez atteint les limites du compte gratuit. DÃ©bloquez toutes les fonctionnalitÃ©s avec Premium !",features:["Chiens illimitÃ©s â™¾ï¸","Photos illimitÃ©es ðŸ“¸","Recettes personnalisÃ©es ðŸ½ï¸","Album photo PDF ðŸ“„","Rappels intelligents ðŸ””","Badge Premium ðŸ‘‘"]},dogs:{icon:e.jsx(se,{size:48,className:"text-primary"}),title:"Limite atteinte : 1 chien",description:"Vous avez atteint la limite du compte gratuit. Passez Premium pour ajouter des chiens illimitÃ©s !",features:["Chiens illimitÃ©s â™¾ï¸","Photos illimitÃ©es ðŸ“¸","Recettes personnalisÃ©es ðŸ½ï¸","Album photo PDF ðŸ“„","Rappels intelligents ðŸ””","Badge Premium ðŸ‘‘"]},photos:{icon:e.jsx(z,{size:48,className:"text-primary"}),title:"Limite atteinte : 10 photos",description:"Vous avez atteint la limite de 10 photos. Passez Premium pour un album photo illimitÃ© !",features:["Photos illimitÃ©es ðŸ“¸","Chiens illimitÃ©s â™¾ï¸","Album photo PDF ðŸ“„","Recettes personnalisÃ©es ðŸ½ï¸","Rappels intelligents ðŸ””","Badge Premium ðŸ‘‘"]},recipes:{icon:e.jsx(te,{size:48,className:"text-primary"}),title:"Recettes Premium",description:"CrÃ©ez des recettes personnalisÃ©es et Ã©quilibrÃ©es pour votre chien avec notre gÃ©nÃ©rateur intelligent.",features:["Recettes sur mesure ðŸ½ï¸","Calcul nutritionnel automatique ðŸ“Š","IngrÃ©dients 100% sÃ©curisÃ©s âœ…","Historique illimitÃ© ðŸ“š","Export PDF ðŸ“„","Badge Premium ðŸ‘‘"]},"photo-album":{icon:e.jsx(z,{size:48,className:"text-primary"}),title:"Album Photo Premium",description:"CrÃ©ez des albums photo personnalisÃ©s et tÃ©lÃ©chargez-les en PDF pour garder vos meilleurs souvenirs.",features:["Albums personnalisÃ©s ðŸ“¸","Mise en page professionnelle ðŸŽ¨","TÃ©lÃ©chargement PDF ðŸ“„","Photos illimitÃ©es â™¾ï¸","QualitÃ© haute dÃ©finition âœ¨","Badge Premium ðŸ‘‘"]},reminders:{icon:e.jsx(R,{size:48,className:"text-primary"}),title:"Rappels Premium",description:"Programmez des rappels intelligents pour ne jamais oublier les soins de votre chien.",features:["Rappels illimitÃ©s ðŸ””","Notifications personnalisÃ©es ðŸ“²","Calendrier complet ðŸ“…","Chiens illimitÃ©s â™¾ï¸","Photos illimitÃ©es ðŸ“¸","Badge Premium ðŸ‘‘"]}},l=n[o]||n.limit,u=()=>{t(),c("/premium")};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 animate-in fade-in duration-200",onClick:t}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-card rounded-3xl max-w-md w-full shadow-2xl animate-in slide-in-from-bottom-4 fade-in duration-300",onClick:p=>p.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 hover:bg-muted rounded-full transition-smooth",children:e.jsx(V,{size:20,className:"text-muted-foreground"})}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-primary/10 rounded-full flex items-center justify-center",children:l.icon}),e.jsx("h2",{className:"text-2xl font-bold text-foreground mb-3",children:l.title}),e.jsx("p",{className:"text-muted-foreground mb-6",children:l.description}),e.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-purple-50 rounded-2xl p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(D,{size:24,className:"text-primary"}),e.jsx("span",{className:"font-bold text-lg text-foreground",children:"Woofly Premium"})]}),e.jsx("div",{className:"space-y-3",children:l.features.map((p,v)=>e.jsxs("div",{className:"flex items-center gap-3 text-left",children:[e.jsx(R,{size:16,className:"text-primary flex-shrink-0"}),e.jsx("span",{className:"text-foreground font-medium",children:p})]},v))}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[e.jsxs("div",{className:"text-3xl font-bold text-primary mb-1",children:["3,99â‚¬",e.jsx("span",{className:"text-base font-normal text-muted-foreground",children:"/mois"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"ou 39â‚¬/an (Ã©conomisez 9â‚¬)"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:u,className:"w-full px-6 py-4 bg-gradient-to-r from-primary to-purple-600 text-white rounded-xl font-bold text-lg hover:shadow-lg transition-smooth flex items-center justify-center gap-2",children:[e.jsx(D,{size:20}),e.jsx("span",{children:"Passer Premium"})]}),e.jsx("button",{onClick:t,className:"w-full px-6 py-2 text-muted-foreground hover:text-foreground transition-smooth",children:"Plus tard"})]})]})]})})]})},k=s=>{let t;const o=new Set,c=(h,_)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const E=t;t=_??(typeof g!="object"||g===null)?g:Object.assign({},t,g),o.forEach(P=>P(t,E))}},n=()=>t,p={setState:c,getState:n,getInitialState:()=>v,subscribe:h=>(o.add(h),()=>o.delete(h))},v=t=s(c,n,p);return p},mt=s=>s?k(s):k,ut=s=>s;function pt(s,t=ut){const o=y.useSyncExternalStore(s.subscribe,y.useCallback(()=>t(s.getState()),[s,t]),y.useCallback(()=>t(s.getInitialState()),[s,t]));return y.useDebugValue(o),o}const S=s=>{const t=mt(s),o=c=>pt(t,c);return Object.assign(o,t),o},xt=s=>s?S(s):S,ht=xt(s=>({isOpen:!1,reason:"limit",showPremiumModal:(t="limit")=>{s({isOpen:!0,reason:t})},closePremiumModal:()=>{s({isOpen:!1})}})),ft=()=>{const{isOpen:s,reason:t,closePremiumModal:o}=ht();return e.jsx(dt,{isOpen:s,onClose:o,reason:t})};function gt(){return e.jsx(nt,{children:e.jsxs(ot,{children:[e.jsx(tt,{}),e.jsx(ct,{}),e.jsx(ft,{})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("âœ… Service Worker enregistrÃ© avec succÃ¨s:",t.scope),setInterval(()=>{t.update()},60*60*1e3),t.addEventListener("updatefound",()=>{const o=t.installing;o.addEventListener("statechange",()=>{o.state==="installed"&&navigator.serviceWorker.controller&&(console.log("ðŸ”„ Nouvelle version disponible!"),confirm("Une nouvelle version est disponible. Voulez-vous recharger?")&&(o.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(t=>{console.error("âŒ Ã‰chec de l'enregistrement du Service Worker:",t)});let s=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{s||(s=!0,window.location.reload())})});const _t=document.getElementById("root"),jt=F(_t);jt.render(e.jsx(y.StrictMode,{children:e.jsx(gt,{})}));export{w as I,a as _,ht as a,wt as b,e as j,j as s,Pt as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/NotFound-CCVl8u0f.js","assets/js/vendor-react-DEK6ZklB.js","assets/js/Button-DRPe_8g_.js","assets/js/vendor-ui-BmzNxrw7.js","assets/js/vendor-supabase-DfwcnzK-.js","assets/js/LandingPage-BI4jKE03.js","assets/js/index-Cbh8jSmE.js","assets/js/AuthenticationShell-DJND5wSK.js","assets/js/Input-B_atqvlr.js","assets/js/index-CfKDZez-.js","assets/js/index-1Ar5VAb3.js","assets/js/Checkbox-k4ToEnvX.js","assets/js/Select-6JUoKzy5.js","assets/js/DashboardRedirect-CGEiKxdp.js","assets/js/DogProfileRedirect-DMu0OvzL.js","assets/js/AdminDashboard-DQkuXl6z.js","assets/js/UserMenu-BLe4sAG0.js","assets/js/PremiumBadge-CXujHqOf.js","assets/js/Footer-BzsNiuzK.js","assets/js/UserDashboard-DHYPeK4l.js","assets/js/TabNavigation-BwiyMJ_q.js","assets/js/CreateDogModal-pKEhvy9I.js","assets/js/index-n2WAlpAU.js","assets/js/PhotoGalleryModal-CYwUTdFI.js","assets/js/jspdf.es.min-CbJeJTAI.js","assets/js/index-xgDn7WsU.js","assets/js/HybridDogProfile-Bhhy3pA0.js","assets/js/ClaimDogPage-BWdFMT3D.js","assets/js/index-D0iDErSq.js","assets/js/useNotifications-BSrZrH0R.js","assets/js/index-CZbStBb7.js","assets/js/index-Bz7TeF8F.js","assets/js/index-B34nSKAm.js","assets/js/Notifications-DKIRPQ-5.js","assets/js/UserProfile-COEgflKp.js","assets/js/SubscriptionBadge-CbnCJuc4.js","assets/js/index-cB1RWtiK.js","assets/js/UserMenuPro-B-i6kR9s.js","assets/js/PublicAdoptionPage-Djc_Z0Q8.js","assets/js/PublicDogDetail-GYMEhFrd.js","assets/js/PremiumPage-PkIZPlIU.js","assets/js/RecipesPage-CZAAWNqJ.js","assets/js/RemindersPage-D8BrZMmC.js","assets/js/PhotoAlbumPage-B8xT4mKc.js","assets/css/PhotoAlbumPage-CBBJdu8_.css","assets/js/ProRegistration-Bafuczcw.js","assets/js/ProDashboard-Bu4-JikJ.js","assets/js/TabNavigationPro-DwWOvQRa.js","assets/js/ContactListModal-CKRvYMdR.js","assets/js/ProSettings-BgIbVx3_.js","assets/js/ProDogManagement-kK_JeDUW.js","assets/js/ProDogDetail-Tm8VYqi3.js","assets/js/ProDogsList-QhledjWs.js","assets/js/ProFosterFamilies-B0rIXaYU.js","assets/js/ProApplications-D5jkUY7I.js","assets/js/InstagramGenerator-DGsaNzeM.js","assets/js/CRMContacts-M1efMcG5.js","assets/js/CRMContactDetail-C73_1oqF.js","assets/js/CRMContactForm-C0Y7mvyg.js","assets/js/CGU-txjxfQQj.js","assets/js/MentionsLegales-CiGWPtZL.js","assets/js/PolitiqueConfidentialite-CRNw9p4e.js","assets/js/About-CpzjwFuF.js","assets/js/Contact-CYoN_Xmd.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}