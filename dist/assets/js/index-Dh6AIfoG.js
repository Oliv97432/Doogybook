var S=Object.defineProperty;var U=(a,r,i)=>r in a?S(a,r,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[r]=i;var P=(a,r,i)=>(U(a,typeof r!="symbol"?r+"":r,i),i);import{r as t,a as M,u as W,R as N,B as F,b as q,c as o}from"./vendor-react-DEK6ZklB.js";import{C as B,L as J,S as $,D as G,X as H}from"./vendor-ui-Bo32stKt.js";import{c as X}from"./vendor-supabase-DfwcnzK-.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}})();var O={exports:{}},w={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z=t,Q=Symbol.for("react.element"),K=Symbol.for("react.fragment"),Y=Object.prototype.hasOwnProperty,ee=Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,te={key:!0,ref:!0,__self:!0,__source:!0};function z(a,r,i){var c,s={},l=null,m=null;i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),r.ref!==void 0&&(m=r.ref);for(c in r)Y.call(r,c)&&!te.hasOwnProperty(c)&&(s[c]=r[c]);if(a&&a.defaultProps)for(c in r=a.defaultProps,r)s[c]===void 0&&(s[c]=r[c]);return{$$typeof:Q,type:a,key:l,ref:m,props:s,_owner:ee.current}}w.Fragment=K;w.jsx=z;w.jsxs=z;O.exports=w;var e=O.exports,C,L=M;C=L.createRoot,L.hydrateRoot;const re="modulepreload",se=function(a){return"/"+a},D={},n=function(r,i,c){return!i||i.length===0?r():(document.getElementsByTagName("link"),Promise.all(i.map(s=>{if(s=se(s),s in D)return;D[s]=!0;const l=s.endsWith(".css"),m=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${m}`))return;const h=document.createElement("link");if(h.rel=l?"stylesheet":re,l||(h.as="script",h.crossOrigin=""),h.href=s,document.head.appendChild(h),l)return new Promise((E,f)=>{h.addEventListener("load",E),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>r()).catch(s=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}))},oe=()=>{const{pathname:a}=W();return t.useEffect(()=>{window.scrollTo(0,0)},[a]),null};function y({name:a,size:r=24,color:i="currentColor",className:c="",strokeWidth:s=2,...l}){var h;const m=(h=J)==null?void 0:h[a];return m?e.jsx(m,{size:r,color:i,strokeWidth:s,className:c,...l}):e.jsx(B,{size:r,color:"gray",strokeWidth:s,className:c,...l})}class ne extends N.Component{constructor(i){super(i);P(this,"handleRetry",()=>{this.setState({hasError:!1}),window.location.reload()});P(this,"handleGoHome",()=>{window.location.href="/"});this.state={hasError:!1}}static getDerivedStateFromError(i){return{hasError:!0}}componentDidCatch(i,c){var s;i.__ErrorBoundary=!0,(s=window.__COMPONENT_ERROR__)==null||s.call(window,i,c)}render(){var i,c;return(i=this.state)!=null&&i.hasError?e.jsx("div",{className:"min-h-[100dvh] sm:min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"text-center max-w-md w-full",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"w-24 h-24 mx-auto relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-100 to-orange-100 rounded-full animate-pulse"}),e.jsx("div",{className:"absolute inset-4 bg-gradient-to-br from-red-500 to-orange-500 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-12 h-12 text-white",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:e.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",strokeLinecap:"round",strokeLinejoin:"round"})})})]})}),e.jsxs("div",{className:"space-y-3 mb-8",children:[e.jsx("h1",{className:"text-2xl font-heading font-bold text-foreground",children:"Oups ! ðŸ˜…"}),e.jsx("div",{className:"bg-card border border-border rounded-xl p-4",children:e.jsx("p",{className:"text-muted-foreground text-sm",children:"Une erreur inattendue s'est produite. Ne vous inquiÃ©tez pas, notre Ã©quipe technique a Ã©tÃ© notifiÃ©e."})})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:this.handleRetry,className:"w-full bg-primary text-primary-foreground py-3 rounded-xl font-medium hover:bg-primary/90 transition-smooth flex items-center justify-center gap-2 min-h-[44px] active:scale-[0.98]",children:[e.jsx(y,{name:"RefreshCw",size:18}),"RÃ©essayer"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"w-full border-2 border-border bg-card py-3 rounded-xl font-medium hover:bg-muted transition-smooth flex items-center justify-center gap-2 min-h-[44px] active:scale-[0.98]",children:[e.jsx(y,{name:"Home",size:18}),"Retour Ã  l'accueil"]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-border",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Besoin d'aide ?"}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs("a",{href:"mailto:support@doogybook.com",className:"text-xs text-primary hover:underline flex items-center gap-1 min-h-[44px] min-w-[44px] justify-center",children:[e.jsx(y,{name:"Mail",size:14}),"Support"]}),e.jsxs("button",{onClick:()=>window.location.reload(),className:"text-xs text-primary hover:underline flex items-center gap-1 min-h-[44px] min-w-[44px] justify-center",children:[e.jsx(y,{name:"RefreshCcw",size:14}),"Recharger"]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsxs("details",{className:"text-left",children:[e.jsx("summary",{className:"text-xs text-muted-foreground cursor-pointer hover:text-foreground mb-2",children:"Information technique"}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-3 text-xs text-muted-foreground overflow-auto",children:[e.jsx("p",{children:"Erreur capturÃ©e par ErrorBoundary"}),e.jsx("p",{className:"mt-1 text-xs",children:"Essayez de :"}),e.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.jsx("li",{children:"RafraÃ®chir la page"}),e.jsx("li",{children:"VÃ©rifier votre connexion internet"}),e.jsx("li",{children:"Effacer le cache du navigateur"}),e.jsx("li",{children:"Contacter le support si le problÃ¨me persiste"})]})]})]})}),e.jsx("div",{className:"mt-8 pt-4 border-t border-border",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Doogybook v1.0.0"})})]})}):(c=this.props)==null?void 0:c.children}}const ae=()=>e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-primary border-t-transparent mb-4"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Chargement..."})]})}),ie=t.lazy(()=>n(()=>import("./NotFound-COdyX5Dt.js"),__vite__mapDeps([0,1,2,3,4]))),le=t.lazy(()=>n(()=>import("./LandingPage-DRm2Gqm0.js"),__vite__mapDeps([5,1,3,4]))),ce=t.lazy(()=>n(()=>import("./index-NG-vLuIj.js"),__vite__mapDeps([6,1,7,8,2,3,4]))),de=t.lazy(()=>n(()=>import("./index-DGKhksAn.js"),__vite__mapDeps([9,1,10,7,8,2,11,3,12,4]))),ue=t.lazy(()=>n(()=>import("./DashboardRedirect-Bb0rgRpW.js"),__vite__mapDeps([13,1,3,4]))),me=t.lazy(()=>n(()=>import("./DogProfileRedirect-DkaPWmvW.js"),__vite__mapDeps([14,1,3,4]))),pe=t.lazy(()=>n(()=>import("./AdminDashboard-BMAKxZdM.js"),__vite__mapDeps([15,1,16,3,17,18,4]))),he=t.lazy(()=>n(()=>import("./UserDashboard-BPvwjcDJ.js"),__vite__mapDeps([19,1,20,17,3,16,21,2,8,12,4]))),xe=t.lazy(()=>n(()=>import("./index-BecfnqPc.js"),__vite__mapDeps([22,1,20,17,3,16,2,23,24,10,8,21,12,18,25,4]))),_e=t.lazy(()=>n(()=>import("./index-Dkn6C2--.js"),__vite__mapDeps([26,1,16,3,17,2,11,8,12,18,4]))),fe=t.lazy(()=>n(()=>import("./HybridDogProfile-Dg8NtfyB.js"),__vite__mapDeps([27,1,22,20,17,3,16,2,23,24,10,8,21,12,18,25,4]))),ge=t.lazy(()=>n(()=>import("./ClaimDogPage-CJK5YoUb.js"),__vite__mapDeps([28,1,3,4]))),je=t.lazy(()=>n(()=>import("./index-12cw8wuF.js"),__vite__mapDeps([29,1,30,20,17,3,16,18,4]))),ve=t.lazy(()=>n(()=>import("./index-DbzHgV5Z.js"),__vite__mapDeps([31,1,20,17,3,16,18,4]))),Ee=t.lazy(()=>n(()=>import("./index-BPcUXKzS.js"),__vite__mapDeps([32,1,30,20,17,3,16,18,4]))),ye=t.lazy(()=>n(()=>import("./index-BRSnTmst.js"),__vite__mapDeps([33,1,20,17,3,16,2,8,18,4]))),we=t.lazy(()=>n(()=>import("./Notifications-ZHavTeUM.js"),__vite__mapDeps([34,1,30,20,17,3,18,4]))),Pe=t.lazy(()=>n(()=>import("./UserProfile-B-gIa6wy.js"),__vite__mapDeps([35,1,18,3,36,4]))),be=t.lazy(()=>n(()=>import("./index-T3KR5yIr.js"),__vite__mapDeps([37,1,16,3,17,38,18,36,4]))),Ie=t.lazy(()=>n(()=>import("./PublicAdoptionPage-BMxOKpaZ.js"),__vite__mapDeps([39,1,3,4]))),Re=t.lazy(()=>n(()=>import("./PublicDogDetail-C5ancKhH.js"),__vite__mapDeps([40,1,3,4]))),Le=t.lazy(()=>n(()=>import("./PremiumPage-BEuRlA-F.js"),__vite__mapDeps([41,1,16,3,17,38,18,4]))),De=t.lazy(()=>n(()=>import("./RecipesPage-PtQg5Qh_.js"),__vite__mapDeps([42,1,30,20,17,3,16,18,24,25,4]))),Te=t.lazy(()=>n(()=>import("./RemindersPage-BOoJfh9I.js"),__vite__mapDeps([43,1,20,17,3,16,18,24,4]))),Ae=t.lazy(()=>n(()=>import("./PhotoAlbumPage-DcynF6jB.js"),__vite__mapDeps([44,1,30,20,17,3,16,18,24,25,4,45]))),Ne=t.lazy(()=>n(()=>import("./ProRegistration-C7R6OPpC.js"),__vite__mapDeps([46,1,3,4]))),Oe=t.lazy(()=>n(()=>import("./ProDashboard-CFwFUJk4.js"),__vite__mapDeps([47,1,48,3,38,49,4]))),ze=t.lazy(()=>n(()=>import("./ProSettings-C30GDg48.js"),__vite__mapDeps([50,1,38,3,18,4]))),T=t.lazy(()=>n(()=>import("./ProDogManagement-B4lGX_FM.js"),__vite__mapDeps([51,1,3,38,4]))),Ce=t.lazy(()=>n(()=>import("./ProDogDetail-CvJuF5KU.js"),__vite__mapDeps([52,1,38,3,23,2,24,10,8,4]))),ke=t.lazy(()=>n(()=>import("./ProDogsList-BCrZcTb3.js"),__vite__mapDeps([53,1,38,3,4]))),Ve=t.lazy(()=>n(()=>import("./ProFosterFamilies-B9gFghtL.js"),__vite__mapDeps([54,1,38,3,4]))),Se=t.lazy(()=>n(()=>import("./ProApplications-7HNCJado.js"),__vite__mapDeps([55,1,38,3,4]))),Ue=t.lazy(()=>n(()=>import("./InstagramGenerator-BfUi6pPO.js"),__vite__mapDeps([56,1,3,4]))),Me=t.lazy(()=>n(()=>import("./CRMContacts-GfXBmryS.js"),__vite__mapDeps([57,1,48,3,38,49,4]))),We=t.lazy(()=>n(()=>import("./CRMContactDetail-D6e3jn_U.js"),__vite__mapDeps([58,1,48,3,38,4]))),A=t.lazy(()=>n(()=>import("./CRMContactForm-BGZObNrt.js"),__vite__mapDeps([59,1,3,4]))),Fe=t.lazy(()=>n(()=>import("./CGU-NHZRxUBO.js"),__vite__mapDeps([60,1,3,4]))),qe=t.lazy(()=>n(()=>import("./MentionsLegales-DfolK-Id.js"),__vite__mapDeps([61,1,3,4]))),Be=t.lazy(()=>n(()=>import("./PolitiqueConfidentialite-BY-H4NN8.js"),__vite__mapDeps([62,1,3,4]))),Je=t.lazy(()=>n(()=>import("./About-BYaRT2zK.js"),__vite__mapDeps([63,1,3,4]))),$e=t.lazy(()=>n(()=>import("./Contact-DzLKQT7X.js"),__vite__mapDeps([64,1,3,4]))),Ge=()=>e.jsx(F,{children:e.jsxs(ne,{children:[e.jsx(oe,{}),e.jsx(t.Suspense,{fallback:e.jsx(ae,{}),children:e.jsxs(q,{children:[e.jsx(o,{path:"/",element:e.jsx(le,{})}),e.jsx(o,{path:"/login",element:e.jsx(ce,{})}),e.jsx(o,{path:"/register",element:e.jsx(de,{})}),e.jsx(o,{path:"/dashboard",element:e.jsx(ue,{})}),e.jsx(o,{path:"/admin/dashboard",element:e.jsx(pe,{})}),e.jsx(o,{path:"/user-dashboard",element:e.jsx(he,{})}),e.jsx(o,{path:"/chien/:id",element:e.jsx(fe,{})}),e.jsx(o,{path:"/dog-profile",element:e.jsx(me,{})}),e.jsx(o,{path:"/dog-profile/:id",element:e.jsx(xe,{})}),e.jsx(o,{path:"/multi-profile-management",element:e.jsx(_e,{})}),e.jsx(o,{path:"/claim-dog",element:e.jsx(ge,{})}),e.jsx(o,{path:"/social-feed",element:e.jsx(je,{})}),e.jsx(o,{path:"/post/:id",element:e.jsx(ve,{})}),e.jsx(o,{path:"/daily-tip",element:e.jsx(Ee,{})}),e.jsx(o,{path:"/important-contacts",element:e.jsx(ye,{})}),e.jsx(o,{path:"/notifications",element:e.jsx(we,{})}),e.jsx(o,{path:"/profile/:userId",element:e.jsx(Pe,{})}),e.jsx(o,{path:"/settings",element:e.jsx(be,{})}),e.jsx(o,{path:"/adoption",element:e.jsx(Ie,{})}),e.jsx(o,{path:"/adoption/:dogId",element:e.jsx(Re,{})}),e.jsx(o,{path:"/premium",element:e.jsx(Le,{})}),e.jsx(o,{path:"/recipes",element:e.jsx(De,{})}),e.jsx(o,{path:"/reminders",element:e.jsx(Te,{})}),e.jsx(o,{path:"/photo-album",element:e.jsx(Ae,{})}),e.jsx(o,{path:"/pro/register",element:e.jsx(Ne,{})}),e.jsx(o,{path:"/pro/dashboard",element:e.jsx(Oe,{})}),e.jsx(o,{path:"/pro/settings",element:e.jsx(ze,{})}),e.jsx(o,{path:"/pro/dogs",element:e.jsx(T,{})}),e.jsx(o,{path:"/pro/dogs/new",element:e.jsx(T,{})}),e.jsx(o,{path:"/pro/dogs/:dogId",element:e.jsx(Ce,{})}),e.jsx(o,{path:"/pro/dogs-list",element:e.jsx(ke,{})}),e.jsx(o,{path:"/pro/foster-families",element:e.jsx(Ve,{})}),e.jsx(o,{path:"/pro/applications",element:e.jsx(Se,{})}),e.jsx(o,{path:"/pro/instagram",element:e.jsx(Ue,{})}),e.jsx(o,{path:"/pro/crm/contacts",element:e.jsx(Me,{})}),e.jsx(o,{path:"/pro/crm/contacts/new",element:e.jsx(A,{})}),e.jsx(o,{path:"/pro/crm/contacts/:contactId",element:e.jsx(We,{})}),e.jsx(o,{path:"/pro/crm/contacts/:contactId/edit",element:e.jsx(A,{})}),e.jsx(o,{path:"/cgu",element:e.jsx(Fe,{})}),e.jsx(o,{path:"/mentions-legales",element:e.jsx(qe,{})}),e.jsx(o,{path:"/politique-confidentialite",element:e.jsx(Be,{})}),e.jsx(o,{path:"/about",element:e.jsx(Je,{})}),e.jsx(o,{path:"/contact",element:e.jsx($e,{})}),e.jsx(o,{path:"*",element:e.jsx(ie,{})})]})})]})}),He="https://malcggmelsviujxawpwr.supabase.co",Xe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1hbGNnZ21lbHN2aXVqeGF3cHdyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NzQzNzUsImV4cCI6MjA4MDE1MDM3NX0.JUiDWNPycu7_Oauj7Xfx70TM5x8CvrD087q4N8RRjbQ",_=X(He,Xe,{auth:{autoRefreshToken:!0,persistSession:!0}}),k=t.createContext({}),ct=()=>{const a=t.useContext(k);if(!a)throw new Error("useAuth must be used within an AuthProvider");return a},Ze=({children:a})=>{const[r,i]=t.useState(null),[c,s]=t.useState(null),[l,m]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const{data:{session:u},error:x}=await _.auth.getSession();x&&console.error("Error getting session:",x),s(u),i((u==null?void 0:u.user)??null)}catch(u){console.error("Error initializing auth:",u)}finally{m(!1)}})();const{data:{subscription:d}}=_.auth.onAuthStateChange(async(u,x)=>{console.log("Auth state changed:",u),s(x),i((x==null?void 0:x.user)??null),m(!1)});return()=>{d==null||d.unsubscribe()}},[]);const I={user:r,session:c,loading:l,signUp:async(p,d,u={})=>{try{const{data:x,error:R}=await _.auth.signUp({email:p,password:d,options:{data:u}});if(R)throw R;return{data:x,error:null}}catch(x){return console.error("Error signing up:",x),{data:null,error:x}}},signIn:async(p,d)=>{try{const{data:u,error:x}=await _.auth.signInWithPassword({email:p,password:d});if(x)throw x;return{data:u,error:null}}catch(u){return console.error("Error signing in:",u),{data:null,error:u}}},signOut:async()=>{try{const{error:p}=await _.auth.signOut();if(p)throw p;return{error:null}}catch(p){return console.error("Error signing out:",p),{error:p}}},resetPassword:async p=>{try{const{data:d,error:u}=await _.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(u)throw u;return{data:d,error:null}}catch(d){return console.error("Error resetting password:",d),{data:null,error:d}}},updatePassword:async p=>{try{const{data:d,error:u}=await _.auth.updateUser({password:p});if(u)throw u;return{data:d,error:null}}catch(d){return console.error("Error updating password:",d),{data:null,error:d}}},updateProfile:async p=>{try{const{data:d,error:u}=await _.auth.updateUser({data:p});if(u)throw u;return{data:d,error:null}}catch(d){return console.error("Error updating profile:",d),{data:null,error:d}}}};return e.jsx(k.Provider,{value:I,children:a})},V=t.createContext(),dt=()=>{const a=t.useContext(V);if(!a)throw new Error("useTheme doit Ãªtre utilisÃ© dans ThemeProvider");return a},Qe=({children:a})=>{const[r,i]=t.useState("light"),[c,s]=t.useState(!1),[l,m]=t.useState(!0);t.useEffect(()=>{(async()=>{try{const{data:{user:g}}=await _.auth.getUser();if(console.log("ðŸ” User ID:",g==null?void 0:g.id),g){const{data:j,error:b}=await _.from("user_profiles").select("subscription_tier").eq("id",g.id).single();console.log("ðŸ” Profile data:",j),console.log("ðŸ” Error:",b),console.log("ðŸ” Subscription tier:",j==null?void 0:j.subscription_tier);const p=["premium","professional"].includes(j==null?void 0:j.subscription_tier);if(console.log("ðŸ” Is Premium?",p),s(p),p){const d=localStorage.getItem("woofly-theme")||"light";console.log("ðŸ” Saved theme:",d),i(d),d==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}else console.log("âš ï¸ Pas Premium - forÃ§age mode clair"),i("light"),document.documentElement.classList.remove("dark"),localStorage.removeItem("woofly-theme")}}catch(g){console.error("âŒ Erreur chargement thÃ¨me:",g)}finally{m(!1)}})()},[]);const E={theme:r,setTheme:()=>{if(!c){console.log("âš ï¸ Toggle bloquÃ© - pas Premium");return}const f=r==="light"?"dark":"light";console.log("ðŸ”„ Toggle theme:",r,"->",f),i(f),localStorage.setItem("woofly-theme",f),f==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},isPremium:c,loading:l};return e.jsx(V.Provider,{value:E,children:a})};let v=null;const Ke=()=>{window.addEventListener("beforeinstallprompt",a=>{a.preventDefault(),v=a,window.dispatchEvent(new Event("pwa-install-available"))}),window.addEventListener("appinstalled",()=>{console.log("PWA installÃ©e avec succÃ¨s!"),v=null,window.dispatchEvent(new Event("pwa-installed"))})},Ye=async()=>{if(!v)return!1;v.prompt();const{outcome:a}=await v.userChoice;return console.log(`User response to install prompt: ${a}`),v=null,a==="accepted"},et=()=>!!(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0),tt=()=>{const[a,r]=t.useState(!1),[i,c]=t.useState(!1);t.useEffect(()=>{if(Ke(),et()){c(!0);return}const m=()=>{setTimeout(()=>{localStorage.getItem("pwa-install-dismissed")||r(!0)},3e3)},h=()=>{c(!0),r(!1),localStorage.removeItem("pwa-install-dismissed")};return window.addEventListener("pwa-install-available",m),window.addEventListener("pwa-installed",h),()=>{window.removeEventListener("pwa-install-available",m),window.removeEventListener("pwa-installed",h)}},[]);const s=async()=>{await Ye()&&(r(!1),c(!0))},l=()=>{r(!1),localStorage.setItem("pwa-install-dismissed","true")};return i||!a?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:max-w-md z-50 animate-in slide-in-from-bottom duration-300",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-2xl border border-gray-200 dark:border-gray-700 p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx($,{className:"w-6 h-6 text-white"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:"Installer Doogybook"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-3",children:"Installez l'application sur votre Ã©cran d'accueil pour un accÃ¨s rapide et une expÃ©rience optimale"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:s,className:"flex-1 bg-gradient-to-r from-purple-500 to-pink-500 text-white text-xs font-medium px-3 py-2 rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all flex items-center justify-center gap-1",children:[e.jsx(G,{className:"w-3 h-3"}),"Installer"]}),e.jsx("button",{onClick:l,className:"px-3 py-2 text-xs font-medium text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Plus tard"})]})]}),e.jsx("button",{onClick:l,className:"flex-shrink-0 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors","aria-label":"Fermer",children:e.jsx(H,{className:"w-4 h-4"})})]})})})};function rt(){return e.jsx(Qe,{children:e.jsxs(Ze,{children:[e.jsx(Ge,{}),e.jsx(tt,{})]})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(r=>{console.log("âœ… Service Worker enregistrÃ© avec succÃ¨s:",r.scope),setInterval(()=>{r.update()},60*60*1e3),r.addEventListener("updatefound",()=>{const i=r.installing;i.addEventListener("statechange",()=>{i.state==="installed"&&navigator.serviceWorker.controller&&(console.log("ðŸ”„ Nouvelle version disponible!"),confirm("Une nouvelle version est disponible. Voulez-vous recharger?")&&(i.postMessage({type:"SKIP_WAITING"}),window.location.reload()))})})}).catch(r=>{console.error("âŒ Ã‰chec de l'enregistrement du Service Worker:",r)});let a=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{a||(a=!0,window.location.reload())})});const st=document.getElementById("root"),ot=C(st);ot.render(e.jsx(N.StrictMode,{children:e.jsx(rt,{})}));export{y as I,n as _,dt as a,e as j,_ as s,ct as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/js/NotFound-COdyX5Dt.js","assets/js/vendor-react-DEK6ZklB.js","assets/js/Button-5ltFJX9w.js","assets/js/vendor-ui-Bo32stKt.js","assets/js/vendor-supabase-DfwcnzK-.js","assets/js/LandingPage-DRm2Gqm0.js","assets/js/index-NG-vLuIj.js","assets/js/AuthenticationShell-gTtiTwLg.js","assets/js/Input-BknJyq3e.js","assets/js/index-DGKhksAn.js","assets/js/index-1Ar5VAb3.js","assets/js/Checkbox-B8TR557e.js","assets/js/Select-BfNcImMH.js","assets/js/DashboardRedirect-Bb0rgRpW.js","assets/js/DogProfileRedirect-DkaPWmvW.js","assets/js/AdminDashboard-BMAKxZdM.js","assets/js/UserMenu-D6ezDJoX.js","assets/js/PremiumBadge-Djjyy8Qd.js","assets/js/Footer-D3Rbh1Fu.js","assets/js/UserDashboard-BPvwjcDJ.js","assets/js/TabNavigation-C0oTiztg.js","assets/js/CreateDogModal-D9hebzU7.js","assets/js/index-BecfnqPc.js","assets/js/PhotoGalleryModal-BRzg8nL4.js","assets/js/PremiumModal-CTgGYOlZ.js","assets/js/jspdf.es.min-BIAsmWau.js","assets/js/index-Dkn6C2--.js","assets/js/HybridDogProfile-Dg8NtfyB.js","assets/js/ClaimDogPage-CJK5YoUb.js","assets/js/index-12cw8wuF.js","assets/js/useNotifications-DwZ9LaYw.js","assets/js/index-DbzHgV5Z.js","assets/js/index-BPcUXKzS.js","assets/js/index-BRSnTmst.js","assets/js/Notifications-ZHavTeUM.js","assets/js/UserProfile-B-gIa6wy.js","assets/js/SubscriptionBadge-0WPjGjHG.js","assets/js/index-T3KR5yIr.js","assets/js/UserMenuPro-C2RJDjxr.js","assets/js/PublicAdoptionPage-BMxOKpaZ.js","assets/js/PublicDogDetail-C5ancKhH.js","assets/js/PremiumPage-BEuRlA-F.js","assets/js/RecipesPage-PtQg5Qh_.js","assets/js/RemindersPage-BOoJfh9I.js","assets/js/PhotoAlbumPage-DcynF6jB.js","assets/css/PhotoAlbumPage-D4Ypzfws.css","assets/js/ProRegistration-C7R6OPpC.js","assets/js/ProDashboard-CFwFUJk4.js","assets/js/TabNavigationPro-DZ6tXkSa.js","assets/js/ContactListModal-qH_kkr67.js","assets/js/ProSettings-C30GDg48.js","assets/js/ProDogManagement-B4lGX_FM.js","assets/js/ProDogDetail-CvJuF5KU.js","assets/js/ProDogsList-BCrZcTb3.js","assets/js/ProFosterFamilies-B9gFghtL.js","assets/js/ProApplications-7HNCJado.js","assets/js/InstagramGenerator-BfUi6pPO.js","assets/js/CRMContacts-GfXBmryS.js","assets/js/CRMContactDetail-D6e3jn_U.js","assets/js/CRMContactForm-BGZObNrt.js","assets/js/CGU-NHZRxUBO.js","assets/js/MentionsLegales-DfolK-Id.js","assets/js/PolitiqueConfidentialite-BY-H4NN8.js","assets/js/About-BYaRT2zK.js","assets/js/Contact-DzLKQT7X.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}