import{j as e,u as W,I as t}from"./index-DErj2e1l.js";import{d as G,r as m}from"./vendor-react-DEK6ZklB.js";import{a as I,X as q,ac as C,d as u}from"./vendor-ui-DyJst9CI.js";import{P as B}from"./PremiumBadge-bvXuw7BL.js";const H=({isOpen:d,onClose:n})=>{if(!d)return null;const c=()=>{window.open("https://www.buymeacoffee.com/TONPSEUDO","_blank")};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-card rounded-xl shadow-2xl max-w-md w-full overflow-hidden max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-500 to-orange-600 p-5 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-2 right-2 opacity-20",children:e.jsx(I,{size:80})}),e.jsx("button",{onClick:n,className:"absolute top-3 right-3 p-2 hover:bg-white/20 rounded-lg transition-smooth w-10 h-10 flex items-center justify-center","aria-label":"Fermer",children:e.jsx(q,{size:20})}),e.jsxs("div",{className:"relative pt-2",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center mb-3",children:e.jsx(C,{size:24,className:"text-white"})}),e.jsx("h2",{className:"text-xl font-heading font-bold mb-1",children:"Offrez-nous un cafÃ© â˜•"}),e.jsx("p",{className:"text-amber-100 text-xs",children:"Soutenez le dÃ©veloppement de Woofly"})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-5",children:[e.jsxs("p",{className:"text-foreground mb-4 leading-relaxed text-sm",children:["Woofly vous aide Ã  ",e.jsx("strong",{children:"gÃ©rer la santÃ©"})," de votre chien, suivre ses ",e.jsx("strong",{children:"vaccins"})," et ",e.jsx("strong",{children:"traitements"})," gratuitement. ðŸ•"]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-3 mb-4 border border-amber-100",children:[e.jsx("p",{className:"text-xs text-amber-900 font-medium mb-2",children:"Votre cafÃ© nous permet de :"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{size:16,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-amber-800",children:"AmÃ©liorer l'application"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{size:16,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-amber-800",children:"Ajouter de nouvelles fonctionnalitÃ©s"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{size:16,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-amber-800",children:"Garder Woofly gratuit pour vous"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(u,{size:16,className:"text-amber-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-amber-800",children:"Aider plus de propriÃ©taires de chiens"})]})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-blue-900",children:[e.jsx("strong",{children:"ðŸ’¡ 100% volontaire !"}),e.jsx("br",{}),"Aucune obligation. Si Woofly vous est utile, un petit cafÃ© nous motive Ã©normÃ©ment ! â˜•"]})})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:c,className:"w-full px-4 py-3.5 bg-gradient-to-r from-amber-500 to-orange-600 text-white rounded-lg font-bold hover:from-amber-600 hover:to-orange-700 transition-all flex items-center justify-center gap-2 shadow-lg min-h-[44px] active:scale-[0.98]",children:[e.jsx(C,{size:18}),"Offrir un cafÃ© (3â‚¬)"]}),e.jsx("button",{onClick:n,className:"w-full px-4 py-3 border-2 border-border rounded-lg font-medium hover:bg-muted transition-smooth min-h-[44px] active:bg-muted",children:"Peut-Ãªtre plus tard"})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"Merci pour votre soutien ! Chaque cafÃ© compte. ðŸ™"})]})]})})},K=({dogProfiles:d=[],currentDog:n,onDogChange:c})=>{var v,N,y;const l=G(),{user:r,signOut:z}=W(),[p,a]=m.useState(!1),[f,x]=m.useState(!1),[S,b]=m.useState(!1),[O,j]=m.useState(!1),g=m.useRef(null);m.useEffect(()=>{const s=o=>{g.current&&!g.current.contains(o.target)&&(a(!1),x(!1))};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[]);const A=s=>{l(`/dog-profile/${s.id}`),a(!1),x(!1),c&&c(s)},D=()=>{l("/settings"),a(!1)},E=()=>{l("/adoption"),a(!1)},P=()=>{l("/daily-tip"),a(!1)},U=()=>{l("/recipes"),a(!1)},_=()=>{l("/photo-album"),a(!1)},M=()=>{a(!1),navigator.share?navigator.share({title:"Doogybook - Gestion de votre chien",text:"DÃ©couvrez Doogybook, l'application complÃ¨te pour gÃ©rer la santÃ© et le bien-Ãªtre de votre chien !",url:"https://www.doogybook.com"}).catch(s=>{console.log("Erreur partage:",s)}):b(!0)},R=()=>{a(!1),j(!0)},T=async()=>{if(a(!1),!!window.confirm("ÃŠtes-vous sÃ»r de vouloir vous dÃ©connecter ?"))try{await z(),l("/login")}catch(o){console.error("Erreur dÃ©connexion:",o),alert("Erreur lors de la dÃ©connexion. Veuillez rÃ©essayer.")}},F=()=>{navigator.clipboard.writeText("https://www.doogybook.com"),alert("âœ… Lien copiÃ© dans le presse-papier !"),b(!1)},i=((v=r==null?void 0:r.user_metadata)==null?void 0:v.full_name)||((N=r==null?void 0:r.email)==null?void 0:N.split("@")[0])||"Utilisateur",L=(r==null?void 0:r.email)||"",h=((y=r==null?void 0:r.user_metadata)==null?void 0:y.avatar_url)||null,w=i.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{onClick:()=>a(!p),className:"flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-1.5 sm:py-2 bg-card border border-border rounded-full hover:bg-muted transition-smooth",children:[h?e.jsx("img",{src:h,alt:i,className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full object-cover"}):e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-xs sm:text-sm font-bold",children:w}),e.jsx("span",{className:"font-medium text-foreground hidden xs:inline text-xs sm:text-sm",children:i}),e.jsx(t,{name:p?"ChevronUp":"ChevronDown",size:14,className:"sm:w-4 sm:h-4 text-muted-foreground"})]}),p&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-card border border-border rounded-xl sm:rounded-2xl shadow-elevated z-[100] max-h-[80vh] overflow-y-auto",children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[h?e.jsx("img",{src:h,alt:i,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full object-cover"}):e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white text-base sm:text-lg font-bold",children:w}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-foreground truncate text-sm sm:text-base",children:i}),e.jsx("div",{className:"text-xs text-muted-foreground truncate",children:L})]})]})}),e.jsxs("div",{className:"p-1 sm:p-2",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>x(!f),className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-green-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"Dog",size:16,className:"sm:w-4 sm:h-4 text-green-600"})}),e.jsx("span",{className:"text-sm font-medium flex-1 text-left",children:"Mes chiens"}),e.jsx(t,{name:f?"ChevronUp":"ChevronDown",size:14,className:"sm:w-4 sm:h-4 text-muted-foreground flex-shrink-0"})]}),f&&e.jsxs("div",{className:"ml-10 sm:ml-12 mt-1 space-y-1",children:[d.length>0?e.jsx(e.Fragment,{children:d.map(s=>{var o,k;return e.jsxs("button",{onClick:()=>A(s),className:`w-full flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg transition-smooth text-xs sm:text-sm ${(n==null?void 0:n.id)===s.id?"bg-primary/10 text-primary font-medium":"hover:bg-muted text-foreground"}`,children:[s.photo_url?e.jsx("img",{src:s.photo_url,alt:s.name,className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-gradient-to-br from-green-400 to-blue-500 flex items-center justify-center text-white text-xs font-bold flex-shrink-0",children:(k=(o=s.name)==null?void 0:o.charAt(0))==null?void 0:k.toUpperCase()}),e.jsx("span",{className:"flex-1 text-left truncate",children:s.name}),(n==null?void 0:n.id)===s.id&&e.jsx(t,{name:"Check",size:12,className:"sm:w-3 sm:h-3 text-primary flex-shrink-0"})]},s.id)})}):e.jsx("div",{className:"px-2 sm:px-3 py-1.5 text-xs text-muted-foreground",children:"Aucun chien enregistrÃ©"}),e.jsxs("button",{onClick:()=>{l("/multi-profile-management"),a(!1),x(!1)},className:"w-full flex items-center gap-2 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg hover:bg-muted transition-smooth text-xs sm:text-sm text-muted-foreground",children:[e.jsx(t,{name:"Plus",size:14,className:"sm:w-4 sm:h-4"}),e.jsx("span",{children:"GÃ©rer mes chiens"})]})]})]}),e.jsxs("button",{onClick:D,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-gray-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"Settings",size:16,className:"sm:w-4 sm:h-4 text-gray-600"})}),e.jsx("span",{className:"text-sm font-medium",children:"ParamÃ¨tres"})]})]}),e.jsx("div",{className:"border-t border-border"}),e.jsxs("div",{className:"p-1 sm:p-2",children:[e.jsxs("button",{onClick:E,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-pink-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"Heart",size:16,className:"sm:w-4 sm:h-4 text-pink-600"})}),e.jsx("span",{className:"text-sm font-medium",children:"Adoption"})]}),e.jsxs("button",{onClick:P,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-blue-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"BookOpen",size:16,className:"sm:w-4 sm:h-4 text-blue-600"})}),e.jsx("span",{className:"text-sm font-medium",children:"Conseils quotidiens"})]}),e.jsxs("button",{onClick:U,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-orange-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"ChefHat",size:16,className:"sm:w-4 sm:h-4 text-orange-600"})}),e.jsx("span",{className:"text-sm font-medium",children:"Recettes"})]}),e.jsxs("button",{onClick:_,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-purple-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"Camera",size:16,className:"sm:w-4 sm:h-4 text-purple-600"})}),e.jsx("span",{className:"text-sm font-medium flex-1 text-left",children:"CrÃ©er votre album photo"}),e.jsx(B,{size:"sm",variant:"minimal"})]})]}),e.jsx("div",{className:"border-t border-border"}),e.jsx("div",{className:"p-1 sm:p-2",children:e.jsxs("button",{onClick:M,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-muted transition-smooth text-foreground",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-indigo-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"Share2",size:16,className:"sm:w-4 sm:h-4 text-indigo-600"})}),e.jsx("span",{className:"text-sm font-medium",children:"Partager l'app"})]})}),e.jsx("div",{className:"border-t border-border"}),e.jsx("div",{className:"p-1 sm:p-2",children:e.jsxs("button",{onClick:R,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-amber-50 transition-smooth text-foreground group",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-amber-100 rounded-full flex-shrink-0",children:e.jsx(t,{name:"Coffee",size:16,className:"sm:w-4 sm:h-4 text-amber-600"})}),e.jsx("span",{className:"text-sm font-medium text-amber-700 group-hover:text-amber-800",children:"Offrir un cafÃ©"})]})}),e.jsx("div",{className:"border-t border-border"}),e.jsx("div",{className:"p-1 sm:p-2",children:e.jsxs("button",{onClick:T,className:"w-full flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 sm:py-2.5 rounded-lg hover:bg-destructive/10 transition-smooth text-destructive",children:[e.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 flex items-center justify-center bg-destructive/10 rounded-full flex-shrink-0",children:e.jsx(t,{name:"LogOut",size:16,className:"sm:w-4 sm:h-4 text-destructive"})}),e.jsx("span",{className:"text-sm font-medium",children:"DÃ©connexion"})]})})]})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-3 sm:p-4",children:e.jsxs("div",{className:"bg-card rounded-xl sm:rounded-2xl shadow-elevated max-w-sm sm:max-w-md w-full p-4 sm:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-heading font-semibold text-foreground",children:"Partager Doogybook"}),e.jsx("button",{onClick:()=>b(!1),className:"text-muted-foreground hover:text-foreground transition-smooth",children:e.jsx(t,{name:"X",size:20,className:"sm:w-6 sm:h-6"})})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3 sm:mb-4",children:"Partagez Doogybook avec d'autres propriÃ©taires de chiens !"}),e.jsxs("div",{className:"flex items-center gap-2 p-2 sm:p-3 bg-muted rounded-lg sm:rounded-xl mb-3 sm:mb-4",children:[e.jsx("input",{type:"text",value:"https://www.doogybook.com",readOnly:!0,className:"flex-1 bg-transparent text-xs sm:text-sm text-foreground outline-none"}),e.jsx("button",{onClick:F,className:"px-2 sm:px-3 py-1.5 bg-primary text-primary-foreground rounded-lg text-xs sm:text-sm font-medium hover:bg-primary/90 transition-smooth whitespace-nowrap",children:"Copier"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>window.open("https://www.facebook.com/sharer/sharer.php?u=https://www.doogybook.com","_blank"),className:"flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-blue-600 text-white rounded-lg sm:rounded-xl hover:bg-blue-700 transition-smooth",children:e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Facebook"})}),e.jsx("button",{onClick:()=>window.open("https://twitter.com/intent/tweet?text=DÃ©couvrez Doogybook&url=https://www.doogybook.com","_blank"),className:"flex-1 flex items-center justify-center gap-2 px-3 sm:px-4 py-2 sm:py-2.5 bg-sky-500 text-white rounded-lg sm:rounded-xl hover:bg-sky-600 transition-smooth",children:e.jsx("span",{className:"text-xs sm:text-sm font-medium",children:"Twitter"})})]})]})}),e.jsx(H,{isOpen:O,onClose:()=>j(!1)})]})};export{K as U};
