import{j as e,I as v,s as R,u as T}from"./index-Dh6AIfoG.js";import{r as p,d as H}from"./vendor-react-DEK6ZklB.js";import{U as Y}from"./UserMenu-D6ezDJoX.js";import{B as E}from"./Button-5ltFJX9w.js";import{C as X}from"./Checkbox-B8TR557e.js";import{I}from"./Input-BknJyq3e.js";import{S as L}from"./Select-BfNcImMH.js";import{F as f}from"./Footer-D3Rbh1Fu.js";import"./vendor-ui-Bo32stKt.js";import"./vendor-supabase-DfwcnzK-.js";import"./PremiumBadge-Djjyy8Qd.js";function J({src:n,alt:u="Image Name",className:i="",...t}){return e.jsx("img",{src:n,alt:u,className:i,onError:b=>{b.target.src="/assets/images/no_image.png"},...t})}const K=({profile:n,isActive:u,onSelect:i,onEdit:t})=>{var c,N,y;const b=d=>{switch(d){case"excellent":return"text-success bg-success/10";case"good":return"text-primary bg-primary/10";case"attention":return"text-warning bg-warning/10";default:return"text-muted-foreground bg-muted"}},l=d=>{switch(d){case"excellent":return"Excellent";case"good":return"Bon";case"attention":return"Attention requise";default:return"Non dÃ©fini"}};return e.jsxs("div",{className:`relative bg-card rounded-lg shadow-soft hover:shadow-elevated transition-smooth overflow-hidden ${u?"ring-2 ring-primary":""}`,children:[u&&e.jsxs("div",{className:"absolute top-3 right-3 z-10 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx(v,{name:"Check",size:14}),e.jsx("span",{children:"Actif"})]}),e.jsxs("div",{onClick:i,className:"cursor-pointer",role:"button",tabIndex:0,onKeyDown:d=>{((d==null?void 0:d.key)==="Enter"||(d==null?void 0:d.key)===" ")&&(d==null||d.preventDefault(),i())},"aria-label":`SÃ©lectionner le profil de ${n==null?void 0:n.name}`,children:[e.jsx("div",{className:"aspect-[4/3] overflow-hidden bg-muted",children:e.jsx(J,{src:n==null?void 0:n.image,alt:n==null?void 0:n.imageAlt,className:"w-full h-full object-cover hover:scale-105 transition-smooth"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground truncate mb-1",children:n==null?void 0:n.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n==null?void 0:n.breed})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{name:"Calendar",size:16,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:n==null?void 0:n.age})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{name:"Weight",size:16,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:n==null?void 0:n.weight})]})]}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${b(n==null?void 0:n.healthStatus)}`,children:l(n==null?void 0:n.healthStatus)})}),(n==null?void 0:n.upcomingReminders)&&((c=n==null?void 0:n.upcomingReminders)==null?void 0:c.length)>0&&e.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-md p-2 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(v,{name:"Bell",size:14,className:"text-warning mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-warning mb-1",children:"Rappels Ã  venir"}),(y=(N=n==null?void 0:n.upcomingReminders)==null?void 0:N.slice(0,2))==null?void 0:y.map((d,w)=>e.jsxs("p",{className:"text-xs text-foreground truncate",children:["â€¢ ",d]},w))]})]})}),(n==null?void 0:n.recentActivity)&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx(v,{name:"Activity",size:12,className:"inline mr-1"}),n==null?void 0:n.recentActivity]})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(E,{variant:"outline",size:"sm",fullWidth:!0,iconName:"Edit",iconPosition:"left",onClick:d=>{d==null||d.stopPropagation(),t()},children:"Modifier le profil"})})]})},Q=({onClick:n})=>e.jsxs("button",{onClick:n,className:"bg-card rounded-lg shadow-soft hover:shadow-elevated active:scale-98 transition-smooth overflow-hidden border-2 border-dashed border-border hover:border-primary group h-full min-h-[280px] sm:min-h-[400px] flex flex-col items-center justify-center p-4 sm:p-6 min-w-0","aria-label":"Ajouter un nouveau profil de chien",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-smooth flex items-center justify-center mb-3 sm:mb-4",children:e.jsx(v,{name:"Plus",size:32,className:"text-primary sm:w-10 sm:h-10"})}),e.jsx("h3",{className:"text-base sm:text-lg font-heading font-semibold text-foreground mb-1.5 sm:mb-2",children:"Ajouter un chien"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center max-w-[180px] sm:max-w-[200px] leading-relaxed",children:"CrÃ©ez un nouveau profil pour un autre membre de votre famille"})]}),Z=({selectedCount:n,onClearSelection:u,onScheduleVisit:i,onUpdateMedication:t})=>n===0?null:e.jsxs("div",{className:"fixed bottom-20 lg:bottom-4 left-4 right-4 lg:left-auto lg:right-4 lg:max-w-md bg-card border border-border rounded-lg shadow-elevated p-4 z-50 animate-in slide-in-from-bottom-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-primary",children:n})}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:n===1?"chien sÃ©lectionnÃ©":"chiens sÃ©lectionnÃ©s"})]}),e.jsx("button",{onClick:u,className:"text-muted-foreground hover:text-foreground transition-smooth","aria-label":"DÃ©sÃ©lectionner tous",children:e.jsx(v,{name:"X",size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",iconName:"Calendar",iconPosition:"left",onClick:i,children:"Visite vÃ©tÃ©rinaire"}),e.jsx(E,{variant:"outline",size:"sm",iconName:"Pill",iconPosition:"left",onClick:t,children:"MÃ©dicaments"})]})]}),D=({searchQuery:n,onSearchChange:u,filterBreed:i,onFilterChange:t,breeds:b})=>e.jsx("div",{className:"bg-card rounded-lg shadow-soft p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(I,{type:"search",placeholder:"Rechercher un chien par nom...",value:n,onChange:l=>{var c;return u((c=l==null?void 0:l.target)==null?void 0:c.value)},className:"pl-10"}),e.jsx(v,{name:"Search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"})]}),e.jsx(L,{placeholder:"Filtrer par race",options:b,value:i,onChange:t,clearable:!0})]})}),ee=({onAddDog:n})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:e.jsx(v,{name:"Dog",size:48,className:"text-primary"})}),e.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:"Aucun chien trouvÃ©"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:"Commencez par ajouter le profil de votre premier compagnon Ã  quatre pattes"}),e.jsx(E,{variant:"default",iconName:"Plus",iconPosition:"left",onClick:n,children:"Ajouter mon premier chien"})]}),te=({isOpen:n,onClose:u,onSubmit:i})=>{const[t,b]=p.useState({name:"",breed:"",age:"",ageUnit:"years",weight:"",gender:"",isSterilized:"no",image:""}),[l,c]=p.useState({}),[N,y]=p.useState(!1),[d,w]=p.useState(null),O=[{value:"malinois",label:"Malinois"},{value:"shih-tzu",label:"Shih-Tzu"},{value:"american-bully",label:"American Bully"},{value:"labrador",label:"Labrador"},{value:"golden-retriever",label:"Golden Retriever"},{value:"berger-allemand",label:"Berger Allemand"},{value:"bouledogue-francais",label:"Bouledogue FranÃ§ais"},{value:"chihuahua",label:"Chihuahua"},{value:"husky",label:"Husky SibÃ©rien"},{value:"beagle",label:"Beagle"},{value:"mixed",label:"Race mixte"},{value:"other",label:"Autre"}],P=[{value:"months",label:"Mois"},{value:"years",label:"Ans"}],M=[{value:"male",label:"MÃ¢le"},{value:"female",label:"Femelle"}],U=[{value:"yes",label:"Oui"},{value:"no",label:"Non"}],k=(a,r)=>{b(m=>({...m,[a]:r})),l!=null&&l[a]&&c(m=>({...m,[a]:""}))},V=a=>{var m;const r=(m=a.target.files)==null?void 0:m[0];if(r){if(!r.type.startsWith("image/")){c(x=>({...x,photo:"Veuillez sÃ©lectionner une image"}));return}if(r.size>5*1024*1024){c(x=>({...x,photo:"L'image ne doit pas dÃ©passer 5 MB"}));return}w(r),c(x=>({...x,photo:""}));const j=new FileReader;j.onloadend=()=>{b(x=>({...x,image:j.result}))},j.readAsDataURL(r)}},$=async a=>{if(!d)return{success:!0,url:null};try{const r=d.name.split(".").pop(),m=`${a}/${Date.now()}.${r}`;console.log("ðŸ“¸ Upload photo vers:",m);const{data:j,error:x}=await R.storage.from("dog-photos").upload(m,d,{cacheControl:"3600",upsert:!1});if(x)return console.error("âŒ Erreur upload photo:",x),{success:!1,error:x.message||"Erreur lors de l'upload de la photo"};console.log("âœ… Photo uploadÃ©e:",j);const{data:_}=R.storage.from("dog-photos").getPublicUrl(m);return console.log("ðŸ”— URL publique:",_.publicUrl),{success:!0,url:_.publicUrl}}catch(r){return console.error("âŒ Erreur upload:",r),{success:!1,error:"Une erreur inattendue est survenue lors de l'upload"}}},W=()=>{var r,m,j,x;const a={};return(r=t==null?void 0:t.name)!=null&&r.trim()||(a.name="Le nom est requis"),t!=null&&t.breed||(a.breed="La race est requise"),t!=null&&t.gender||(a.gender="Le sexe est requis"),(m=t==null?void 0:t.age)!=null&&m.trim()?isNaN(t==null?void 0:t.age)||(t==null?void 0:t.age)<0?a.age="Veuillez entrer un nombre valide":(t==null?void 0:t.ageUnit)==="years"&&(t==null?void 0:t.age)>30?a.age="L'Ã¢ge maximum est de 30 ans":(t==null?void 0:t.ageUnit)==="months"&&(t==null?void 0:t.age)>360&&(a.age="L'Ã¢ge maximum est de 360 mois"):a.age="L'Ã¢ge est requis",(j=t==null?void 0:t.weight)!=null&&j.trim()?isNaN(t==null?void 0:t.weight)||(t==null?void 0:t.weight)<=0?a.weight="Veuillez entrer un poids valide":(t==null?void 0:t.weight)>100&&(a.weight="Le poids maximum est de 100 kg"):a.weight="Le poids est requis",c(a),((x=Object.keys(a))==null?void 0:x.length)===0},S=async a=>{if(a==null||a.preventDefault(),!!W()){y(!0);try{let r=null;if(d){const{data:{user:m}}=await R.auth.getUser(),j=await $(m==null?void 0:m.id);if(!j.success){alert(`âŒ Erreur d'upload de la photo: ${j.error}`),y(!1);return}r=j.url}i({name:t.name.trim(),breed:t.breed,age:parseFloat(t.age),ageUnit:t.ageUnit,weight:parseFloat(t.weight),gender:t.gender,isSterilized:t.isSterilized==="yes",image:r||t.image.trim()||null}),b({name:"",breed:"",age:"",ageUnit:"years",weight:"",gender:"",isSterilized:"no",image:""}),w(null),c({})}catch(r){console.error("Erreur soumission:",r),alert("Une erreur est survenue lors de l'ajout du chien")}finally{y(!1)}}},q=()=>{b({name:"",breed:"",age:"",ageUnit:"years",weight:"",gender:"",isSterilized:"no",image:""}),w(null),c({}),u()};return n?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-card rounded-lg shadow-elevated max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-xl font-heading font-semibold text-foreground",children:"Ajouter un nouveau chien"}),e.jsx("button",{onClick:q,className:"text-muted-foreground hover:text-foreground transition-smooth","aria-label":"Fermer",children:e.jsx(v,{name:"X",size:24})})]}),e.jsxs("form",{onSubmit:S,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Photo du chien"}),t.image&&e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-3",children:[e.jsx("img",{src:t.image,alt:"AperÃ§u",className:"w-full h-full object-cover rounded-full border-2 border-border"}),e.jsx("button",{type:"button",onClick:()=>{b(a=>({...a,image:""})),w(null)},className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1 hover:bg-destructive/90",children:e.jsx(v,{name:"X",size:16})})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:V,className:"hidden"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-muted cursor-pointer transition-smooth",children:[e.jsx(v,{name:"Upload",size:20}),e.jsx("span",{className:"text-sm",children:d?"Changer la photo":"Choisir une photo"})]})]})}),(l==null?void 0:l.photo)&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:l.photo}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: JPG, PNG, WEBP â€¢ Max: 5 MB"})]}),e.jsx(I,{label:"Nom du chien",type:"text",placeholder:"Ex: Max, Luna, Rocky...",value:t==null?void 0:t.name,onChange:a=>{var r;return k("name",(r=a==null?void 0:a.target)==null?void 0:r.value)},error:l==null?void 0:l.name,required:!0}),e.jsx(L,{label:"Race",placeholder:"SÃ©lectionnez une race",options:O,value:t==null?void 0:t.breed,onChange:a=>k("breed",a),error:l==null?void 0:l.breed,required:!0,searchable:!0}),e.jsx(L,{label:"Sexe",placeholder:"SÃ©lectionnez le sexe",options:M,value:t==null?void 0:t.gender,onChange:a=>k("gender",a),error:l==null?void 0:l.gender,required:!0}),e.jsx(L,{label:"StÃ©rilisÃ©(e)",options:U,value:t==null?void 0:t.isSterilized,onChange:a=>k("isSterilized",a),required:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground",children:["Ã‚ge ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(I,{type:"number",placeholder:"Ex: 2",value:t==null?void 0:t.age,onChange:a=>{var r;return k("age",(r=a==null?void 0:a.target)==null?void 0:r.value)},min:"0",max:(t==null?void 0:t.ageUnit)==="years"?"30":"360",step:"0.1",required:!0}),e.jsx(L,{options:P,value:t==null?void 0:t.ageUnit,onChange:a=>k("ageUnit",a),required:!0})]}),(l==null?void 0:l.age)&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:l.age})]}),e.jsx(I,{label:"Poids (kg)",type:"number",placeholder:"Ex: 25 ou 8.5",value:t==null?void 0:t.weight,onChange:a=>{var r;return k("weight",(r=a==null?void 0:a.target)==null?void 0:r.value)},error:l==null?void 0:l.weight,min:"0",max:"100",step:"0.1",required:!0}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(E,{type:"button",variant:"outline",fullWidth:!0,onClick:q,disabled:N,children:"Annuler"}),e.jsx(E,{type:"submit",variant:"default",fullWidth:!0,iconName:N?"Loader":"Check",iconPosition:"left",disabled:N,children:N?"Ajout en cours...":"Ajouter"})]})]})]})}):null},me=()=>{const n=H(),{user:u}=T(),[i,t]=p.useState([]),[b,l]=p.useState(null),[c,N]=p.useState([]),[y,d]=p.useState(""),[w,O]=p.useState(""),[P,M]=p.useState(!1),[U,k]=p.useState(!1),[V,$]=p.useState(!0);p.useEffect(()=>{if(!(u!=null&&u.id))return;(async()=>{$(!0);try{const{data:h,error:C}=await R.from("dogs").select("*").eq("user_id",u.id).eq("is_active",!0).order("created_at",{ascending:!1});if(C)console.error("Erreur chargement chiens:",C),t([]);else{const o=h.map(g=>{const A=new Date(g.birth_date),z=new Date;let B=z.getFullYear()-A.getFullYear();const F=z.getMonth()-A.getMonth();return(F<0||F===0&&z.getDate()<A.getDate())&&B--,{id:g.id,name:g.name,breed:g.breed||"Race inconnue",age:B>0?`${B} an${B>1?"s":""}`:"Moins d'un an",weight:g.weight?`${g.weight} kg`:"Non renseignÃ©",image:g.photo_url||"https://images.pexels.com/photos/1490908/pexels-photo-1490908.jpeg",imageAlt:`${g.name} - ${g.breed}`,healthStatus:"good",upcomingReminders:[],recentActivity:`DerniÃ¨re mise Ã  jour le ${new Date(g.updated_at).toLocaleDateString("fr-FR")}`}});t(o),o.length>0&&!b&&l(o[0].id)}}catch(h){console.error("Erreur:",h),t([])}finally{$(!1)}})()},[u==null?void 0:u.id]);const W=[{value:"",label:"Toutes les races"},{value:"malinois",label:"Malinois"},{value:"shih-tzu",label:"Shih-Tzu"},{value:"american-bully",label:"American Bully"},{value:"labrador",label:"Labrador"},{value:"bouledogue-francais",label:"Bouledogue FranÃ§ais"},{value:"golden-retriever",label:"Golden Retriever"},{value:"berger-allemand",label:"Berger Allemand"},{value:"chihuahua",label:"Chihuahua"},{value:"husky",label:"Husky SibÃ©rien"},{value:"beagle",label:"Beagle"},{value:"mixed",label:"Race Mixte"},{value:"other",label:"Autre"}],S=i==null?void 0:i.filter(s=>{var o,g,A,z;const h=(g=(o=s==null?void 0:s.name)==null?void 0:o.toLowerCase())==null?void 0:g.includes(y==null?void 0:y.toLowerCase()),C=!w||((z=(A=s==null?void 0:s.breed)==null?void 0:A.toLowerCase())==null?void 0:z.replace(/\s+/g,"-"))===w;return h&&C}),q=s=>{U?N(h=>h!=null&&h.includes(s)?h==null?void 0:h.filter(C=>C!==s):[...h,s]):(l(s),n("/dog-profile"))},a=s=>{l(s),n("/dog-profile")},r=s=>{l(s==null?void 0:s.id)},m=async s=>{try{const C=((z,B)=>{const F=new Date;let G=new Date(F);return B==="years"?G.setFullYear(F.getFullYear()-parseInt(z)):G.setMonth(F.getMonth()-parseInt(z)),G.toISOString().split("T")[0]})((s==null?void 0:s.age)||0,(s==null?void 0:s.ageUnit)||"years"),{data:o,error:g}=await R.from("dogs").insert([{user_id:u==null?void 0:u.id,name:s==null?void 0:s.name,breed:s==null?void 0:s.breed,birth_date:C,weight:s!=null&&s.weight?parseFloat(s.weight):null,gender:s==null?void 0:s.gender,is_sterilized:s==null?void 0:s.isSterilized,photo_url:(s==null?void 0:s.image)||null,is_active:!0}]).select().single();if(g){console.error("Erreur ajout chien:",g),alert("Erreur lors de l'ajout du chien. Veuillez rÃ©essayer.");return}const A={id:o.id,name:o.name,breed:o.breed||"Race inconnue",age:(s==null?void 0:s.ageUnit)==="years"?`${s.age} an${s.age>1?"s":""}`:`${s.age} mois`,weight:o.weight?`${o.weight} kg`:"Non renseignÃ©",image:o.photo_url||"https://images.pexels.com/photos/1490908/pexels-photo-1490908.jpeg",imageAlt:`${o.name} - ${o.breed}`,healthStatus:"good",upcomingReminders:[],recentActivity:"Profil crÃ©Ã© Ã  l'instant"};t(z=>[...z,A]),M(!1),alert(`âœ… ${o.name} a Ã©tÃ© ajoutÃ© avec succÃ¨s !`)}catch(h){console.error("Erreur:",h),alert("Une erreur inattendue s'est produite.")}},j=()=>{alert(`Planification d'une visite vÃ©tÃ©rinaire pour ${c==null?void 0:c.length} chien(s)`)},x=()=>{alert(`Mise Ã  jour des mÃ©dicaments pour ${c==null?void 0:c.length} chien(s)`)},_=i==null?void 0:i.find(s=>(s==null?void 0:s.id)===b);return V?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de vos chiens..."})]})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-card border-b border-border shadow-soft",children:e.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n("/dog-profile"),className:"text-muted-foreground hover:text-foreground transition-smooth","aria-label":"Retour",children:e.jsx(v,{name:"ArrowLeft",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-heading font-semibold text-foreground",children:"Gestion des profils"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i==null?void 0:i.length," ",(i==null?void 0:i.length)===1?"chien enregistrÃ©":"chiens enregistrÃ©s"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(i==null?void 0:i.length)>0&&e.jsx(Y,{dogProfiles:i,currentDog:_,onDogChange:r}),(i==null?void 0:i.length)>0&&e.jsx(E,{variant:U?"default":"outline",size:"sm",iconName:"CheckSquare",iconPosition:"left",onClick:()=>{k(!U),N([])},children:e.jsx("span",{className:"hidden lg:inline",children:U?"Terminer":"SÃ©lection"})})]})]}),(i==null?void 0:i.length)>0&&e.jsx(D,{searchQuery:y,onSearchChange:d,filterBreed:w,onFilterChange:O,breeds:W})]})}),e.jsx("main",{className:"max-w-screen-xl mx-auto px-4 py-6",children:(S==null?void 0:S.length)===0&&!y&&!w?e.jsx(ee,{onAddDog:()=>M(!0)}):(S==null?void 0:S.length)===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(v,{name:"Search",size:48,className:"text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-2",children:"Aucun rÃ©sultat"}),e.jsx("p",{className:"text-muted-foreground",children:"Essayez de modifier vos critÃ¨res de recherche"})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[S==null?void 0:S.map(s=>e.jsxs("div",{className:"relative",children:[U&&e.jsx("div",{className:"absolute top-3 left-3 z-20",children:e.jsx(X,{checked:c==null?void 0:c.includes(s==null?void 0:s.id),onChange:h=>{var C;(C=h==null?void 0:h.target)!=null&&C.checked?N(o=>[...o,s==null?void 0:s.id]):N(o=>o==null?void 0:o.filter(g=>g!==(s==null?void 0:s.id)))},size:"lg",className:"bg-card shadow-elevated"})}),e.jsx(K,{profile:s,isActive:(s==null?void 0:s.id)===b,onSelect:()=>q(s==null?void 0:s.id),onEdit:()=>a(s==null?void 0:s.id)})]},s==null?void 0:s.id)),e.jsx(Q,{onClick:()=>M(!0)})]})}),e.jsx(Z,{selectedCount:c==null?void 0:c.length,onClearSelection:()=>N([]),onScheduleVisit:j,onUpdateMedication:x}),e.jsx(te,{isOpen:P,onClose:()=>M(!1),onSubmit:m}),e.jsx(f,{})]})};export{me as default};
