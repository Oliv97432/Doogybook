import{j as e,I as j,s as $,u as T}from"./index-D6tTS0JU.js";import{r as N,d as H}from"./vendor-react-DEK6ZklB.js";import{U as Y}from"./UserMenu-Kw0ge_Ud.js";import{B as E}from"./Button-Da_rwzCy.js";import{S as L,C as X}from"./Select-BEEDTHf8.js";import{I as _}from"./Input-DYx5E6Bw.js";import{F as J}from"./Footer-Bx6mGdA4.js";import"./vendor-ui-DSVO5Hq3.js";import"./vendor-supabase-DfwcnzK-.js";function K({src:n,alt:o="Image Name",className:l="",...t}){return e.jsx("img",{src:n,alt:o,className:l,onError:x=>{x.target.src="/assets/images/no_image.png"},...t})}const Q=({profile:n,isActive:o,onSelect:l,onEdit:t})=>{var c,v,p;const x=d=>{switch(d){case"excellent":return"text-success bg-success/10";case"good":return"text-primary bg-primary/10";case"attention":return"text-warning bg-warning/10";default:return"text-muted-foreground bg-muted"}},i=d=>{switch(d){case"excellent":return"Excellent";case"good":return"Bon";case"attention":return"Attention requise";default:return"Non défini"}};return e.jsxs("div",{className:`relative bg-card rounded-lg shadow-soft hover:shadow-elevated transition-smooth overflow-hidden ${o?"ring-2 ring-primary":""}`,children:[o&&e.jsxs("div",{className:"absolute top-3 right-3 z-10 bg-primary text-primary-foreground px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx(j,{name:"Check",size:14}),e.jsx("span",{children:"Actif"})]}),e.jsxs("div",{onClick:l,className:"cursor-pointer",role:"button",tabIndex:0,onKeyDown:d=>{((d==null?void 0:d.key)==="Enter"||(d==null?void 0:d.key)===" ")&&(d==null||d.preventDefault(),l())},"aria-label":`Sélectionner le profil de ${n==null?void 0:n.name}`,children:[e.jsx("div",{className:"aspect-[4/3] overflow-hidden bg-muted",children:e.jsx(K,{src:n==null?void 0:n.image,alt:n==null?void 0:n.imageAlt,className:"w-full h-full object-cover hover:scale-105 transition-smooth"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground truncate mb-1",children:n==null?void 0:n.name}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n==null?void 0:n.breed})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{name:"Calendar",size:16,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:n==null?void 0:n.age})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{name:"Weight",size:16,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:n==null?void 0:n.weight})]})]}),e.jsx("div",{className:"flex items-center gap-2 mb-3",children:e.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium ${x(n==null?void 0:n.healthStatus)}`,children:i(n==null?void 0:n.healthStatus)})}),(n==null?void 0:n.upcomingReminders)&&((c=n==null?void 0:n.upcomingReminders)==null?void 0:c.length)>0&&e.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-md p-2 mb-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(j,{name:"Bell",size:14,className:"text-warning mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-warning mb-1",children:"Rappels à venir"}),(p=(v=n==null?void 0:n.upcomingReminders)==null?void 0:v.slice(0,2))==null?void 0:p.map((d,y)=>e.jsxs("p",{className:"text-xs text-foreground truncate",children:["• ",d]},y))]})]})}),(n==null?void 0:n.recentActivity)&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx(j,{name:"Activity",size:12,className:"inline mr-1"}),n==null?void 0:n.recentActivity]})]})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(E,{variant:"outline",size:"sm",fullWidth:!0,iconName:"Edit",iconPosition:"left",onClick:d=>{d==null||d.stopPropagation(),t()},children:"Modifier le profil"})})]})},Z=({onClick:n})=>e.jsxs("button",{onClick:n,className:"bg-card rounded-lg shadow-soft hover:shadow-elevated active:scale-98 transition-smooth overflow-hidden border-2 border-dashed border-border hover:border-primary group h-full min-h-[280px] sm:min-h-[400px] flex flex-col items-center justify-center p-4 sm:p-6 min-w-0","aria-label":"Ajouter un nouveau profil de chien",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-primary/10 group-hover:bg-primary/20 transition-smooth flex items-center justify-center mb-3 sm:mb-4",children:e.jsx(j,{name:"Plus",size:32,className:"text-primary sm:w-10 sm:h-10"})}),e.jsx("h3",{className:"text-base sm:text-lg font-heading font-semibold text-foreground mb-1.5 sm:mb-2",children:"Ajouter un chien"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground text-center max-w-[180px] sm:max-w-[200px] leading-relaxed",children:"Créez un nouveau profil pour un autre membre de votre famille"})]}),f=({selectedCount:n,onClearSelection:o,onScheduleVisit:l,onUpdateMedication:t})=>n===0?null:e.jsxs("div",{className:"fixed bottom-20 lg:bottom-4 left-4 right-4 lg:left-auto lg:right-4 lg:max-w-md bg-card border border-border rounded-lg shadow-elevated p-4 z-50 animate-in slide-in-from-bottom-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-semibold text-primary",children:n})}),e.jsx("span",{className:"text-sm font-medium text-foreground",children:n===1?"chien sélectionné":"chiens sélectionnés"})]}),e.jsx("button",{onClick:o,className:"text-muted-foreground hover:text-foreground transition-smooth","aria-label":"Désélectionner tous",children:e.jsx(j,{name:"X",size:20})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(E,{variant:"outline",size:"sm",iconName:"Calendar",iconPosition:"left",onClick:l,children:"Visite vétérinaire"}),e.jsx(E,{variant:"outline",size:"sm",iconName:"Pill",iconPosition:"left",onClick:t,children:"Médicaments"})]})]}),D=({searchQuery:n,onSearchChange:o,filterBreed:l,onFilterChange:t,breeds:x})=>e.jsx("div",{className:"bg-card rounded-lg shadow-soft p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(_,{type:"search",placeholder:"Rechercher un chien par nom...",value:n,onChange:i=>{var c;return o((c=i==null?void 0:i.target)==null?void 0:c.value)},className:"pl-10"}),e.jsx(j,{name:"Search",size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"})]}),e.jsx(L,{placeholder:"Filtrer par race",options:x,value:l,onChange:t,clearable:!0})]})}),ee=({onAddDog:n})=>e.jsxs("div",{className:"flex flex-col items-center justify-center py-16 px-4",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:e.jsx(j,{name:"Dog",size:48,className:"text-primary"})}),e.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:"Aucun chien trouvé"}),e.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:"Commencez par ajouter le profil de votre premier compagnon à quatre pattes"}),e.jsx(E,{variant:"default",iconName:"Plus",iconPosition:"left",onClick:n,children:"Ajouter mon premier chien"})]}),te=({isOpen:n,onClose:o,onSubmit:l})=>{const[t,x]=N.useState({name:"",breed:"",age:"",ageUnit:"years",weight:"",gender:"",isSterilized:"no",image:""}),[i,c]=N.useState({}),[v,p]=N.useState(!1),[d,y]=N.useState(null),I=[{value:"malinois",label:"Malinois"},{value:"shih-tzu",label:"Shih-Tzu"},{value:"american-bully",label:"American Bully"},{value:"labrador",label:"Labrador"},{value:"golden-retriever",label:"Golden Retriever"},{value:"berger-allemand",label:"Berger Allemand"},{value:"bouledogue-francais",label:"Bouledogue Français"},{value:"chihuahua",label:"Chihuahua"},{value:"husky",label:"Husky Sibérien"},{value:"beagle",label:"Beagle"},{value:"mixed",label:"Race mixte"},{value:"other",label:"Autre"}],O=[{value:"months",label:"Mois"},{value:"years",label:"Ans"}],U=[{value:"male",label:"Mâle"},{value:"female",label:"Femelle"}],M=[{value:"yes",label:"Oui"},{value:"no",label:"Non"}],z=(a,r)=>{x(m=>({...m,[a]:r})),i!=null&&i[a]&&c(m=>({...m,[a]:""}))},P=a=>{var m;const r=(m=a.target.files)==null?void 0:m[0];if(r){if(!r.type.startsWith("image/")){c(b=>({...b,photo:"Veuillez sélectionner une image"}));return}if(r.size>5*1024*1024){c(b=>({...b,photo:"L'image ne doit pas dépasser 5 MB"}));return}y(r),c(b=>({...b,photo:""}));const k=new FileReader;k.onloadend=()=>{x(b=>({...b,image:k.result}))},k.readAsDataURL(r)}},R=async a=>{if(!d)return null;try{const r=d.name.split(".").pop(),m=`${a}/${Date.now()}.${r}`,{data:k,error:b}=await $.storage.from("dog-photos").upload(m,d,{cacheControl:"3600",upsert:!1});if(b)return console.error("Erreur upload photo:",b),null;const{data:W}=$.storage.from("dog-photos").getPublicUrl(m);return W.publicUrl}catch(r){return console.error("Erreur upload:",r),null}},V=()=>{var r,m,k,b;const a={};return(r=t==null?void 0:t.name)!=null&&r.trim()||(a.name="Le nom est requis"),t!=null&&t.breed||(a.breed="La race est requise"),t!=null&&t.gender||(a.gender="Le sexe est requis"),(m=t==null?void 0:t.age)!=null&&m.trim()?isNaN(t==null?void 0:t.age)||(t==null?void 0:t.age)<0?a.age="Veuillez entrer un nombre valide":(t==null?void 0:t.ageUnit)==="years"&&(t==null?void 0:t.age)>30?a.age="L'âge maximum est de 30 ans":(t==null?void 0:t.ageUnit)==="months"&&(t==null?void 0:t.age)>360&&(a.age="L'âge maximum est de 360 mois"):a.age="L'âge est requis",(k=t==null?void 0:t.weight)!=null&&k.trim()?isNaN(t==null?void 0:t.weight)||(t==null?void 0:t.weight)<=0?a.weight="Veuillez entrer un poids valide":(t==null?void 0:t.weight)>100&&(a.weight="Le poids maximum est de 100 kg"):a.weight="Le poids est requis",c(a),((b=Object.keys(a))==null?void 0:b.length)===0},w=async a=>{if(a==null||a.preventDefault(),!!V()){p(!0);try{let r=null;if(d){const{data:{user:m}}=await $.auth.getUser();r=await R(m==null?void 0:m.id)}l({name:t.name.trim(),breed:t.breed,age:parseFloat(t.age),ageUnit:t.ageUnit,weight:parseFloat(t.weight),gender:t.gender,isSterilized:t.isSterilized==="yes",image:r||t.image.trim()||null}),x({name:"",breed:"",age:"",ageUnit:"years",weight:"",gender:"",isSterilized:"no",image:""}),y(null),c({})}catch(r){console.error("Erreur soumission:",r),alert("Une erreur est survenue lors de l'ajout du chien")}finally{p(!1)}}},q=()=>{x({name:"",breed:"",age:"",ageUnit:"years",weight:"",gender:"",isSterilized:"no",image:""}),y(null),c({}),o()};return n?e.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-card rounded-lg shadow-elevated max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-card border-b border-border p-4 flex items-center justify-between z-10",children:[e.jsx("h2",{className:"text-xl font-heading font-semibold text-foreground",children:"Ajouter un nouveau chien"}),e.jsx("button",{onClick:q,className:"text-muted-foreground hover:text-foreground transition-smooth","aria-label":"Fermer",children:e.jsx(j,{name:"X",size:24})})]}),e.jsxs("form",{onSubmit:w,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Photo du chien"}),t.image&&e.jsxs("div",{className:"relative w-32 h-32 mx-auto mb-3",children:[e.jsx("img",{src:t.image,alt:"Aperçu",className:"w-full h-full object-cover rounded-full border-2 border-border"}),e.jsx("button",{type:"button",onClick:()=>{x(a=>({...a,image:""})),y(null)},className:"absolute -top-2 -right-2 bg-destructive text-white rounded-full p-1 hover:bg-destructive/90",children:e.jsx(j,{name:"X",size:16})})]}),e.jsx("div",{className:"flex gap-3",children:e.jsxs("label",{className:"flex-1",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:P,className:"hidden"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 px-4 py-2 border border-border rounded-lg hover:bg-muted cursor-pointer transition-smooth",children:[e.jsx(j,{name:"Upload",size:20}),e.jsx("span",{className:"text-sm",children:d?"Changer la photo":"Choisir une photo"})]})]})}),(i==null?void 0:i.photo)&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:i.photo}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Format: JPG, PNG, WEBP • Max: 5 MB"})]}),e.jsx(_,{label:"Nom du chien",type:"text",placeholder:"Ex: Max, Luna, Rocky...",value:t==null?void 0:t.name,onChange:a=>{var r;return z("name",(r=a==null?void 0:a.target)==null?void 0:r.value)},error:i==null?void 0:i.name,required:!0}),e.jsx(L,{label:"Race",placeholder:"Sélectionnez une race",options:I,value:t==null?void 0:t.breed,onChange:a=>z("breed",a),error:i==null?void 0:i.breed,required:!0,searchable:!0}),e.jsx(L,{label:"Sexe",placeholder:"Sélectionnez le sexe",options:U,value:t==null?void 0:t.gender,onChange:a=>z("gender",a),error:i==null?void 0:i.gender,required:!0}),e.jsx(L,{label:"Stérilisé(e)",options:M,value:t==null?void 0:t.isSterilized,onChange:a=>z("isSterilized",a),required:!0}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-foreground",children:["Âge ",e.jsx("span",{className:"text-destructive",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(_,{type:"number",placeholder:"Ex: 2",value:t==null?void 0:t.age,onChange:a=>{var r;return z("age",(r=a==null?void 0:a.target)==null?void 0:r.value)},min:"0",max:(t==null?void 0:t.ageUnit)==="years"?"30":"360",step:"0.1",required:!0}),e.jsx(L,{options:O,value:t==null?void 0:t.ageUnit,onChange:a=>z("ageUnit",a),required:!0})]}),(i==null?void 0:i.age)&&e.jsx("p",{className:"text-xs text-destructive mt-1",children:i.age})]}),e.jsx(_,{label:"Poids (kg)",type:"number",placeholder:"Ex: 25 ou 8.5",value:t==null?void 0:t.weight,onChange:a=>{var r;return z("weight",(r=a==null?void 0:a.target)==null?void 0:r.value)},error:i==null?void 0:i.weight,min:"0",max:"100",step:"0.1",required:!0}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(E,{type:"button",variant:"outline",fullWidth:!0,onClick:q,disabled:v,children:"Annuler"}),e.jsx(E,{type:"submit",variant:"default",fullWidth:!0,iconName:v?"Loader":"Check",iconPosition:"left",disabled:v,children:v?"Ajout en cours...":"Ajouter"})]})]})]})}):null},oe=()=>{const n=H(),{user:o}=T(),[l,t]=N.useState([]),[x,i]=N.useState(null),[c,v]=N.useState([]),[p,d]=N.useState(""),[y,I]=N.useState(""),[O,U]=N.useState(!1),[M,z]=N.useState(!1),[P,R]=N.useState(!0);N.useEffect(()=>{if(!(o!=null&&o.id))return;(async()=>{R(!0);try{const{data:h,error:S}=await $.from("dogs").select("*").eq("user_id",o.id).eq("is_active",!0).order("created_at",{ascending:!1});if(S)console.error("Erreur chargement chiens:",S),t([]);else{const u=h.map(g=>{const A=new Date(g.birth_date),C=new Date;let B=C.getFullYear()-A.getFullYear();const F=C.getMonth()-A.getMonth();return(F<0||F===0&&C.getDate()<A.getDate())&&B--,{id:g.id,name:g.name,breed:g.breed||"Race inconnue",age:B>0?`${B} an${B>1?"s":""}`:"Moins d'un an",weight:g.weight?`${g.weight} kg`:"Non renseigné",image:g.photo_url||"https://images.pexels.com/photos/1490908/pexels-photo-1490908.jpeg",imageAlt:`${g.name} - ${g.breed}`,healthStatus:"good",upcomingReminders:[],recentActivity:`Dernière mise à jour le ${new Date(g.updated_at).toLocaleDateString("fr-FR")}`}});t(u),u.length>0&&!x&&i(u[0].id)}}catch(h){console.error("Erreur:",h),t([])}finally{R(!1)}})()},[o==null?void 0:o.id]);const V=[{value:"",label:"Toutes les races"},{value:"malinois",label:"Malinois"},{value:"shih-tzu",label:"Shih-Tzu"},{value:"american-bully",label:"American Bully"},{value:"labrador",label:"Labrador"},{value:"bouledogue-francais",label:"Bouledogue Français"},{value:"golden-retriever",label:"Golden Retriever"},{value:"berger-allemand",label:"Berger Allemand"},{value:"chihuahua",label:"Chihuahua"},{value:"husky",label:"Husky Sibérien"},{value:"beagle",label:"Beagle"},{value:"mixed",label:"Race Mixte"},{value:"other",label:"Autre"}],w=l==null?void 0:l.filter(s=>{var u,g,A,C;const h=(g=(u=s==null?void 0:s.name)==null?void 0:u.toLowerCase())==null?void 0:g.includes(p==null?void 0:p.toLowerCase()),S=!y||((C=(A=s==null?void 0:s.breed)==null?void 0:A.toLowerCase())==null?void 0:C.replace(/\s+/g,"-"))===y;return h&&S}),q=s=>{M?v(h=>h!=null&&h.includes(s)?h==null?void 0:h.filter(S=>S!==s):[...h,s]):(i(s),n("/dog-profile"))},a=s=>{i(s),n("/dog-profile")},r=s=>{i(s==null?void 0:s.id)},m=async s=>{try{const S=((C,B)=>{const F=new Date;let G=new Date(F);return B==="years"?G.setFullYear(F.getFullYear()-parseInt(C)):G.setMonth(F.getMonth()-parseInt(C)),G.toISOString().split("T")[0]})((s==null?void 0:s.age)||0,(s==null?void 0:s.ageUnit)||"years"),{data:u,error:g}=await $.from("dogs").insert([{user_id:o==null?void 0:o.id,name:s==null?void 0:s.name,breed:s==null?void 0:s.breed,birth_date:S,weight:s!=null&&s.weight?parseFloat(s.weight):null,gender:s==null?void 0:s.gender,is_sterilized:s==null?void 0:s.isSterilized,photo_url:(s==null?void 0:s.image)||null,is_active:!0}]).select().single();if(g){console.error("Erreur ajout chien:",g),alert("Erreur lors de l'ajout du chien. Veuillez réessayer.");return}const A={id:u.id,name:u.name,breed:u.breed||"Race inconnue",age:(s==null?void 0:s.ageUnit)==="years"?`${s.age} an${s.age>1?"s":""}`:`${s.age} mois`,weight:u.weight?`${u.weight} kg`:"Non renseigné",image:u.photo_url||"https://images.pexels.com/photos/1490908/pexels-photo-1490908.jpeg",imageAlt:`${u.name} - ${u.breed}`,healthStatus:"good",upcomingReminders:[],recentActivity:"Profil créé à l'instant"};t(C=>[...C,A]),U(!1),alert(`✅ ${u.name} a été ajouté avec succès !`)}catch(h){console.error("Erreur:",h),alert("Une erreur inattendue s'est produite.")}},k=()=>{alert(`Planification d'une visite vétérinaire pour ${c==null?void 0:c.length} chien(s)`)},b=()=>{alert(`Mise à jour des médicaments pour ${c==null?void 0:c.length} chien(s)`)},W=l==null?void 0:l.find(s=>(s==null?void 0:s.id)===x);return P?e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de vos chiens..."})]})}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-card border-b border-border shadow-soft",children:e.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>n("/dog-profile"),className:"text-muted-foreground hover:text-foreground transition-smooth","aria-label":"Retour",children:e.jsx(j,{name:"ArrowLeft",size:24})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-heading font-semibold text-foreground",children:"Gestion des profils"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[l==null?void 0:l.length," ",(l==null?void 0:l.length)===1?"chien enregistré":"chiens enregistrés"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[(l==null?void 0:l.length)>0&&e.jsx(Y,{dogProfiles:l,currentDog:W,onDogChange:r}),(l==null?void 0:l.length)>0&&e.jsx(E,{variant:M?"default":"outline",size:"sm",iconName:"CheckSquare",iconPosition:"left",onClick:()=>{z(!M),v([])},children:e.jsx("span",{className:"hidden lg:inline",children:M?"Terminer":"Sélection"})})]})]}),(l==null?void 0:l.length)>0&&e.jsx(D,{searchQuery:p,onSearchChange:d,filterBreed:y,onFilterChange:I,breeds:V})]})}),e.jsx("main",{className:"max-w-screen-xl mx-auto px-4 py-6",children:(w==null?void 0:w.length)===0&&!p&&!y?e.jsx(ee,{onAddDog:()=>U(!0)}):(w==null?void 0:w.length)===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(j,{name:"Search",size:48,className:"text-muted-foreground mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-2",children:"Aucun résultat"}),e.jsx("p",{className:"text-muted-foreground",children:"Essayez de modifier vos critères de recherche"})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w==null?void 0:w.map(s=>e.jsxs("div",{className:"relative",children:[M&&e.jsx("div",{className:"absolute top-3 left-3 z-20",children:e.jsx(X,{checked:c==null?void 0:c.includes(s==null?void 0:s.id),onChange:h=>{var S;(S=h==null?void 0:h.target)!=null&&S.checked?v(u=>[...u,s==null?void 0:s.id]):v(u=>u==null?void 0:u.filter(g=>g!==(s==null?void 0:s.id)))},size:"lg",className:"bg-card shadow-elevated"})}),e.jsx(Q,{profile:s,isActive:(s==null?void 0:s.id)===x,onSelect:()=>q(s==null?void 0:s.id),onEdit:()=>a(s==null?void 0:s.id)})]},s==null?void 0:s.id)),e.jsx(Z,{onClick:()=>U(!0)})]})}),e.jsx(f,{selectedCount:c==null?void 0:c.length,onClearSelection:()=>v([]),onScheduleVisit:k,onUpdateMedication:b}),e.jsx(te,{isOpen:O,onClose:()=>U(!1),onSubmit:m}),e.jsx(J,{})]})};export{oe as default};
