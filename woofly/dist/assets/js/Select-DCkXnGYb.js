import{j as s}from"./index-D4jueZQ_.js";import{R as M,r as P}from"./vendor-react-DEK6ZklB.js";import{c as x,B as Z}from"./Button-OW-OGkLB.js";import{d as W,k as _,X as T,l as q,m as C}from"./vendor-ui-DjEwDNDD.js";import{I as O}from"./Input-CwDO5QaW.js";const o=M.forwardRef(({className:g,id:c,checked:r,indeterminate:j=!1,disabled:d=!1,required:t=!1,label:i,description:h,error:m,size:k="default",...N},S)=>{var I,R;const w=c||`checkbox-${(R=(I=Math.random())==null?void 0:I.toString(36))==null?void 0:R.substr(2,9)}`,v={sm:"h-4 w-4",default:"h-4 w-4",lg:"h-5 w-5"};return s.jsxs("div",{className:x("flex items-start space-x-2",g),children:[s.jsxs("div",{className:"relative flex items-center",children:[s.jsx("input",{type:"checkbox",ref:S,id:w,checked:r,disabled:d,required:t,className:"sr-only",...N}),s.jsxs("label",{htmlFor:w,className:x("peer shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground cursor-pointer transition-colors",v==null?void 0:v[k],r&&"bg-primary text-primary-foreground border-primary",j&&"bg-primary text-primary-foreground border-primary",m&&"border-destructive",d&&"cursor-not-allowed opacity-50"),children:[r&&!j&&s.jsx(W,{className:"h-3 w-3 text-current flex items-center justify-center"}),j&&s.jsx(_,{className:"h-3 w-3 text-current flex items-center justify-center"})]})]}),(i||h||m)&&s.jsxs("div",{className:"flex-1 space-y-1",children:[i&&s.jsxs("label",{htmlFor:w,className:x("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",m?"text-destructive":"text-foreground"),children:[i,t&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),h&&!m&&s.jsx("p",{className:"text-sm text-muted-foreground",children:h}),m&&s.jsx("p",{className:"text-sm text-destructive",children:m})]})]})});o.displayName="Checkbox";const p=M.forwardRef(({className:g,children:c,label:r,description:j,error:d,required:t=!1,disabled:i=!1,...h},m)=>s.jsxs("fieldset",{ref:m,disabled:i,className:x("space-y-3",g),...h,children:[r&&s.jsxs("legend",{className:x("text-sm font-medium",d?"text-destructive":"text-foreground"),children:[r,t&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),j&&!d&&s.jsx("p",{className:"text-sm text-muted-foreground",children:j}),s.jsx("div",{className:"space-y-2",children:c}),d&&s.jsx("p",{className:"text-sm text-destructive",children:d})]}));p.displayName="CheckboxGroup";const ee=M.forwardRef(({className:g,options:c=[],value:r,defaultValue:j,placeholder:d="Select an option",multiple:t=!1,disabled:i=!1,required:h=!1,label:m,description:k,error:N,searchable:S=!1,clearable:w=!1,loading:v=!1,id:I,name:R,onChange:u,onOpenChange:n,...X},J)=>{var E,G;const[L,z]=P.useState(!1),[f,B]=P.useState(""),F=I||`select-${(G=(E=Math.random())==null?void 0:E.toString(36))==null?void 0:G.substr(2,9)}`,y=S&&f?c==null?void 0:c.filter(e=>{var l,a,b,A,H;return((a=(l=e==null?void 0:e.label)==null?void 0:l.toLowerCase())==null?void 0:a.includes(f==null?void 0:f.toLowerCase()))||(e==null?void 0:e.value)&&((H=(A=(b=e==null?void 0:e.value)==null?void 0:b.toString())==null?void 0:A.toLowerCase())==null?void 0:H.includes(f==null?void 0:f.toLowerCase()))}):c,K=()=>{var l;if(!r)return d;if(t){const a=c==null?void 0:c.filter(b=>r==null?void 0:r.includes(b==null?void 0:b.value));return(a==null?void 0:a.length)===0?d:(a==null?void 0:a.length)===1?(l=a==null?void 0:a[0])==null?void 0:l.label:`${a==null?void 0:a.length} items selected`}const e=c==null?void 0:c.find(a=>(a==null?void 0:a.value)===r);return e?e==null?void 0:e.label:d},Q=()=>{if(!i){const e=!L;z(e),n==null||n(e),e||B("")}},U=e=>{if(t){const l=r||[],a=l!=null&&l.includes(e==null?void 0:e.value)?l==null?void 0:l.filter(b=>b!==(e==null?void 0:e.value)):[...l,e==null?void 0:e.value];u==null||u(a)}else u==null||u(e==null?void 0:e.value),z(!1),n==null||n(!1)},V=e=>{e==null||e.stopPropagation(),u==null||u(t?[]:"")},Y=e=>{var l;B((l=e==null?void 0:e.target)==null?void 0:l.value)},$=e=>t?(r==null?void 0:r.includes(e))||!1:r===e,D=t?(r==null?void 0:r.length)>0:r!==void 0&&r!=="";return s.jsxs("div",{className:x("relative",g),children:[m&&s.jsxs("label",{htmlFor:F,className:x("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 mb-2 block",N?"text-destructive":"text-foreground"),children:[m,h&&s.jsx("span",{className:"text-destructive ml-1",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{ref:J,id:F,type:"button",className:x("flex h-10 w-full items-center justify-between rounded-md border border-input bg-white text-black px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",N&&"border-destructive focus:ring-destructive",!D&&"text-muted-foreground"),onClick:Q,disabled:i,"aria-expanded":L,"aria-haspopup":"listbox",...X,children:[s.jsx("span",{className:"truncate",children:K()}),s.jsxs("div",{className:"flex items-center gap-1",children:[v&&s.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),w&&D&&!v&&s.jsx(Z,{variant:"ghost",size:"icon",className:"h-4 w-4",onClick:V,children:s.jsx(T,{className:"h-3 w-3"})}),s.jsx(q,{className:x("h-4 w-4 transition-transform",L&&"rotate-180")})]})]}),s.jsxs("select",{name:R,value:r||"",onChange:()=>{},className:"sr-only",tabIndex:-1,multiple:t,required:h,children:[s.jsx("option",{value:"",children:"Select..."}),c==null?void 0:c.map(e=>s.jsx("option",{value:e==null?void 0:e.value,children:e==null?void 0:e.label},e==null?void 0:e.value))]}),L&&s.jsxs("div",{className:"absolute z-50 w-full mt-1 bg-white text-black border border-border rounded-md shadow-md",children:[S&&s.jsx("div",{className:"p-2 border-b",children:s.jsxs("div",{className:"relative",children:[s.jsx(C,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(O,{placeholder:"Search options...",value:f,onChange:Y,className:"pl-8"})]})}),s.jsx("div",{className:"py-1 max-h-60 overflow-auto",children:(y==null?void 0:y.length)===0?s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:f?"No options found":"No options available"}):y==null?void 0:y.map(e=>s.jsxs("div",{className:x("relative flex cursor-pointer select-none items-center rounded-sm px-3 py-2 text-sm outline-none hover:bg-accent hover:text-accent-foreground",$(e==null?void 0:e.value)&&"bg-primary text-primary-foreground",(e==null?void 0:e.disabled)&&"pointer-events-none opacity-50"),onClick:()=>!(e!=null&&e.disabled)&&U(e),children:[s.jsx("span",{className:"flex-1",children:e==null?void 0:e.label}),t&&$(e==null?void 0:e.value)&&s.jsx(W,{className:"h-4 w-4"}),(e==null?void 0:e.description)&&s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:e==null?void 0:e.description})]},e==null?void 0:e.value))})]})]}),k&&!N&&s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:k}),N&&s.jsx("p",{className:"text-sm text-destructive mt-1",children:N})]})});ee.displayName="Select";export{o as C,ee as S};
