import{j as e,u as k,s as y}from"./index-PRF-HlSu.js";import{d as C,r as o}from"./vendor-react-DEK6ZklB.js";import{a as z,X as D,H as x,d,o as h,l as E,ak as O,a6 as P,al as S,a5 as M,U as L,t as U,am as _}from"./vendor-ui-DjEwDNDD.js";const F=({isOpen:n,onClose:i})=>{if(!n)return null;const r=()=>{window.open("https://www.paypal.com/paypalme/TONPSEUDO","_blank")};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-card rounded-xl shadow-2xl max-w-md w-full overflow-hidden max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-pink-500 to-purple-600 p-5 text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-2 right-2 opacity-20",children:e.jsx(z,{size:80})}),e.jsx("button",{onClick:i,className:"absolute top-3 right-3 p-2 hover:bg-white/20 rounded-lg transition-smooth w-10 h-10 flex items-center justify-center","aria-label":"Fermer",children:e.jsx(D,{size:20})}),e.jsxs("div",{className:"relative pt-2",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-xl flex items-center justify-center mb-3",children:e.jsx(x,{size:24,className:"text-white fill-white"})}),e.jsx("h2",{className:"text-xl font-heading font-bold mb-1",children:"Soutenez Woofly â¤ï¸"}),e.jsx("p",{className:"text-pink-100 text-xs",children:"Votre don nous aide Ã  aider plus de chiens"})]})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("div",{className:"mb-5",children:[e.jsxs("p",{className:"text-foreground mb-4 leading-relaxed text-sm",children:["Woofly vous aide Ã  ",e.jsx("strong",{children:"gÃ©rer vos chiens"}),", ",e.jsx("strong",{children:"placer en famille d'accueil"})," et ",e.jsx("strong",{children:"trouver des adoptants"})," gratuitement. ðŸ•"]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-3 mb-4 border border-purple-100",children:[e.jsx("p",{className:"text-xs text-purple-900 font-medium mb-2",children:"Votre don nous permet de :"}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(d,{size:16,className:"text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-purple-800",children:"AmÃ©liorer et maintenir la plateforme"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(d,{size:16,className:"text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-purple-800",children:"Ajouter de nouvelles fonctionnalitÃ©s"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(d,{size:16,className:"text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-purple-800",children:"Garder Woofly gratuit pour les refuges"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(d,{size:16,className:"text-purple-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-xs text-purple-800",children:"Aider encore plus de chiens Ã  trouver un foyer"})]})]})]}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-xs text-amber-900",children:[e.jsx("strong",{children:"ðŸ’¡ Le don est 100% volontaire."}),e.jsx("br",{}),"Aucune obligation, aucune pression. Juste un moyen de dire merci si Woofly vous a Ã©tÃ© utile !"]})})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("button",{onClick:r,className:"w-full px-4 py-3.5 bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg font-bold hover:from-pink-600 hover:to-purple-700 transition-all flex items-center justify-center gap-2 shadow-lg min-h-[44px] active:scale-[0.98]",children:[e.jsx(x,{size:18,className:"fill-white"}),"Faire un don via PayPal"]}),e.jsx("button",{onClick:i,className:"w-full px-4 py-3 border-2 border-border rounded-lg font-medium hover:bg-muted transition-smooth min-h-[44px] active:bg-muted",children:"Peut-Ãªtre plus tard"})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"Merci pour votre soutien ! Chaque don compte, quel que soit le montant. ðŸ™"})]})]})})},H=()=>{var p;const{user:n,signOut:i}=k(),r=C(),[c,a]=o.useState(!1),[s,f]=o.useState(null),[g,u]=o.useState(!1),m=o.useRef(null);o.useEffect(()=>{n&&b()},[n]),o.useEffect(()=>{const t=l=>{m.current&&!m.current.contains(l.target)&&a(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const b=async()=>{try{const{data:t,error:l}=await y.from("professional_accounts").select("*").eq("user_id",n.id).single();if(l)throw l;f(t)}catch(t){console.error("Erreur chargement compte pro:",t)}},j=async()=>{try{await i(),r("/login")}catch(t){console.error("Erreur dÃ©connexion:",t)}},N=()=>{a(!1),u(!0)},v=[{icon:O,label:"Dashboard",onClick:()=>{r("/pro/dashboard"),a(!1)}},{icon:P,label:"Mes chiens",onClick:()=>{r("/pro/dogs"),a(!1)}},{icon:S,label:"Liste",onClick:()=>{r("/pro/dogs-list"),a(!1)}},{icon:M,label:"Familles d'accueil",onClick:()=>{r("/pro/foster-families"),a(!1)}},{icon:L,label:"Candidatures",onClick:()=>{r("/pro/applications"),a(!1)}},{icon:U,label:"ParamÃ¨tres",onClick:()=>{r("/pro/settings"),a(!1)}}];return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",ref:m,children:[e.jsxs("button",{onClick:()=>a(!c),className:"flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 bg-card border border-border rounded-xl hover:bg-muted transition-smooth min-h-[44px]",children:[e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-white font-bold text-sm sm:text-base flex-shrink-0",children:((p=s==null?void 0:s.organization_name)==null?void 0:p.charAt(0).toUpperCase())||"P"}),e.jsxs("div",{className:"hidden sm:block text-left",children:[e.jsx("p",{className:"font-medium text-sm text-foreground truncate max-w-[150px]",children:(s==null?void 0:s.organization_name)||"Mon Refuge"}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(h,{size:12,className:"text-green-500"}),"Compte vÃ©rifiÃ©"]})]}),e.jsx(E,{size:16,className:`text-muted-foreground transition-transform ${c?"rotate-180":""}`})]}),c&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-card border border-border rounded-xl shadow-lg py-2 z-50",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[e.jsx("p",{className:"font-medium text-sm text-foreground truncate",children:(s==null?void 0:s.organization_name)||"Mon Refuge"}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:(s==null?void 0:s.email)||(n==null?void 0:n.email)}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(h,{size:12,className:"text-green-500"}),e.jsx("span",{className:"text-xs text-green-600",children:"Compte vÃ©rifiÃ©"})]})]}),e.jsx("div",{className:"py-2",children:v.map((t,l)=>{const w=t.icon;return e.jsxs("button",{onClick:t.onClick,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-muted transition-smooth text-left min-h-[44px]",children:[e.jsx(w,{size:18,className:"text-muted-foreground"}),e.jsx("span",{className:"text-sm text-foreground",children:t.label})]},l)})}),e.jsx("div",{className:"border-t border-border py-2",children:e.jsxs("button",{onClick:N,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-pink-50 transition-smooth text-left group min-h-[44px]",children:[e.jsx(x,{size:18,className:"text-pink-500 group-hover:fill-pink-500 transition-all"}),e.jsx("span",{className:"text-sm text-pink-600 font-medium",children:"Faire un don"})]})}),e.jsx("div",{className:"border-t border-border pt-2",children:e.jsxs("button",{onClick:j,className:"w-full px-4 py-2.5 flex items-center gap-3 hover:bg-red-50 text-red-600 transition-smooth text-left min-h-[44px]",children:[e.jsx(_,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:"DÃ©connexion"})]})})]})]}),e.jsx(F,{isOpen:g,onClose:()=>u(!1)})]})};export{H as U};
