import{u as N,j as e,s as C}from"./index-PRF-HlSu.js";import{r as o}from"./vendor-react-DEK6ZklB.js";import{T as S}from"./TabNavigation-D4Sg61vH.js";import{U as P}from"./UserMenu-C2JzGG-l.js";import{Q as _,S as I,C as M,F as D,a as T}from"./CommunityStats-RNaXYToB.js";import{F as z}from"./Footer-r7OqyYD5.js";import"./vendor-ui-DjEwDNDD.js";import"./vendor-supabase-DfwcnzK-.js";import"./AppImage-B3_KHsjE.js";import"./Input-DMb6f0zu.js";import"./Button-Den1ELj5.js";const U=()=>{const{user:s}=N(),[i,w]=o.useState(""),[r,h]=o.useState([]),[b,m]=o.useState(null),[v,A]=o.useState([]),j={totalMembers:"12.5k",totalPosts:"8.2k",totalLikes:"45k",activeToday:"1.2k"},c=[{id:1,name:"Malinois",description:"Berger belge malinois - Éducation et comportement",image:"https://images.unsplash.com/photo-1713917032646-4703f3feffde",imageAlt:"Belgian Malinois dog with alert expression standing in outdoor field with golden sunlight",memberCount:"3.2k",postCount:"2.1k",isActive:!0,trendingTopics:["Dressage","Agilité"],latestPost:{title:"Conseils pour l'entraînement d'obéissance avancé",author:"Marie Dubois",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1ad9e1013-1763294640440.png",authorAvatarAlt:"Professional woman with shoulder-length brown hair wearing casual blue sweater smiling warmly",timeAgo:"Il y a 15 min"}},{id:2,name:"Shih-Tzu",description:"Petits compagnons - Soins et toilettage",image:"https://images.unsplash.com/photo-1599228127629-0a6d721fce06",imageAlt:"Adorable Shih-Tzu dog with long silky white and brown coat sitting on grooming table",memberCount:"2.8k",postCount:"1.9k",isActive:!0,trendingTopics:["Toilettage","Santé"],latestPost:{title:"Meilleures techniques de brossage pour éviter les nœuds",author:"Sophie Martin",authorAvatar:"https://images.unsplash.com/photo-1578006711491-890dec58badb",authorAvatarAlt:"Young woman with blonde hair in ponytail wearing pink top with friendly smile",timeAgo:"Il y a 32 min"}},{id:3,name:"American Bully",description:"Bully américain - Force et caractère",image:"https://images.unsplash.com/photo-1704044985311-b363b415cb0d",imageAlt:"Muscular American Bully dog with broad chest and confident stance in urban setting",memberCount:"2.1k",postCount:"1.4k",isActive:!1,trendingTopics:["Nutrition","Musculation"],latestPost:{title:"Programme d'exercice pour maintenir la masse musculaire",author:"Thomas Leroy",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1b44763a5-1763295696725.png",authorAvatarAlt:"Athletic man with short dark hair wearing black athletic shirt with determined expression",timeAgo:"Il y a 1 heure"}},{id:4,name:"Races Mixtes",description:"Chiens croisés - Diversité et unicité",image:"https://images.unsplash.com/photo-1683051147071-657d46aa1e3c",imageAlt:"Happy mixed breed dog with brown and white coat running joyfully through green grass field",memberCount:"4.4k",postCount:"3.8k",isActive:!0,trendingTopics:["Adoption","Comportement"],latestPost:{title:"Mon chien croisé a des comportements surprenants",author:"Julie Bernard",authorAvatar:"https://images.unsplash.com/photo-1612439289738-15a4cba74d9f",authorAvatarAlt:"Middle-aged woman with curly red hair wearing green cardigan with warm smile",timeAgo:"Il y a 45 min"}}],d=[{id:1,title:"Comment gérer l'anxiété de séparation chez les chiots ?",preview:"Mon chiot de 4 mois pleure beaucoup quand je pars travailler. J'ai essayé plusieurs techniques mais rien ne semble fonctionner. Des conseils ?",author:"Claire Rousseau",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1a32a3733-1763295164509.png",authorAvatarAlt:"Young woman with long dark hair wearing white blouse with concerned expression",timeAgo:"Il y a 2 heures",likes:47,replies:23,category:"Comportement",isExpert:!1},{id:2,title:"Alimentation BARF : Guide complet pour débutants",preview:"Après 6 mois de BARF avec mon Malinois, je partage mon expérience complète : avantages, défis, recettes et conseils pratiques pour bien commencer.",author:"Dr. Antoine Moreau",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1e95cb24a-1763296883553.png",authorAvatarAlt:"Professional veterinarian with gray hair wearing white medical coat with stethoscope",timeAgo:"Il y a 3 heures",likes:156,replies:89,category:"Nutrition",isExpert:!0},{id:3,title:"Vaccination : Nouveau protocole 2025 expliqué",preview:"Les nouvelles recommandations vétérinaires pour la vaccination des chiens en 2025. Quels changements et pourquoi ?",author:"Dr. Isabelle Petit",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1be4365a3-1763296831000.png",authorAvatarAlt:"Female veterinarian with short blonde hair wearing blue scrubs with professional smile",timeAgo:"Il y a 5 heures",likes:203,replies:67,category:"Santé",isExpert:!0},{id:4,title:"Toilettage maison : Mes astuces pour un pelage parfait",preview:"Je toilette mon Shih-Tzu moi-même depuis 2 ans. Voici tous mes secrets pour un résultat professionnel à la maison sans stress.",author:"Nathalie Girard",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_154a96764-1763300123486.png",authorAvatarAlt:"Woman with medium brown hair wearing casual pink sweater with friendly smile",timeAgo:"Il y a 6 heures",likes:92,replies:41,category:"Toilettage",isExpert:!1}];o.useEffect(()=>{(async()=>{if(s!=null&&s.id)try{const{data:a,error:n}=await C.from("dog_profiles").select("*").eq("user_id",s.id).order("created_at",{ascending:!0});if(n)throw n;if(a&&a.length>0){A(a);const l=localStorage.getItem("currentDogProfile");l?m(JSON.parse(l)):(m(a[0]),localStorage.setItem("currentDogProfile",JSON.stringify(a[0])))}}catch(a){console.error("Erreur chargement chiens:",a)}})()},[s==null?void 0:s.id]),o.useEffect(()=>{if((i==null?void 0:i.trim())==="")h(c);else{const t=c==null?void 0:c.filter(a=>{var n,l,u,p,x;return((l=(n=a==null?void 0:a.name)==null?void 0:n.toLowerCase())==null?void 0:l.includes(i==null?void 0:i.toLowerCase()))||((p=(u=a==null?void 0:a.description)==null?void 0:u.toLowerCase())==null?void 0:p.includes(i==null?void 0:i.toLowerCase()))||((x=a==null?void 0:a.trendingTopics)==null?void 0:x.some(g=>{var f;return(f=g==null?void 0:g.toLowerCase())==null?void 0:f.includes(i==null?void 0:i.toLowerCase())}))});h(t)}},[i]);const y=t=>{m(t),localStorage.setItem("currentDogProfile",JSON.stringify(t))},k=t=>{w(t)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-card border-b border-border shadow-soft",children:e.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-heading font-semibold text-foreground",children:"Communauté"})}),e.jsx(P,{dogProfiles:v,currentDog:b,onDogChange:y})]})})}),e.jsx(S,{}),e.jsx("main",{className:"main-content",children:e.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-heading font-semibold text-foreground mb-1",children:"Rejoignez votre communauté"}),e.jsx("p",{className:"text-muted-foreground font-caption",children:"Partagez, apprenez et connectez-vous avec d'autres propriétaires"})]}),e.jsx(_,{})]}),e.jsx(I,{onSearch:k})]}),e.jsx(M,{stats:j}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Forums par race"}),(r==null?void 0:r.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:r==null?void 0:r.map(t=>e.jsx(D,{forum:t},t==null?void 0:t.id))}):e.jsx("div",{className:"bg-card rounded-lg p-8 text-center border border-border",children:e.jsxs("p",{className:"text-muted-foreground font-caption",children:['Aucun forum trouvé pour "',i,'"']})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Discussions populaires"}),e.jsx("button",{className:"text-sm text-primary font-medium hover:underline",children:"Voir tout"})]}),e.jsx("div",{className:"space-y-4",children:d==null?void 0:d.map(t=>e.jsx(T,{discussion:t},t==null?void 0:t.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-6 border border-border",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:"Partagez votre expérience"}),e.jsx("p",{className:"text-muted-foreground font-caption",children:"Aidez d'autres propriétaires en partageant vos connaissances et conseils"})]}),e.jsx("button",{onClick:()=>window.location.href="/forum-discussion",className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-smooth whitespace-nowrap",children:"Créer une discussion"})]})})]})}),e.jsx(z,{})]})};export{U as default};
