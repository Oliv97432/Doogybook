import{u as he,j as e,s as n}from"./index-CLNZn26n.js";import{r,d as fe,L as ce}from"./vendor-react-DEK6ZklB.js";import{u as ge}from"./useNotifications-CHhrutCq.js";import{T as be}from"./TabNavigation-CUcm1Fjy.js";import{U as we}from"./UserMenu-DiZqVzBN.js";import{F as ye}from"./Footer-Bq5ogMmL.js";import{X as xe,r as je,V as ve,q as Ne,s as _e,t as Se,P as ke,a as Ce,U as Pe,R as Ee,u as Ae,v as Le,w as Te,T as Ue,H as $e,x as De,p as ze,y as Me}from"./vendor-ui-DjEwDNDD.js";import"./vendor-supabase-DfwcnzK-.js";const Re=(t,f)=>{const w=r.useRef(null),y=r.useRef(null),C=r.useCallback(p=>{const[j]=p;j.isIntersecting&&!f&&t()},[t,f]);return r.useEffect(()=>{const p=y.current;if(!p)return;const j=new IntersectionObserver(C,{root:null,rootMargin:"100px",threshold:.1});return j.observe(p),w.current=j,()=>{w.current&&p&&w.current.unobserve(p)}},[C]),y},qe=t=>{const[f,w]=r.useState(!1),[y,C]=r.useState(0),p=r.useRef(0),j=r.useRef(0),v=r.useCallback(A=>{window.scrollY===0&&(p.current=A.touches[0].clientY)},[]),E=r.useCallback(A=>{if(p.current===0)return;j.current=A.touches[0].clientY;const g=j.current-p.current;g>0&&window.scrollY===0&&(C(Math.min(g,150)),g>80&&w(!0))},[]),x=r.useCallback(async()=>{f&&y>80&&await t(),w(!1),C(0),p.current=0,j.current=0},[f,y,t]);return r.useEffect(()=>{if(/iPhone|iPad|iPod|Android/i.test(navigator.userAgent))return document.addEventListener("touchstart",v,{passive:!0}),document.addEventListener("touchmove",E,{passive:!0}),document.addEventListener("touchend",x),()=>{document.removeEventListener("touchstart",v),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",x)}},[v,E,x]),{isPulling:f,pullDistance:y}},Oe=({onClose:t,onSuccess:f})=>{const{user:w}=he(),[y,C]=r.useState(""),[p,j]=r.useState(""),[v,E]=r.useState([]),[x,A]=r.useState([]),[g,Y]=r.useState(null),[R,G]=r.useState(null),[L,J]=r.useState(0),[b,I]=r.useState(!1),[T,U]=r.useState(0),D=r.useRef(null),Q=r.useRef(null),X=["santÃ©","chiot","alimentation","comportement","balade","astuce"],z=2,Z=30,M=10,V=o=>{v.includes(o)?E(v.filter(i=>i!==o)):v.length<2?E([...v,o]):alert("Maximum 2 tags par post")},F=o=>{const i=Array.from(o.target.files);if(i.length+x.length>z){alert(`Maximum ${z} photos par post`);return}for(const h of i){if(!h.type.startsWith("image/")){alert("Seules les images sont acceptÃ©es");return}if(h.size>5*1024*1024){alert("Taille maximum : 5MB par photo");return}}const m=i.map(h=>({file:h,preview:URL.createObjectURL(h)}));A([...x,...m])},S=o=>{const i=o.target.files[0];if(!i)return;if(!i.type.startsWith("video/")){alert("Seules les vidÃ©os sont acceptÃ©es");return}if(i.size>50*1024*1024){alert("Taille maximum : 50MB pour les vidÃ©os");return}const m=document.createElement("video");m.preload="metadata",m.onloadedmetadata=()=>{window.URL.revokeObjectURL(m.src);const h=Math.floor(m.duration);if(h<M){alert(`DurÃ©e minimum : ${M} secondes`);return}if(h>Z){alert(`DurÃ©e maximum : ${Z} secondes`);return}J(h),Y(i),G(URL.createObjectURL(i))},m.src=URL.createObjectURL(i)},K=o=>{const i=x.filter((m,h)=>h!==o);URL.revokeObjectURL(x[o].preview),A(i)},se=()=>{R&&URL.revokeObjectURL(R),Y(null),G(null),J(0)},ae=async o=>{const i=[];for(let m=0;m<x.length;m++){const h=x[m],P=h.file.name.split(".").pop(),k=`${w.id}/posts/${o}_${m+1}.${P}`,{data:ee,error:W}=await n.storage.from("social-feed-media").upload(k,h.file,{cacheControl:"3600",upsert:!1});if(W)throw W;const{data:{publicUrl:te}}=n.storage.from("social-feed-media").getPublicUrl(k);i.push(te)}return i},re=async o=>{const i=g.name.split(".").pop(),m=`${w.id}/shorts/${o}.${i}`,{data:h,error:P}=await n.storage.from("social-feed-media").upload(m,g,{cacheControl:"3600",upsert:!1});if(P)throw P;const{data:{publicUrl:k}}=n.storage.from("social-feed-media").getPublicUrl(m);return k},oe=async o=>{if(o.preventDefault(),!p.trim()){alert("âŒ Le contenu est requis");return}if(x.length>0&&g){alert("âŒ Vous ne pouvez pas publier Ã  la fois des photos et une vidÃ©o");return}I(!0),U(10);try{const{data:i,error:m}=await n.from("forum_posts").insert({user_id:w.id,title:y.trim()||null,content:p.trim(),tags:v.length>0?v:null,is_short:!!g,video_duration:g?L:null,forum_id:null}).select().single();if(m)throw m;if(U(30),x.length>0){const h=await ae(i.id);U(60);const P=h.map((ee,W)=>({post_id:i.id,image_url:ee,display_order:W+1})),{error:k}=await n.from("forum_post_images").insert(P);if(k)throw k}if(g){const h=await re(i.id);U(60);const{error:P}=await n.from("forum_posts").update({video_url:h}).eq("id",i.id);if(P)throw P}U(100),alert("âœ… Post publiÃ© avec succÃ¨s !"),f()}catch(i){console.error("Erreur:",i),alert(`âŒ Erreur lors de la publication : ${i.message}`)}finally{I(!1),U(0)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-center justify-center p-3",children:e.jsxs("div",{className:"bg-card rounded-2xl shadow-elevated w-full max-w-lg mx-2 p-4 max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5 sticky top-0 bg-card z-10 pb-3",children:[e.jsx("h2",{className:"text-lg font-heading font-bold",children:"CrÃ©er un post"}),e.jsx("button",{onClick:t,disabled:b,className:"p-2 text-muted-foreground hover:text-foreground disabled:opacity-50 min-w-[44px] min-h-[44px] flex items-center justify-center","aria-label":"Fermer",children:e.jsx(xe,{size:22})})]}),e.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Titre (optionnel)"}),e.jsx("input",{type:"text",value:y,onChange:o=>C(o.target.value),placeholder:"Donnez un titre Ã  votre post...",className:"w-full px-4 py-3 border border-border rounded-xl focus:ring-2 focus:ring-primary bg-card text-sm",disabled:b})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Contenu *"}),e.jsx("textarea",{value:p,onChange:o=>j(o.target.value),placeholder:"Quoi de neuf avec ton chien ?...",rows:4,className:"w-full px-4 py-3 border border-border rounded-xl focus:ring-2 focus:ring-primary resize-none bg-card text-sm",required:!0,disabled:b})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tags (max 2)"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:X.map(o=>e.jsxs("button",{type:"button",onClick:()=>V(o),disabled:b,className:`px-3 py-2 rounded-full text-xs font-medium transition-smooth disabled:opacity-50 ${v.includes(o)?"bg-primary text-primary-foreground":"bg-muted hover:bg-muted/80"}`,children:["#",o]},o))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Photos (max ",z,")"]}),x.length>0&&e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:x.map((o,i)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:o.preview,alt:`Preview ${i+1}`,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>K(i),disabled:b,className:"absolute top-1 right-1 p-1 bg-red-500 text-white rounded-full hover:bg-red-600 disabled:opacity-50 w-6 h-6 flex items-center justify-center","aria-label":"Supprimer la photo",children:e.jsx(xe,{size:12})})]},i))}),x.length<z&&!g&&e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:D,type:"file",accept:"image/*",multiple:!0,onChange:F,className:"hidden",disabled:b}),e.jsxs("button",{type:"button",onClick:()=>{var o;return(o=D.current)==null?void 0:o.click()},disabled:b,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-border rounded-xl hover:bg-muted transition-smooth disabled:opacity-50 text-sm",children:[e.jsx(je,{size:18}),e.jsx("span",{children:"Ajouter des photos"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["VidÃ©o courte (",M,"-",Z," secondes)"]}),R?e.jsxs("div",{className:"relative",children:[e.jsx("video",{src:R,controls:!0,className:"w-full rounded-lg max-h-[200px]"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("span",{className:"text-xs text-muted-foreground",children:["DurÃ©e : ",L,"s"]}),e.jsx("button",{type:"button",onClick:se,disabled:b,className:"px-3 py-1 bg-red-500 text-white text-xs rounded-lg hover:bg-red-600 disabled:opacity-50",children:"Supprimer"})]})]}):x.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("input",{ref:Q,type:"file",accept:"video/*",onChange:S,className:"hidden",disabled:b}),e.jsxs("button",{type:"button",onClick:()=>{var o;return(o=Q.current)==null?void 0:o.click()},disabled:b,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-dashed border-border rounded-xl hover:bg-muted transition-smooth disabled:opacity-50 text-sm",children:[e.jsx(ve,{size:18}),e.jsx("span",{children:"Ajouter une vidÃ©o"})]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"ðŸ’¡ VidÃ©o verticale recommandÃ©e â€¢ Max 50MB"})]}),b&&T>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${T}%`}})}),e.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["Publication en cours... ",T,"%"]})]}),e.jsxs("div",{className:"flex gap-2 sticky bottom-0 bg-card pt-4",children:[e.jsx("button",{type:"submit",disabled:b||!p.trim(),className:"flex-1 bg-primary text-primary-foreground py-3 rounded-xl font-semibold hover:bg-primary/90 transition-smooth disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2 text-sm min-h-[44px]",children:b?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{className:"animate-spin",size:16}),"Publication..."]}):"Publier"}),e.jsx("button",{type:"button",onClick:t,disabled:b,className:"px-4 py-3 border-2 border-border rounded-xl font-medium hover:bg-muted transition-smooth disabled:opacity-50 text-sm min-h-[44px]",children:"Annuler"})]})]})]})})},Ie=()=>e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-4 sm:p-6 animate-pulse",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-200 rounded-full flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/3 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]})]}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}),e.jsx("div",{className:"h-48 sm:h-64 bg-gray-200 rounded-xl mb-4"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-16"})]})]}),de=10,Xe=()=>{const{user:t}=he(),f=fe(),{unreadCount:w}=ge(),[y,C]=r.useState([]),[p,j]=r.useState([]),[v,E]=r.useState(!0),[x,A]=r.useState(!1),[g,Y]=r.useState(!0),[R,G]=r.useState(0),[L,J]=r.useState(!1),[b,I]=r.useState(!1),[T,U]=r.useState("all"),[D,Q]=r.useState("explore"),[X,z]=r.useState(null),[Z,M]=r.useState([]),[V,F]=r.useState(null),[S,K]=r.useState(""),[se,ae]=r.useState([]),[re,oe]=r.useState([]),[o,i]=r.useState(new Set),[m,h]=r.useState({posts:0,followers:0,following:0}),P=["all","santÃ©","chiot","alimentation","comportement","balade","astuce"];r.useEffect(()=>{(async()=>{if(t!=null&&t.id)try{const{data:l,error:d}=await n.from("dogs").select("*").eq("user_id",t.id).order("created_at",{ascending:!0});if(d)throw d;if(l&&l.length>0){M(l);const N=localStorage.getItem("currentDogProfile");N?z(JSON.parse(N)):(z(l[0]),localStorage.setItem("currentDogProfile",JSON.stringify(l[0])))}}catch(l){console.error("Erreur chargement chiens:",l)}})()},[t==null?void 0:t.id]),r.useEffect(()=>{(async()=>{var l,d;if(t!=null&&t.id)try{const{data:N,error:u}=await n.from("user_profiles").select("*").eq("id",t.id).single();if(u){console.error("Erreur chargement profil:",u),K(((l=t.email)==null?void 0:l.split("@")[0])||"Utilisateur");return}if(N){K(N.full_name||((d=t.email)==null?void 0:d.split("@")[0])||"Utilisateur");const _=N.avatar_url;if(_)if(_.startsWith("http"))F(_);else{const{data:ne}=n.storage.from("user-avatars").getPublicUrl(_);F(ne.publicUrl)}}}catch(N){console.error("Erreur chargement infos utilisateur:",N)}})()},[t==null?void 0:t.id]),r.useEffect(()=>{H(),B(),$(),q(),c()},[t==null?void 0:t.id]),r.useEffect(()=>{C([]),G(0),Y(!0),k(0,!0)},[T,D,o]);const k=r.useCallback(async(s=0,l=!1)=>{l?E(!0):A(!0);try{const d=s*de,N=d+de-1;let u=n.from("forum_posts").select("*").is("forum_id",null).eq("is_hidden",!1).order("created_at",{ascending:!1}).range(d,N);D==="following"&&o.size>0&&(u=u.in("user_id",Array.from(o))),T!=="all"&&(u=u.contains("tags",[T]));const{data:_,error:ne}=await u;if(ne)throw ne;(!_||_.length<de)&&Y(!1);const me=await Promise.all((_||[]).map(async le=>{try{const{data:ue}=await n.from("user_profiles").select("*").eq("id",le.user_id).single();return{...le,author:ue}}catch{return le}}));C(l?me:le=>[...le,...me])}catch(d){console.error("Erreur chargement posts:",d)}finally{E(!1),A(!1)}},[T,D,o]),ee=r.useCallback(()=>{if(!x&&g){const s=R+1;G(s),k(s,!1)}},[x,g,R,k]),W=Re(ee,x),te=r.useCallback(async()=>{J(!0),C([]),G(0),Y(!0),await k(0,!0),await H(),await B(),J(!1)},[k]),{isPulling:ie,pullDistance:a}=qe(te),c=async()=>{if(t!=null&&t.id)try{const{count:s}=await n.from("forum_posts").select("*",{count:"exact",head:!0}).eq("user_id",t.id).is("forum_id",null),{count:l}=await n.from("user_follows").select("*",{count:"exact",head:!0}).eq("following_id",t.id),{count:d}=await n.from("user_follows").select("*",{count:"exact",head:!0}).eq("follower_id",t.id);h({posts:s||0,followers:l||0,following:d||0})}catch(s){console.error("Erreur stats:",s)}},q=async()=>{if(t!=null&&t.id)try{const{data:s,error:l}=await n.from("user_follows").select("following_id").eq("follower_id",t.id);if(l&&l.code!=="PGRST116"){console.error("Erreur chargement follows:",l);return}s&&i(new Set(s.map(d=>d.following_id)))}catch(s){console.error("Erreur follows:",s)}},$=async()=>{if(t!=null&&t.id)try{const{data:s,error:l}=await n.from("user_profiles").select("id, full_name, email, avatar_url").neq("id",t.id).limit(5);if(l)throw l;const d=await Promise.all((s||[]).map(async N=>{const{data:u}=await n.from("dogs").select("breed").eq("user_id",N.id).limit(1).single();return{...N,dogBreed:(u==null?void 0:u.breed)||"Chien"}}));oe(d)}catch(s){console.error("Erreur suggestions:",s)}},O=async s=>{if(t!=null&&t.id)try{o.has(s)?(await n.from("user_follows").delete().eq("follower_id",t.id).eq("following_id",s),i(l=>{const d=new Set(l);return d.delete(s),d})):(await n.from("user_follows").insert({follower_id:t.id,following_id:s}),await n.rpc("create_notification",{p_user_id:s,p_actor_id:t.id,p_type:"follow"}),i(l=>new Set(l).add(s))),c()}catch(l){console.error("Erreur follow:",l)}},B=async()=>{try{const{data:s,error:l}=await n.from("forum_posts").select("tags").is("forum_id",null).eq("is_hidden",!1);if(l)throw l;const d={};s.forEach(u=>{u.tags&&u.tags.forEach(_=>{d[_]=(d[_]||0)+1})});const N=Object.entries(d).map(([u,_])=>({tag:u,count:_})).sort((u,_)=>_.count-u.count).slice(0,5);ae(N)}catch(s){console.error("Erreur stats tags:",s)}},H=async()=>{try{const{data:s,error:l}=await n.from("forum_posts").select("*").is("forum_id",null).eq("is_hidden",!1).gte("created_at",new Date(Date.now()-6048e5).toISOString()).order("like_count",{ascending:!1}).limit(5);if(l)throw l;const d=s.filter(u=>u.like_count>=3),N=await Promise.all(d.map(async u=>{const{data:_}=await n.from("user_profiles").select("*").eq("id",u.user_id).single();return{...u,author:_}}));j(N)}catch(s){console.error("Erreur chargement top posts:",s)}},pe=s=>{z(s),localStorage.setItem("currentDogProfile",JSON.stringify(s))};return e.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-card border-b border-border shadow-soft",children:e.jsx("div",{className:"max-w-screen-xl mx-auto px-3 sm:px-4 lg:px-6 py-3 sm:py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-heading font-semibold text-foreground truncate",children:"CommunautÃ©"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>f("/notifications"),className:"relative p-1.5 sm:p-2 hover:bg-muted rounded-full transition-smooth",children:[e.jsx(_e,{size:20,className:"sm:w-6 sm:h-6 text-foreground"}),w>0&&e.jsx("div",{className:"absolute top-0 right-0 bg-red-500 text-white text-xs font-bold rounded-full min-w-[16px] h-4 sm:min-w-[20px] sm:h-5 flex items-center justify-center px-0.5 sm:px-1 text-[10px] sm:text-xs",children:w>9?"9+":w})]}),e.jsx(we,{dogProfiles:Z,currentDog:X,onDogChange:pe})]})]})})}),e.jsx(be,{}),e.jsx("main",{className:"main-content flex-1",children:e.jsx("div",{className:"max-w-screen-xl mx-auto px-3 sm:px-4 lg:px-6 py-4 sm:py-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-6",children:[e.jsx("aside",{className:"hidden lg:block lg:w-64 xl:w-80 flex-shrink-0",children:e.jsx("div",{className:"sticky top-24 space-y-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[V?e.jsx("img",{src:V,alt:S,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto object-cover mb-3"}):e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xl sm:text-2xl mx-auto mb-3",children:(S==null?void 0:S.charAt(0).toUpperCase())||"U"}),e.jsx("h3",{className:"font-heading font-semibold text-gray-900 text-base sm:text-lg",children:S}),X&&e.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["ðŸ• ",X.name]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900 text-sm sm:text-base",children:m.posts}),e.jsx("div",{className:"text-xs text-gray-600",children:"Posts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900 text-sm sm:text-base",children:m.followers}),e.jsx("div",{className:"text-xs text-gray-600",children:"AbonnÃ©s"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-bold text-gray-900 text-sm sm:text-base",children:m.following}),e.jsx("div",{className:"text-xs text-gray-600",children:"Abonnements"})]})]}),e.jsxs("button",{onClick:()=>f("/settings"),className:"w-full py-2 px-4 bg-gray-100 hover:bg-gray-200 rounded-xl text-xs sm:text-sm font-medium text-gray-700 transition-smooth flex items-center justify-center gap-2",children:[e.jsx(Se,{size:14,className:"sm:w-4 sm:h-4"}),"ParamÃ¨tres"]})]})})}),e.jsxs("div",{className:"flex-1 w-full lg:max-w-2xl lg:mx-auto space-y-4 sm:space-y-6",children:[e.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-4 sm:p-6",children:e.jsxs("button",{onClick:()=>I(!0),className:"w-full flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-3 bg-gray-100 hover:bg-gray-200 rounded-xl transition-smooth text-left",children:[V?e.jsx("img",{src:V,alt:"Avatar",className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm sm:text-base flex-shrink-0",children:(S==null?void 0:S.charAt(0).toUpperCase())||"U"}),e.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"Quoi de neuf avec ton chien ?"}),e.jsx(ke,{size:18,className:"sm:w-5 sm:h-5 ml-auto text-blue-500 flex-shrink-0"})]})}),e.jsxs("div",{className:"flex gap-1 sm:gap-2 bg-white rounded-3xl shadow-sm border border-gray-200 p-1 sm:p-2",children:[e.jsxs("button",{onClick:()=>Q("following"),className:`flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-xl font-medium transition-smooth text-sm sm:text-base ${D==="following"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(Ce,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{children:"Pour toi"})]}),e.jsxs("button",{onClick:()=>Q("explore"),className:`flex-1 flex items-center justify-center gap-1 sm:gap-2 px-3 sm:px-4 py-2 sm:py-3 rounded-xl font-medium transition-smooth text-sm sm:text-base ${D==="explore"?"bg-blue-500 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[e.jsx(Pe,{size:18,className:"sm:w-5 sm:h-5"}),e.jsx("span",{children:"Explorer"})]})]}),e.jsx("div",{className:"flex gap-1 sm:gap-2 overflow-x-auto pb-1 sm:pb-2 scrollbar-hide -mx-3 sm:mx-0 px-3 sm:px-0",children:P.map(s=>e.jsx("button",{onClick:()=>U(s),className:`px-3 sm:px-4 py-2 sm:py-3 rounded-full text-xs sm:text-sm font-medium whitespace-nowrap transition-smooth flex-shrink-0 ${T===s?"bg-blue-500 text-white":"bg-white border border-gray-200 hover:bg-gray-50 text-gray-700"}`,children:s==="all"?"Tous":`#${s}`},s))}),(ie||L)&&e.jsx("div",{className:"flex justify-center items-center py-4 transition-all duration-200",style:{opacity:a>0?Math.min(a/80,1):1,transform:`translateY(${Math.min(a/2,30)}px)`},children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[e.jsx(Ee,{size:20,className:`${L?"animate-spin":""}`,style:{transform:L?"none":`rotate(${a*2}deg)`}}),e.jsx("span",{className:"text-sm font-medium",children:L?"Actualisation...":a>80?"RelÃ¢chez pour actualiser":"Tirez pour actualiser"})]})}),v?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:[...Array(3)].map((s,l)=>e.jsx(Ie,{},l))}):y.length>0?e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[y.map(s=>e.jsx(Ve,{post:s,currentUserId:t==null?void 0:t.id,currentUserAvatar:V,currentUserName:S,onUpdate:()=>te(),isTopPost:!1},s.id)),e.jsxs("div",{ref:W,className:"py-4",children:[x&&e.jsxs("div",{className:"flex justify-center items-center gap-2",children:[e.jsx(Ae,{size:24,className:"animate-spin text-blue-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Chargement..."})]}),!g&&y.length>0&&e.jsx("p",{className:"text-center text-sm text-gray-500",children:"Vous avez tout vu ! ðŸ•"})]})]}):e.jsx("div",{className:"bg-white rounded-3xl p-6 sm:p-12 text-center border border-gray-200",children:e.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Aucun post pour le moment"})})]}),e.jsx("aside",{className:"hidden md:block md:w-72 lg:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24 space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("h3",{className:"font-heading font-semibold text-gray-900 mb-4 flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Le,{size:18,className:"sm:w-5 sm:h-5 text-blue-500"}),"Qui suivre"]}),e.jsx("div",{className:"space-y-3",children:re.slice(0,3).map(s=>{var l,d;return e.jsxs("div",{className:"flex items-center gap-3",children:[s.avatar_url?e.jsx("img",{src:s.avatar_url.startsWith("http")?s.avatar_url:n.storage.from("user-avatars").getPublicUrl(s.avatar_url).data.publicUrl,alt:s.full_name,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover"}):e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs sm:text-sm",children:(l=s.full_name||s.email)==null?void 0:l.charAt(0).toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-gray-900 text-xs sm:text-sm truncate",children:s.full_name||((d=s.email)==null?void 0:d.split("@")[0])}),e.jsx("p",{className:"text-xs text-gray-600 truncate",children:s.dogBreed})]}),e.jsx("button",{onClick:()=>O(s.id),className:`px-2 sm:px-3 py-1 rounded-full text-xs font-medium transition-smooth ${o.has(s.id)?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-500 text-white hover:bg-blue-600"}`,children:o.has(s.id)?"Suivi":"Suivre"})]},s.id)})})]}),se.length>0&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("h3",{className:"font-heading font-semibold text-gray-900 mb-4 flex items-center gap-2 text-base sm:text-lg",children:[e.jsx(Te,{size:18,className:"sm:w-5 sm:h-5 text-blue-500"}),"Tags populaires"]}),e.jsx("div",{className:"space-y-2",children:se.map(s=>e.jsxs("button",{onClick:()=>U(s.tag),className:"w-full flex items-center justify-between px-3 py-2 hover:bg-gray-50 rounded-xl transition-smooth text-left",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",s.tag]}),e.jsxs("span",{className:"text-xs text-gray-600",children:[s.count," posts"]})]},s.tag))})]}),e.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[e.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2 text-xs text-gray-600",children:[e.jsx(ce,{to:"/cgu",className:"hover:underline",children:"CGU"}),e.jsx("span",{children:"Â·"}),e.jsx(ce,{to:"/mentions-legales",className:"hover:underline",children:"Mentions lÃ©gales"}),e.jsx("span",{children:"Â·"}),e.jsx(ce,{to:"/politique-confidentialite",className:"hover:underline",children:"ConfidentialitÃ©"}),e.jsx("span",{children:"Â·"}),e.jsx(ce,{to:"/contact",className:"hover:underline",children:"Contact"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"Â© 2024 Doogybook"})]})]})})]})})}),e.jsx(ye,{}),b&&e.jsx(Oe,{onClose:()=>I(!1),onSuccess:()=>{I(!1),k(),H(),B(),c()}})]})},Ve=({post:t,currentUserId:f,currentUserAvatar:w,currentUserName:y,onUpdate:C,isTopPost:p})=>{var ee,W,te,ie;const j=fe(),[v,E]=r.useState(!1),[x,A]=r.useState(t.like_count||0),[g,Y]=r.useState(!1),[R,G]=r.useState([]),[L,J]=r.useState(""),[b,I]=r.useState(!1),[T,U]=r.useState(!1),[D,Q]=r.useState([]),[X,z]=r.useState(!0),[Z,M]=r.useState(!1),[V,F]=r.useState(!1),S=((ee=t.author)==null?void 0:ee.full_name)||((te=(W=t.author)==null?void 0:W.email)==null?void 0:te.split("@")[0])||"Utilisateur",K=(ie=t.author)!=null&&ie.avatar_url?t.author.avatar_url.startsWith("http")?t.author.avatar_url:n.storage.from("user-avatars").getPublicUrl(t.author.avatar_url).data.publicUrl:null;r.useEffect(()=>{ae(),se()},[t.id,f]),r.useEffect(()=>{g&&re()},[g]);const se=async()=>{z(!0);try{const{data:a,error:c}=await n.from("forum_post_images").select("*").eq("post_id",t.id).order("display_order",{ascending:!0});if(c)throw c;Q(a||[])}catch(a){console.error("Erreur chargement images:",a)}finally{z(!1)}},ae=async()=>{if(f)try{const{data:a}=await n.from("forum_likes").select("id").eq("post_id",t.id).eq("user_id",f).maybeSingle();E(!!a)}catch(a){console.error("Erreur vÃ©rification like:",a)}},re=async()=>{I(!0);try{const{data:a,error:c}=await n.from("forum_comments").select("*").eq("post_id",t.id).order("created_at",{ascending:!0});if(c)throw c;const q=await Promise.all((a||[]).map(async $=>{try{const{data:O}=await n.from("user_profiles").select("*").eq("id",$.user_id).single();return{...$,author:O}}catch{return $}}));G(q)}catch(a){console.error("Erreur chargement commentaires:",a)}finally{I(!1)}},oe=async a=>{if(a.stopPropagation(),!!f)try{v?(await n.from("forum_likes").delete().eq("post_id",t.id).eq("user_id",f),E(!1),A(c=>c-1)):(await n.from("forum_likes").insert({post_id:t.id,user_id:f}),await n.rpc("create_notification",{p_user_id:t.user_id,p_actor_id:f,p_type:"like",p_post_id:t.id}),E(!0),A(c=>c+1))}catch(c){console.error("Erreur like:",c)}},o=async a=>{if(a.preventDefault(),!(!L.trim()||!f)){U(!0);try{const{data:c,error:q}=await n.from("forum_comments").insert({post_id:t.id,user_id:f,content:L.trim()}).select().single();if(q)throw q;await n.rpc("create_notification",{p_user_id:t.user_id,p_actor_id:f,p_type:"comment",p_post_id:t.id,p_comment_id:c.id}),J(""),re(),await n.from("forum_posts").update({comment_count:(t.comment_count||0)+1}).eq("id",t.id),C()}catch(c){console.error("Erreur ajout commentaire:",c),alert("Erreur lors de l'ajout du commentaire")}finally{U(!1)}}},i=async()=>{const a=`${t.title?t.title+`

`:""}${t.content}

PubliÃ© par ${S}`;try{await navigator.clipboard.writeText(a),F(!0),setTimeout(()=>F(!1),3e3),M(!1)}catch{alert("Texte copiÃ© !")}},m=async()=>{const a=`${window.location.origin}/social-feed?post=${t.id}`;try{await navigator.clipboard.writeText(a),F(!0),setTimeout(()=>F(!1),3e3),M(!1)}catch{alert("Lien copiÃ© !")}},h=()=>{const a=`${t.title?t.title+`

`:""}${t.content}

ðŸ‘‰ ${window.location.origin}/social-feed?post=${t.id}`,c=`https://wa.me/?text=${encodeURIComponent(a)}`;window.open(c,"_blank"),M(!1)},P=a=>{const c=new Date(a),$=new Date-c,O=Math.floor($/6e4),B=Math.floor($/36e5),H=Math.floor($/864e5);return O<60?`Il y a ${O} min`:B<24?`Il y a ${B}h`:H<7?`Il y a ${H}j`:c.toLocaleDateString("fr-FR")},k=p?"bg-gradient-to-br from-orange-50 to-yellow-50 border-2 border-orange-200 rounded-3xl shadow-sm p-4 sm:p-6 transition-smooth":"bg-white border border-gray-200 rounded-3xl shadow-sm p-4 sm:p-6 transition-smooth";return e.jsxs("div",{className:k,children:[e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("button",{onClick:()=>j(`/profile/${t.user_id}`),className:"flex-shrink-0",children:K?e.jsx("img",{src:K,alt:S,className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full object-cover cursor-pointer hover:opacity-80 transition-smooth"}):e.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm sm:text-base cursor-pointer hover:opacity-80 transition-smooth",children:S.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("button",{onClick:()=>j(`/profile/${t.user_id}`),className:"font-semibold text-gray-900 hover:underline text-sm sm:text-base truncate",children:S}),p&&e.jsx(Ue,{size:14,className:"sm:w-4 sm:h-4 text-orange-500 flex-shrink-0"})]}),e.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:P(t.created_at)})]})]}),t.title&&e.jsx("h3",{className:"text-base sm:text-lg font-heading font-semibold text-gray-900 mb-1 sm:mb-2",children:t.title}),e.jsx("p",{className:"text-sm sm:text-base text-gray-900 whitespace-pre-wrap leading-relaxed mb-3 sm:mb-4",children:t.content}),!X&&D.length>0&&e.jsx("div",{className:"mb-3 sm:mb-4 space-y-1 sm:space-y-2",children:D.map(a=>e.jsx("img",{src:a.image_url,alt:a.caption||"Image",className:"w-full rounded-xl",style:{maxHeight:"300px",objectFit:"contain"}},a.id))}),t.tags&&t.tags.length>0&&e.jsx("div",{className:"flex gap-1 sm:gap-2 flex-wrap mb-3 sm:mb-4",children:t.tags.map((a,c)=>e.jsxs("span",{className:`px-2 sm:px-3 py-0.5 sm:py-1 text-xs sm:text-sm font-medium rounded-full ${p?"bg-orange-100 text-orange-700":"bg-blue-100 text-blue-700"}`,children:["#",a]},c))}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-6 pt-3 sm:pt-4 border-t border-gray-200",children:[e.jsxs("button",{onClick:oe,className:"flex items-center gap-1 sm:gap-2",children:[e.jsx($e,{size:20,className:`sm:w-6 sm:h-6 ${v?"text-red-600":"text-gray-400"}`,fill:v?"currentColor":"none"}),e.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:x})]}),e.jsxs("button",{onClick:()=>Y(!g),className:"flex items-center gap-1 sm:gap-2",children:[e.jsx(De,{size:20,className:"sm:w-6 sm:h-6 text-gray-400"}),e.jsx("span",{className:"text-sm sm:text-base font-medium text-gray-700",children:t.comment_count||0})]}),e.jsx("button",{onClick:()=>M(!0),className:"flex items-center gap-1 sm:gap-2 ml-auto",children:e.jsx(ze,{size:20,className:"sm:w-6 sm:h-6 text-gray-400"})})]}),g&&e.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-gray-200 space-y-3 sm:space-y-4",children:[e.jsxs("form",{onSubmit:o,className:"flex gap-2 sm:gap-3",children:[w?e.jsx("img",{src:w,alt:"Avatar",className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover flex-shrink-0"}):e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs sm:text-sm flex-shrink-0",children:(y==null?void 0:y.charAt(0).toUpperCase())||"U"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("textarea",{value:L,onChange:a=>J(a.target.value),placeholder:"Ã‰crivez un commentaire...",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 resize-none",rows:2}),e.jsxs("button",{type:"submit",disabled:!L.trim()||T,className:"mt-1 sm:mt-2 px-3 sm:px-4 py-2 sm:py-3 bg-blue-500 text-white rounded-xl font-medium hover:bg-blue-600 transition-smooth disabled:bg-gray-300 flex items-center gap-1 sm:gap-2 text-sm sm:text-base",children:[e.jsx(Me,{size:16,className:"sm:w-5 sm:h-5"}),T?"Envoi...":"Commenter"]})]})]}),b?e.jsx("div",{className:"flex justify-center py-4 sm:py-8",children:e.jsx("div",{className:"animate-spin h-6 w-6 sm:h-8 sm:w-8 border-4 border-blue-500 border-t-transparent rounded-full"})}):R.length>0?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:R.map(a=>{var $,O,B,H;const c=(($=a.author)==null?void 0:$.full_name)||((B=(O=a.author)==null?void 0:O.email)==null?void 0:B.split("@")[0])||"Utilisateur",q=(H=a.author)!=null&&H.avatar_url?a.author.avatar_url.startsWith("http")?a.author.avatar_url:n.storage.from("user-avatars").getPublicUrl(a.author.avatar_url).data.publicUrl:null;return e.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>j(`/profile/${a.user_id}`),className:"flex-shrink-0",children:q?e.jsx("img",{src:q,alt:c,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full object-cover cursor-pointer hover:opacity-80 transition-smooth"}):e.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-xs sm:text-sm cursor-pointer hover:opacity-80 transition-smooth",children:c.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-gray-100 rounded-xl px-3 sm:px-4 py-2 sm:py-3",children:[e.jsx("button",{onClick:()=>j(`/profile/${a.user_id}`),className:"font-semibold text-xs sm:text-sm text-gray-900 mb-1 hover:underline block",children:c}),e.jsx("p",{className:"text-sm sm:text-base text-gray-900",children:a.content})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-1 ml-2 sm:ml-3",children:P(a.created_at)})]})]},a.id)})}):e.jsx("p",{className:"text-gray-600 text-center py-4 sm:py-8 text-sm sm:text-base",children:"Aucun commentaire"})]}),Z&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50",onClick:()=>M(!1),children:e.jsxs("div",{className:"bg-white rounded-t-3xl sm:rounded-3xl p-4 sm:p-6 max-w-md w-full space-y-3 sm:space-y-4",onClick:a=>a.stopPropagation(),children:[e.jsx("h3",{className:"text-lg sm:text-xl font-heading font-semibold text-gray-900 mb-3 sm:mb-4",children:"Partager"}),e.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 sm:gap-4 px-3 sm:px-4 py-3 sm:py-4 rounded-xl hover:bg-gray-100 text-left",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Copier le texte"})]}),e.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 sm:gap-4 px-3 sm:px-4 py-3 sm:py-4 rounded-xl hover:bg-gray-100 text-left",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"WhatsApp"})]}),e.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 sm:gap-4 px-3 sm:px-4 py-3 sm:py-4 rounded-xl hover:bg-gray-100 text-left",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gray-100 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),e.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base",children:"Copier le lien"})]})]})}),V&&e.jsx("div",{className:"fixed bottom-20 sm:bottom-24 left-1/2 transform -translate-x-1/2 z-50 bg-green-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-xl shadow-xl text-sm sm:text-base",children:"âœ… CopiÃ© !"})]})};export{Xe as default};
