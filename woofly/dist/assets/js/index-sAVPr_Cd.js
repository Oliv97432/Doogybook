import{u as xe,j as s,I as V,s as re}from"./index-CLNZn26n.js";import{g as D,r as P,R as U,d as Ee}from"./vendor-react-DEK6ZklB.js";import{P as y}from"./index-1Ar5VAb3.js";import{A as je}from"./AuthenticationShell-D5UeYcj_.js";import{I as L}from"./Input-BslhWPyc.js";import{B as z}from"./Button-DdMeh4nY.js";import{S as ne,C as Ae}from"./Select-DUXhztIk.js";import"./vendor-ui-DjEwDNDD.js";import"./vendor-supabase-DfwcnzK-.js";function Ne(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var ue=P,Ce=Ne(ue);function ie(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Se(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Oe=!!(typeof window<"u"&&window.document&&window.document.createElement);function Pe(t,e,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(a){return a.displayName||a.name||"Component"}return function(l){if(typeof l!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],u;function i(){u=t(o.map(function(m){return m.props})),f.canUseDOM?e(u):r&&(u=r(u))}var f=function(m){Se(v,m);function v(){return m.apply(this,arguments)||this}v.peek=function(){return u},v.rewind=function(){if(v.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var d=u;return u=void 0,o=[],d};var g=v.prototype;return g.UNSAFE_componentWillMount=function(){o.push(this),i()},g.componentDidUpdate=function(){i()},g.componentWillUnmount=function(){var d=o.indexOf(this);o.splice(d,1),i()},g.render=function(){return Ce.createElement(l,this.props)},v}(ue.PureComponent);return ie(f,"displayName","SideEffect("+n(l)+")"),ie(f,"canUseDOM",Oe),f}}var we=Pe;const Re=D(we);var Ie=typeof Element<"u",Le=typeof Map=="function",_e=typeof Set=="function",Me=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function G(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,a;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!G(t[n],e[n]))return!1;return!0}var l;if(Le&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(l=t.entries();!(n=l.next()).done;)if(!e.has(n.value[0]))return!1;for(l=t.entries();!(n=l.next()).done;)if(!G(n.value[1],e.get(n.value[0])))return!1;return!0}if(_e&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(l=t.entries();!(n=l.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(Me&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,a[n]))return!1;if(Ie&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((a[n]==="_owner"||a[n]==="__v"||a[n]==="__o")&&t.$$typeof)&&!G(t[a[n]],e[a[n]]))return!1;return!0}return t!==t&&e!==e}var ke=function(e,r){try{return G(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}};const He=D(ke);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var oe=Object.getOwnPropertySymbols,ze=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable;function qe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Ue(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(l){return e[l]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(l){a[l]=l}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Be=Ue()?Object.assign:function(t,e){for(var r,n=qe(t),a,l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var o in r)ze.call(r,o)&&(n[o]=r[o]);if(oe){a=oe(r);for(var u=0;u<a.length;u++)Fe.call(r,a[u])&&(n[a[u]]=r[a[u]])}}return n};const $e=D(Be);var _={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},h={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(h).map(function(t){return h[t]});var b={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},W={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},B={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Ye=Object.keys(W).reduce(function(t,e){return t[W[e]]=e,t},{}),Ve=[h.NOSCRIPT,h.SCRIPT,h.STYLE],S="data-react-helmet",Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},We=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Xe=function(){function t(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),A=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Je=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},ae=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},Qe=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},J=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Ze=function(e){var r=H(e,h.TITLE),n=H(e,B.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var a=H(e,B.DEFAULT_TITLE);return r||a||void 0},Ke=function(e){return H(e,B.ON_CHANGE_CLIENT_STATE)||function(){}},X=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,a){return A({},n,a)},{})},De=function(e,r){return r.filter(function(n){return typeof n[h.BASE]<"u"}).map(function(n){return n[h.BASE]}).reverse().reduce(function(n,a){if(!n.length)for(var l=Object.keys(a),o=0;o<l.length;o++){var u=l[o],i=u.toLowerCase();if(e.indexOf(i)!==-1&&a[i])return n.concat(a)}return n},[])},F=function(e,r,n){var a={};return n.filter(function(l){return Array.isArray(l[e])?!0:(typeof l[e]<"u"&&nt("Helmet: "+e+' should be of type "Array". Instead found type "'+Ge(l[e])+'"'),!1)}).map(function(l){return l[e]}).reverse().reduce(function(l,o){var u={};o.filter(function(g){for(var T=void 0,d=Object.keys(g),x=0;x<d.length;x++){var N=d[x],C=N.toLowerCase();r.indexOf(C)!==-1&&!(T===b.REL&&g[T].toLowerCase()==="canonical")&&!(C===b.REL&&g[C].toLowerCase()==="stylesheet")&&(T=C),r.indexOf(N)!==-1&&(N===b.INNER_HTML||N===b.CSS_TEXT||N===b.ITEM_PROP)&&(T=N)}if(!T||!g[T])return!1;var w=g[T].toLowerCase();return a[T]||(a[T]={}),u[T]||(u[T]={}),a[T][w]?!1:(u[T][w]=!0,!0)}).reverse().forEach(function(g){return l.push(g)});for(var i=Object.keys(u),f=0;f<i.length;f++){var m=i[f],v=$e({},a[m],u[m]);a[m]=v}return l},[]).reverse()},H=function(e,r){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.hasOwnProperty(r))return a[r]}return null},et=function(e){return{baseTag:De([b.HREF,b.TARGET],e),bodyAttributes:X(_.BODY,e),defer:H(e,B.DEFER),encode:H(e,B.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:X(_.HTML,e),linkTags:F(h.LINK,[b.REL,b.HREF],e),metaTags:F(h.META,[b.NAME,b.CHARSET,b.HTTPEQUIV,b.PROPERTY,b.ITEM_PROP],e),noscriptTags:F(h.NOSCRIPT,[b.INNER_HTML],e),onChangeClientState:Ke(e),scriptTags:F(h.SCRIPT,[b.SRC,b.INNER_HTML],e),styleTags:F(h.STYLE,[b.CSS_TEXT],e),title:Ze(e),titleAttributes:X(_.TITLE,e)}},Q=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){Q(e)},0)}}(),se=function(e){return clearTimeout(e)},tt=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Q:global.requestAnimationFrame||Q,rt=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||se:global.cancelAnimationFrame||se,nt=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},q=null,it=function(e){q&&rt(q),e.defer?q=tt(function(){le(e,function(){q=null})}):(le(e),q=null)},le=function(e,r){var n=e.baseTag,a=e.bodyAttributes,l=e.htmlAttributes,o=e.linkTags,u=e.metaTags,i=e.noscriptTags,f=e.onChangeClientState,m=e.scriptTags,v=e.styleTags,g=e.title,T=e.titleAttributes;Z(h.BODY,a),Z(h.HTML,l),ot(g,T);var d={baseTag:k(h.BASE,n),linkTags:k(h.LINK,o),metaTags:k(h.META,u),noscriptTags:k(h.NOSCRIPT,i),scriptTags:k(h.SCRIPT,m),styleTags:k(h.STYLE,v)},x={},N={};Object.keys(d).forEach(function(C){var w=d[C],$=w.newTags,R=w.oldTags;$.length&&(x[C]=$),R.length&&(N[C]=d[C].oldTags)}),r&&r(),f(e,x,N)},de=function(e){return Array.isArray(e)?e.join(""):e},ot=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=de(e)),Z(h.TITLE,r)},Z=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var a=n.getAttribute(S),l=a?a.split(","):[],o=[].concat(l),u=Object.keys(r),i=0;i<u.length;i++){var f=u[i],m=r[f]||"";n.getAttribute(f)!==m&&n.setAttribute(f,m),l.indexOf(f)===-1&&l.push(f);var v=o.indexOf(f);v!==-1&&o.splice(v,1)}for(var g=o.length-1;g>=0;g--)n.removeAttribute(o[g]);l.length===o.length?n.removeAttribute(S):n.getAttribute(S)!==u.join(",")&&n.setAttribute(S,u.join(","))}},k=function(e,r){var n=document.head||document.querySelector(h.HEAD),a=n.querySelectorAll(e+"["+S+"]"),l=Array.prototype.slice.call(a),o=[],u=void 0;return r&&r.length&&r.forEach(function(i){var f=document.createElement(e);for(var m in i)if(i.hasOwnProperty(m))if(m===b.INNER_HTML)f.innerHTML=i.innerHTML;else if(m===b.CSS_TEXT)f.styleSheet?f.styleSheet.cssText=i.cssText:f.appendChild(document.createTextNode(i.cssText));else{var v=typeof i[m]>"u"?"":i[m];f.setAttribute(m,v)}f.setAttribute(S,"true"),l.some(function(g,T){return u=T,f.isEqualNode(g)})?l.splice(u,1):o.push(f)}),l.forEach(function(i){return i.parentNode.removeChild(i)}),o.forEach(function(i){return n.appendChild(i)}),{oldTags:l,newTags:o}},fe=function(e){return Object.keys(e).reduce(function(r,n){var a=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+a:a},"")},at=function(e,r,n,a){var l=fe(n),o=de(r);return l?"<"+e+" "+S+'="true" '+l+">"+J(o,a)+"</"+e+">":"<"+e+" "+S+'="true">'+J(o,a)+"</"+e+">"},st=function(e,r,n){return r.reduce(function(a,l){var o=Object.keys(l).filter(function(f){return!(f===b.INNER_HTML||f===b.CSS_TEXT)}).reduce(function(f,m){var v=typeof l[m]>"u"?m:m+'="'+J(l[m],n)+'"';return f?f+" "+v:v},""),u=l.innerHTML||l.cssText||"",i=Ve.indexOf(e)===-1;return a+"<"+e+" "+S+'="true" '+o+(i?"/>":">"+u+"</"+e+">")},"")},me=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[W[a]||a]=e[a],n},r)},lt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,a){return n[Ye[a]||a]=e[a],n},r)},ct=function(e,r,n){var a,l=(a={key:r},a[S]=!0,a),o=me(n,l);return[U.createElement(h.TITLE,o,r)]},ut=function(e,r){return r.map(function(n,a){var l,o=(l={key:a},l[S]=!0,l);return Object.keys(n).forEach(function(u){var i=W[u]||u;if(i===b.INNER_HTML||i===b.CSS_TEXT){var f=n.innerHTML||n.cssText;o.dangerouslySetInnerHTML={__html:f}}else o[i]=n[u]}),U.createElement(e,o)})},O=function(e,r,n){switch(e){case h.TITLE:return{toComponent:function(){return ct(e,r.title,r.titleAttributes)},toString:function(){return at(e,r.title,r.titleAttributes,n)}};case _.BODY:case _.HTML:return{toComponent:function(){return me(r)},toString:function(){return fe(r)}};default:return{toComponent:function(){return ut(e,r)},toString:function(){return st(e,r,n)}}}},pe=function(e){var r=e.baseTag,n=e.bodyAttributes,a=e.encode,l=e.htmlAttributes,o=e.linkTags,u=e.metaTags,i=e.noscriptTags,f=e.scriptTags,m=e.styleTags,v=e.title,g=v===void 0?"":v,T=e.titleAttributes;return{base:O(h.BASE,r,a),bodyAttributes:O(_.BODY,n,a),htmlAttributes:O(_.HTML,l,a),link:O(h.LINK,o,a),meta:O(h.META,u,a),noscript:O(h.NOSCRIPT,i,a),script:O(h.SCRIPT,f,a),style:O(h.STYLE,m,a),title:O(h.TITLE,{title:g,titleAttributes:T},a)}},dt=function(e){var r,n;return n=r=function(a){Je(l,a);function l(){return We(this,l),Qe(this,a.apply(this,arguments))}return l.prototype.shouldComponentUpdate=function(u){return!He(this.props,u)},l.prototype.mapNestedChildrenToProps=function(u,i){if(!i)return null;switch(u.type){case h.SCRIPT:case h.NOSCRIPT:return{innerHTML:i};case h.STYLE:return{cssText:i}}throw new Error("<"+u.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},l.prototype.flattenArrayTypeChildren=function(u){var i,f=u.child,m=u.arrayTypeChildren,v=u.newChildProps,g=u.nestedChildren;return A({},m,(i={},i[f.type]=[].concat(m[f.type]||[],[A({},v,this.mapNestedChildrenToProps(f,g))]),i))},l.prototype.mapObjectTypeChildren=function(u){var i,f,m=u.child,v=u.newProps,g=u.newChildProps,T=u.nestedChildren;switch(m.type){case h.TITLE:return A({},v,(i={},i[m.type]=T,i.titleAttributes=A({},g),i));case h.BODY:return A({},v,{bodyAttributes:A({},g)});case h.HTML:return A({},v,{htmlAttributes:A({},g)})}return A({},v,(f={},f[m.type]=A({},g),f))},l.prototype.mapArrayTypeChildrenToProps=function(u,i){var f=A({},i);return Object.keys(u).forEach(function(m){var v;f=A({},f,(v={},v[m]=u[m],v))}),f},l.prototype.warnOnInvalidChildren=function(u,i){return!0},l.prototype.mapChildrenToProps=function(u,i){var f=this,m={};return U.Children.forEach(u,function(v){if(!(!v||!v.props)){var g=v.props,T=g.children,d=ae(g,["children"]),x=lt(d);switch(f.warnOnInvalidChildren(v,T),v.type){case h.LINK:case h.META:case h.NOSCRIPT:case h.SCRIPT:case h.STYLE:m=f.flattenArrayTypeChildren({child:v,arrayTypeChildren:m,newChildProps:x,nestedChildren:T});break;default:i=f.mapObjectTypeChildren({child:v,newProps:i,newChildProps:x,nestedChildren:T});break}}}),i=this.mapArrayTypeChildrenToProps(m,i),i},l.prototype.render=function(){var u=this.props,i=u.children,f=ae(u,["children"]),m=A({},f);return i&&(m=this.mapChildrenToProps(i,m)),U.createElement(e,m)},Xe(l,null,[{key:"canUseDOM",set:function(u){e.canUseDOM=u}}]),l}(U.Component),r.propTypes={base:y.object,bodyAttributes:y.object,children:y.oneOfType([y.arrayOf(y.node),y.node]),defaultTitle:y.string,defer:y.bool,encodeSpecialCharacters:y.bool,htmlAttributes:y.object,link:y.arrayOf(y.object),meta:y.arrayOf(y.object),noscript:y.arrayOf(y.object),onChangeClientState:y.func,script:y.arrayOf(y.object),style:y.arrayOf(y.object),title:y.string,titleAttributes:y.object,titleTemplate:y.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var a=e.rewind();return a||(a=pe({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),a},n},ft=function(){return null},mt=Re(et,it,pe)(ft),K=dt(mt);K.renderStatic=K.rewind;const pt=()=>{const t=Ee(),{signUp:e}=xe(),[r,n]=P.useState(1),[a,l]=P.useState(!1),[o,u]=P.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[i,f]=P.useState({dogName:"",breed:"",age:"",ageUnit:"years"}),[m,v]=P.useState(!1),[g,T]=P.useState(!1),[d,x]=P.useState({}),N=[{value:"malinois",label:"Malinois"},{value:"shih-tzu",label:"Shih-Tzu"},{value:"american-bully",label:"American Bully"},{value:"golden-retriever",label:"Golden Retriever"},{value:"labrador",label:"Labrador"},{value:"berger-allemand",label:"Berger Allemand"},{value:"bouledogue-francais",label:"Bouledogue Français"},{value:"chihuahua",label:"Chihuahua"},{value:"husky",label:"Husky Sibérien"},{value:"beagle",label:"Beagle"},{value:"mixed",label:"Race Mixte"},{value:"other",label:"Autre"}],C=[{value:"months",label:"Mois"},{value:"years",label:"Ans"}],w=()=>{var p,E,j,I,M;const c={};return(p=o==null?void 0:o.firstName)!=null&&p.trim()||(c.firstName="Le prénom est requis"),(E=o==null?void 0:o.lastName)!=null&&E.trim()||(c.lastName="Le nom est requis"),(j=o==null?void 0:o.email)!=null&&j.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o==null?void 0:o.email)||(c.email="Format d'email invalide"):c.email="L'email est requis",o!=null&&o.password?((I=o==null?void 0:o.password)==null?void 0:I.length)<8?c.password="Le mot de passe doit contenir au moins 8 caractères":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(o==null?void 0:o.password)||(c.password="Le mot de passe doit contenir au moins une majuscule, une minuscule et un chiffre"):c.password="Le mot de passe est requis",o!=null&&o.confirmPassword?(o==null?void 0:o.password)!==(o==null?void 0:o.confirmPassword)&&(c.confirmPassword="Les mots de passe ne correspondent pas"):c.confirmPassword="Veuillez confirmer votre mot de passe",x(c),((M=Object.keys(c))==null?void 0:M.length)===0},$=()=>{var p,E,j;const c={};return g?(m||(c.terms="Vous devez accepter les conditions d'utilisation"),x(c),((p=Object.keys(c))==null?void 0:p.length)===0):((E=i==null?void 0:i.dogName)!=null&&E.trim()||(c.dogName="Le nom du chien est requis"),i!=null&&i.breed||(c.breed="Veuillez sélectionner une race"),i!=null&&i.age?isNaN(i==null?void 0:i.age)||(i==null?void 0:i.age)<0?c.age="Veuillez entrer un âge valide":(i==null?void 0:i.ageUnit)==="years"&&(i==null?void 0:i.age)>30?c.age="Veuillez entrer un âge valide (0-30 ans)":(i==null?void 0:i.ageUnit)==="months"&&(i==null?void 0:i.age)>360&&(c.age="Veuillez entrer un âge valide (0-360 mois)"):c.age="L'âge est requis",m||(c.terms="Vous devez accepter les conditions d'utilisation"),x(c),((j=Object.keys(c))==null?void 0:j.length)===0)},R=(c,p)=>{u(E=>({...E,[c]:p})),d!=null&&d[c]&&x(E=>({...E,[c]:""}))},Y=(c,p)=>{f(E=>({...E,[c]:p})),d!=null&&d[c]&&x(E=>({...E,[c]:""}))},he=()=>{w()&&n(2)},ve=()=>{n(1),x({}),T(!1)},ge=()=>{T(!0),x(c=>{const p={...c};return delete p.dogName,delete p.breed,delete p.age,p})},Te=(c,p)=>{const E=new Date;let j=new Date(E);return p==="years"?j.setFullYear(E.getFullYear()-parseInt(c)):j.setMonth(E.getMonth()-parseInt(c)),j.toISOString().split("T")[0]},ye=async c=>{var p,E;if(c==null||c.preventDefault(),!!$()){l(!0),x({});try{const{data:j,error:I}=await e(o==null?void 0:o.email,o==null?void 0:o.password);if(I){x({general:(I==null?void 0:I.message)||"Échec de l'inscription. Veuillez réessayer."}),l(!1);return}const M=(p=j==null?void 0:j.user)==null?void 0:p.id;if(!M){x({general:"Erreur lors de la création du compte"}),l(!1);return}const{error:ee}=await re.from("users").insert([{id:M,email:o==null?void 0:o.email,full_name:`${o==null?void 0:o.firstName} ${o==null?void 0:o.lastName}`}]);if(ee&&console.error("Erreur création profil utilisateur:",ee),!g&&((E=i==null?void 0:i.dogName)!=null&&E.trim())){const be=Te(i==null?void 0:i.age,i==null?void 0:i.ageUnit),{error:te}=await re.from("dogs").insert([{user_id:M,name:i==null?void 0:i.dogName,breed:i==null?void 0:i.breed,birth_date:be,is_active:!0}]);te&&console.error("Erreur création profil chien:",te)}t("/multi-profile-management")}catch(j){console.error("Erreur inscription:",j),x({general:"Une erreur inattendue s'est produite. Veuillez réessayer."})}finally{l(!1)}}};return s.jsxs("form",{onSubmit:ye,className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between mb-8",children:s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${r>=1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:r>1?s.jsx(V,{name:"Check",size:20}):s.jsx("span",{className:"font-semibold",children:"1"})}),s.jsx("div",{className:"flex-1 h-1 bg-muted rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-primary transition-all duration-300 ${r>=2?"w-full":"w-0"}`})}),s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${r>=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:s.jsx("span",{className:"font-semibold",children:"2"})})]})}),(d==null?void 0:d.general)&&s.jsx("div",{className:"bg-destructive/10 border border-destructive/20 text-destructive rounded-lg p-4",children:s.jsx("p",{className:"text-sm font-medium",children:d.general})}),r===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:"Vos informations"}),s.jsx("p",{className:"text-sm text-muted-foreground font-caption",children:"Créez votre compte pour commencer"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(L,{label:"Prénom",type:"text",placeholder:"Entrez votre prénom",value:o==null?void 0:o.firstName,onChange:c=>{var p;return R("firstName",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.firstName,required:!0}),s.jsx(L,{label:"Nom",type:"text",placeholder:"Entrez votre nom",value:o==null?void 0:o.lastName,onChange:c=>{var p;return R("lastName",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.lastName,required:!0})]}),s.jsx(L,{label:"Adresse email",type:"email",placeholder:"votre.email@exemple.fr",value:o==null?void 0:o.email,onChange:c=>{var p;return R("email",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.email,description:"Nous ne partagerons jamais votre email",required:!0}),s.jsx(L,{label:"Mot de passe",type:"password",placeholder:"Créez un mot de passe sécurisé",value:o==null?void 0:o.password,onChange:c=>{var p;return R("password",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.password,description:"Au moins 8 caractères avec majuscule, minuscule et chiffre",required:!0}),s.jsx(L,{label:"Confirmer le mot de passe",type:"password",placeholder:"Confirmez votre mot de passe",value:o==null?void 0:o.confirmPassword,onChange:c=>{var p;return R("confirmPassword",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.confirmPassword,required:!0}),s.jsx(z,{type:"button",variant:"default",fullWidth:!0,onClick:he,iconName:"ArrowRight",iconPosition:"right",children:"Continuer"}),s.jsx("div",{className:"text-center",children:s.jsxs("p",{className:"text-sm text-muted-foreground font-caption",children:["Vous avez déjà un compte ?"," ",s.jsx("button",{type:"button",onClick:()=>t("/login"),className:"text-primary hover:underline font-medium",children:"Se connecter"})]})})]}),r===2&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:g?"Finaliser votre inscription":"Informations sur votre chien"}),s.jsx("p",{className:"text-sm text-muted-foreground font-caption",children:g?"Vous pourrez ajouter votre chien plus tard":"Parlez-nous de votre compagnon (optionnel)"})]}),g&&s.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r",children:s.jsxs("p",{className:"text-sm text-blue-900",children:[s.jsx("strong",{children:"✓ Aucun problème !"}),s.jsx("br",{}),"Vous pourrez ajouter votre chien depuis votre profil après l'inscription."]})}),!g&&s.jsxs(s.Fragment,{children:[s.jsx(L,{label:"Nom du chien",type:"text",placeholder:"Ex: Max, Bella, Rex...",value:i==null?void 0:i.dogName,onChange:c=>{var p;return Y("dogName",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.dogName}),s.jsx(ne,{label:"Race",placeholder:"Sélectionnez la race",options:N,value:i==null?void 0:i.breed,onChange:c=>Y("breed",c),error:d==null?void 0:d.breed,searchable:!0}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium text-foreground",children:"Âge"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsx(L,{type:"number",placeholder:"Ex: 2",value:i==null?void 0:i.age,onChange:c=>{var p;return Y("age",(p=c==null?void 0:c.target)==null?void 0:p.value)},error:d==null?void 0:d.age,min:"0",max:(i==null?void 0:i.ageUnit)==="years"?"30":"360"}),s.jsx(ne,{options:C,value:i==null?void 0:i.ageUnit,onChange:c=>Y("ageUnit",c)})]}),(d==null?void 0:d.age)&&s.jsx("p",{className:"text-xs text-destructive mt-1",children:d.age})]})]}),s.jsx("div",{className:"bg-muted/50 rounded-lg p-4 border border-border",children:s.jsx(Ae,{label:"J'accepte les conditions d'utilisation et la politique de confidentialité",checked:m,onChange:c=>{var p;v((p=c==null?void 0:c.target)==null?void 0:p.checked),d!=null&&d.terms&&x(E=>({...E,terms:""}))},error:d==null?void 0:d.terms,required:!0})}),g?s.jsxs("div",{className:"flex gap-3",children:[s.jsx(z,{type:"button",variant:"outline",onClick:()=>{T(!1),x({})},className:"flex-1",children:"Ajouter mon chien maintenant"}),s.jsx(z,{type:"submit",variant:"default",loading:a,iconName:"Check",iconPosition:"right",className:"flex-1",children:"Terminer l'inscription"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx(z,{type:"button",variant:"outline",onClick:ve,iconName:"ArrowLeft",iconPosition:"left",className:"flex-1",children:"Retour"}),s.jsx(z,{type:"submit",variant:"default",loading:a,iconName:"Check",iconPosition:"right",className:"flex-1",children:"Créer mon compte"})]}),s.jsx("div",{className:"text-center",children:s.jsx("button",{type:"button",onClick:ge,className:"text-sm text-muted-foreground hover:text-foreground underline font-medium",children:"Je n'ai pas encore de chien"})})]})]})]})},ce=()=>{const t=[{icon:"Heart",title:"Suivi de santé complet",description:"Gardez un historique détaillé des vaccinations, traitements et visites vétérinaires"},{icon:"Users",title:"Communauté active",description:"Échangez avec d'autres propriétaires de la même race que votre chien"},{icon:"BookOpen",title:"Conseils quotidiens",description:"Recevez des astuces d'experts pour améliorer le bien-être de votre compagnon"},{icon:"Bell",title:"Rappels automatiques",description:"Ne manquez plus jamais un rendez-vous vétérinaire ou un traitement important"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center lg:text-left",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-2xl mb-4",children:s.jsx(V,{name:"Dog",size:32,color:"var(--color-primary)"})}),s.jsx("h2",{className:"text-2xl lg:text-3xl font-heading font-semibold text-foreground mb-3",children:"Bienvenue sur Doogybook"}),s.jsx("p",{className:"text-muted-foreground font-caption text-base lg:text-lg",children:"La plateforme complète pour prendre soin de votre chien et rejoindre une communauté passionnée"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t==null?void 0:t.map((e,r)=>s.jsx("div",{className:"bg-card rounded-lg p-4 border border-border hover:shadow-elevated transition-smooth",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:s.jsx(V,{name:e==null?void 0:e.icon,size:20,color:"var(--color-primary)"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-heading font-semibold text-foreground mb-1",children:e==null?void 0:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground font-caption",children:e==null?void 0:e.description})]})]})},r))}),s.jsx("div",{className:"bg-accent/10 rounded-lg p-4 border border-accent/20",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(V,{name:"Info",size:20,color:"var(--color-accent)",className:"flex-shrink-0 mt-0.5"}),s.jsx("div",{children:s.jsxs("p",{className:"text-sm text-accent-foreground font-caption",children:[s.jsx("strong",{className:"font-semibold",children:"Gratuit et sans engagement."})," Commencez dès maintenant à gérer la santé de votre chien et connectez-vous avec des milliers de propriétaires."]})})]})})]})},At=()=>s.jsxs(s.Fragment,{children:[s.jsxs(K,{children:[s.jsx("title",{children:"Inscription - Doogybook"}),s.jsx("meta",{name:"description",content:"Créez votre compte Doogybook et commencez à gérer la santé de votre chien. Rejoignez une communauté de propriétaires passionnés."})]}),s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12 max-w-7xl mx-auto",children:[s.jsx("div",{className:"hidden lg:flex flex-col justify-center",children:s.jsx(ce,{})}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsx(je,{title:"Créer un compte",subtitle:"Rejoignez la communauté Doogybook",children:s.jsx(pt,{})})})}),s.jsx("div",{className:"lg:hidden",children:s.jsx(ce,{})})]})}),s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card/80 backdrop-blur-sm border-t border-border py-3 px-4 lg:hidden",children:s.jsx("p",{className:"text-xs text-center text-muted-foreground font-caption",children:"En créant un compte, vous acceptez nos conditions d'utilisation"})})]})]});export{At as default};
