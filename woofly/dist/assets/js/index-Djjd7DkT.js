import{j as e,I as m,u as k}from"./index-PRF-HlSu.js";import{d as b,r as d}from"./vendor-react-DEK6ZklB.js";import{A as S}from"./AuthenticationShell-iZAJNAaZ.js";import{I as j}from"./Input-DMb6f0zu.js";import{B as f}from"./Button-Den1ELj5.js";import"./vendor-ui-DjEwDNDD.js";import"./vendor-supabase-DfwcnzK-.js";const z=()=>{const o=[{icon:"Heart",text:"Suivez la santé de votre compagnon"},{icon:"Users",text:"Rejoignez une communauté passionnée"},{icon:"BookOpen",text:"Accédez à des conseils d'experts"}];return e.jsxs("div",{className:"text-center space-y-6 mb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:"/logo.png",alt:"Doogybook",className:"w-40 h-40"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-4xl font-heading font-semibold text-foreground",children:"Bienvenue sur Doogybook"}),e.jsx("p",{className:"text-lg text-muted-foreground font-caption max-w-md mx-auto",children:"Le réseau social des chiens"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto pt-4",children:o==null?void 0:o.map((t,s)=>e.jsxs("div",{className:"flex flex-col items-center gap-2 p-4 rounded-lg bg-muted/50 hover:bg-muted transition-colors",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(m,{name:t==null?void 0:t.icon,size:20,color:"var(--color-primary)"})}),e.jsx("p",{className:"text-sm text-foreground font-medium text-center",children:t==null?void 0:t.text})]},s))})]})},E=()=>{const o=b(),{signIn:t}=k(),[s,v]=d.useState({email:"",password:""}),[r,c]=d.useState({}),[x,N]=d.useState(!1),[l,h]=d.useState(!1),y=a=>{const i=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return i==null?void 0:i.test(a)},g=a=>{const{name:i,value:u}=a==null?void 0:a.target;v(n=>({...n,[i]:u})),r!=null&&r[i]&&c(n=>({...n,[i]:""}))},w=async a=>{var u;a==null||a.preventDefault();const i={};if(s!=null&&s.email?y(s==null?void 0:s.email)||(i.email="Veuillez entrer une adresse e-mail valide"):i.email="L'adresse e-mail est requise",s!=null&&s.password||(i.password="Le mot de passe est requis"),((u=Object.keys(i))==null?void 0:u.length)>0){c(i);return}h(!0),c({});try{const{data:n,error:p}=await t(s==null?void 0:s.email,s==null?void 0:s.password);p?c({general:(p==null?void 0:p.message)||"Échec de la connexion. Veuillez vérifier vos identifiants."}):n!=null&&n.user&&o("/dashboard")}catch{c({general:"Une erreur inattendue s'est produite. Veuillez réessayer."})}finally{h(!1)}};return e.jsxs("form",{onSubmit:w,className:"space-y-6",noValidate:!0,children:[(r==null?void 0:r.general)&&e.jsxs("div",{className:"bg-error/10 border border-error/20 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(m,{name:"AlertCircle",size:20,color:"var(--color-error)",className:"flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-error flex-1",children:r==null?void 0:r.general})]}),e.jsx("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(m,{name:"Info",size:20,color:"var(--color-primary)",className:"flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-foreground mb-1",children:"Identifiants de démonstration"}),e.jsxs("div",{className:"text-sm text-muted-foreground space-y-1",children:[e.jsx("p",{children:"Email: marie.dupont@Doogybook.fr"}),e.jsx("p",{children:"Mot de passe: Doogybook2025!"})]})]})]})}),e.jsx(j,{type:"email",name:"email",label:"Adresse e-mail",placeholder:"votre.email@exemple.fr",value:s==null?void 0:s.email,onChange:g,error:r==null?void 0:r.email,required:!0,disabled:l}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{type:x?"text":"password",name:"password",label:"Mot de passe",placeholder:"Entrez votre mot de passe",value:s==null?void 0:s.password,onChange:g,error:r==null?void 0:r.password,required:!0,disabled:l}),e.jsx("button",{type:"button",onClick:()=>N(!x),className:"absolute right-3 top-[38px] text-muted-foreground hover:text-foreground transition-colors","aria-label":x?"Masquer le mot de passe":"Afficher le mot de passe",disabled:l,children:e.jsx(m,{name:x?"EyeOff":"Eye",size:20})})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{type:"button",onClick:()=>o("/register"),className:"text-sm text-primary hover:text-primary/80 font-medium transition-colors",disabled:l,children:"Mot de passe oublié ?"})}),e.jsx(f,{type:"submit",variant:"default",fullWidth:!0,loading:l,iconName:"LogIn",iconPosition:"right",children:"Se connecter"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-border"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-card text-muted-foreground font-caption",children:"Nouveau sur Doogybook ?"})})]}),e.jsx(f,{type:"button",variant:"outline",fullWidth:!0,onClick:()=>o("/register"),iconName:"UserPlus",iconPosition:"left",disabled:l,children:"Créer un compte"})]})},I=()=>{const o=[{icon:"Shield",text:"Données sécurisées et confidentielles"},{icon:"Award",text:"Recommandé par les vétérinaires français"},{icon:"Users",text:"Plus de 50 000 propriétaires de chiens"}];return e.jsx("div",{className:"mt-8 pt-6 border-t border-border",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:o==null?void 0:o.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-3 justify-center sm:justify-start",children:[e.jsx(m,{name:t==null?void 0:t.icon,size:20,color:"var(--color-success)",className:"flex-shrink-0"}),e.jsx("p",{className:"text-xs text-muted-foreground font-caption text-center sm:text-left",children:t==null?void 0:t.text})]},s))})})},M=()=>{const o=b();return d.useEffect(()=>{localStorage.getItem("Doogybook_user")&&o("/dashboard")},[o]),e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-secondary/5",children:[e.jsx("div",{className:"container mx-auto px-4 py-8 lg:py-12",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 lg:gap-12 items-center",children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(z,{})}),e.jsx("div",{className:"w-full",children:e.jsxs(S,{title:"Connexion",subtitle:"Accédez à votre espace personnel",children:[e.jsx("div",{className:"lg:hidden mb-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("img",{src:"/logo.png",alt:"Doogybook",className:"w-32 h-32 mx-auto"}),e.jsx("h2",{className:"text-2xl font-heading font-semibold text-foreground",children:"Bienvenue sur Doogybook"}),e.jsx("p",{className:"text-muted-foreground font-caption",children:"Le réseau social des chiens"})]})}),e.jsx(E,{}),e.jsx(I,{})]})})]})})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card/80 backdrop-blur-sm border-t border-border py-3 px-4",children:e.jsxs("p",{className:"text-center text-xs text-muted-foreground font-caption",children:["© ",new Date().getFullYear()," Doogybook. Tous droits réservés. | Fait avec ❤️ pour nos amis à quatre pattes"]})})]})};export{M as default};
