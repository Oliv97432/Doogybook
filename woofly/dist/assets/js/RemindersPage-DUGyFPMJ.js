import{j as i,s as Y,u as me}from"./index-PRF-HlSu.js";import{r as P,d as le}from"./vendor-react-DEK6ZklB.js";import{T as J}from"./TabNavigation-D4Sg61vH.js";import{U as fe}from"./UserMenu-C2JzGG-l.js";import{F as he}from"./Footer-r7OqyYD5.js";import{P as ge}from"./PremiumModal-Cd_mLJmK.js";import{i as be,X as ye,d as we,J as xe,g as K,b as ve,ab as pe,ac as Me,Z as Pe,s as X,P as H}from"./vendor-ui-DjEwDNDD.js";import"./vendor-supabase-DfwcnzK-.js";const Z=6048e5,je=864e5,z=Symbol.for("constructDateFrom");function p(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&z in e?e[z](t):e instanceof Date?new e.constructor(t):new Date(t)}function v(e,t){return p(t||e,e)}function ke(e,t,r){const n=v(e,r==null?void 0:r.in);return isNaN(t)?p(e,NaN):(n.setDate(n.getDate()+t),n)}let De={};function $(){return De}function E(e,t){var u,d,y,h;const r=$(),n=(t==null?void 0:t.weekStartsOn)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(y=r.locale)==null?void 0:y.options)==null?void 0:h.weekStartsOn)??0,a=v(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function F(e,t){return E(e,{...t,weekStartsOn:1})}function ee(e,t){const r=v(e,t==null?void 0:t.in),n=r.getFullYear(),a=p(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=F(a),o=p(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const u=F(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Q(e){const t=v(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function L(e,...t){const r=p.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function q(e,t){const r=v(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function te(e,t,r){const[n,a]=L(r==null?void 0:r.in,e,t),s=q(n),o=q(a),u=+s-Q(s),d=+o-Q(o);return Math.round((u-d)/je)}function Ne(e,t){const r=ee(e,t),n=p(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),F(n)}function re(e){return p(e,Date.now())}function ne(e,t,r){const[n,a]=L(r==null?void 0:r.in,e,t);return+q(n)==+q(a)}function We(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Oe(e){return!(!We(e)&&typeof e!="number"||isNaN(+v(e)))}function R(e,t,r){const[n,a]=L(r==null?void 0:r.in,e,t),s=V(n,a),o=Math.abs(te(n,a));n.setDate(n.getDate()-s*o);const u=+(V(n,a)===-s),d=s*(o-u);return d===0?0:d}function V(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function _e(e,t){const r=v(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Se={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ce=(e,t,r)=>{let n;const a=Se[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function C(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Te={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Fe={date:C({formats:Te,defaultWidth:"full"}),time:C({formats:Ye,defaultWidth:"full"}),dateTime:C({formats:Ee,defaultWidth:"full"})},qe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$e=(e,t,r,n)=>qe[e];function j(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=r!=null&&r.width?String(r.width):o;a=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[u]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const He={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Re={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ae={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Le={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Je={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ze=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qe={ordinalNumber:ze,era:j({values:He,defaultWidth:"wide"}),quarter:j({values:Re,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:Ae,defaultWidth:"wide"}),day:j({values:Le,defaultWidth:"wide"}),dayPeriod:j({values:Je,defaultWidth:"wide",formattingValues:Xe,defaultFormattingWidth:"wide"})};function k(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?Ge(u,x=>x.test(o)):Ve(u,x=>x.test(o));let y;y=e.valueCallback?e.valueCallback(d):d,y=r.valueCallback?r.valueCallback(y):y;const h=t.slice(o.length);return{value:y,rest:h}}}function Ve(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Ge(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ae(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const u=t.slice(a.length);return{value:o,rest:u}}}const Be=/^(\d+)(th|st|nd|rd)?/i,Ie=/\d+/i,Ue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ke={any:[/^b/i,/^(a|c)/i]},Ze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},et={any:[/1/i,/2/i,/3/i,/4/i]},tt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},at={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},it={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},st={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ot={ordinalNumber:ae({matchPattern:Be,parsePattern:Ie,valueCallback:e=>parseInt(e,10)}),era:k({matchPatterns:Ue,defaultMatchWidth:"wide",parsePatterns:Ke,defaultParseWidth:"any"}),quarter:k({matchPatterns:Ze,defaultMatchWidth:"wide",parsePatterns:et,defaultParseWidth:"any",valueCallback:e=>e+1}),month:k({matchPatterns:tt,defaultMatchWidth:"wide",parsePatterns:rt,defaultParseWidth:"any"}),day:k({matchPatterns:nt,defaultMatchWidth:"wide",parsePatterns:at,defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:it,defaultMatchWidth:"any",parsePatterns:st,defaultParseWidth:"any"})},ct={code:"en-US",formatDistance:Ce,formatLong:Fe,formatRelative:$e,localize:Qe,match:ot,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ut(e,t){const r=v(e,t==null?void 0:t.in);return te(r,_e(r))+1}function dt(e,t){const r=v(e,t==null?void 0:t.in),n=+F(r)-+Ne(r);return Math.round(n/Z)+1}function ie(e,t){var h,x,D,M;const r=v(e,t==null?void 0:t.in),n=r.getFullYear(),a=$(),s=(t==null?void 0:t.firstWeekContainsDate)??((x=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((M=(D=a.locale)==null?void 0:D.options)==null?void 0:M.firstWeekContainsDate)??1,o=p((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const u=E(o,t),d=p((t==null?void 0:t.in)||e,0);d.setFullYear(n,0,s),d.setHours(0,0,0,0);const y=E(d,t);return+r>=+u?n+1:+r>=+y?n:n-1}function mt(e,t){var u,d,y,h;const r=$(),n=(t==null?void 0:t.firstWeekContainsDate)??((d=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(y=r.locale)==null?void 0:y.options)==null?void 0:h.firstWeekContainsDate)??1,a=ie(e,t),s=p((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),E(s,t)}function lt(e,t){const r=v(e,t==null?void 0:t.in),n=+E(r,t)-+mt(r,t);return Math.round(n/Z)+1}function m(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const W={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return m(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):m(r+1,2)},d(e,t){return m(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return m(e.getHours()%12||12,t.length)},H(e,t){return m(e.getHours(),t.length)},m(e,t){return m(e.getMinutes(),t.length)},s(e,t){return m(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return m(a,t.length)}},S={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return W.y(e,t)},Y:function(e,t,r,n){const a=ie(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return m(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):m(s,t.length)},R:function(e,t){const r=ee(e);return m(r,t.length)},u:function(e,t){const r=e.getFullYear();return m(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return m(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return m(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return W.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return m(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=lt(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):m(a,t.length)},I:function(e,t,r){const n=dt(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):m(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):W.d(e,t)},D:function(e,t,r){const n=ut(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):m(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return m(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return m(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return m(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=S.noon:n===0?a=S.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=S.evening:n>=12?a=S.afternoon:n>=4?a=S.morning:a=S.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return W.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):W.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):m(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):m(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):W.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):W.s(e,t)},S:function(e,t){return W.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return I(n);case"XXXX":case"XX":return O(n);case"XXXXX":case"XXX":default:return O(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return I(n);case"xxxx":case"xx":return O(n);case"xxxxx":case"xxx":default:return O(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+B(n,":");case"OOOO":default:return"GMT"+O(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+B(n,":");case"zzzz":default:return"GMT"+O(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return m(n,t.length)},T:function(e,t,r){return m(+e,t.length)}};function B(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+m(s,2)}function I(e,t){return e%60===0?(e>0?"-":"+")+m(Math.abs(e)/60,2):O(e,t)}function O(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=m(Math.trunc(n/60),2),s=m(n%60,2);return r+a+t+s}const U=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},se=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},ft=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return U(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",U(n,t)).replace("{{time}}",se(a,t))},ht={p:se,P:ft},gt=/^D+$/,bt=/^Y+$/,yt=["D","DD","YY","YYYY"];function wt(e){return gt.test(e)}function xt(e){return bt.test(e)}function vt(e,t,r){const n=pt(e,t,r);if(console.warn(n),yt.includes(e))throw new RangeError(n)}function pt(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Pt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,jt=/^'([^]*?)'?$/,kt=/''/g,Dt=/[a-zA-Z]/;function Nt(e,t,r){var h,x,D,M,N,l,c,g;const n=$(),a=(r==null?void 0:r.locale)??n.locale??ct,s=(r==null?void 0:r.firstWeekContainsDate)??((x=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:x.firstWeekContainsDate)??n.firstWeekContainsDate??((M=(D=n.locale)==null?void 0:D.options)==null?void 0:M.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((l=(N=r==null?void 0:r.locale)==null?void 0:N.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((g=(c=n.locale)==null?void 0:c.options)==null?void 0:g.weekStartsOn)??0,u=v(e,r==null?void 0:r.in);if(!Oe(u))throw new RangeError("Invalid time value");let d=t.match(Pt).map(f=>{const w=f[0];if(w==="p"||w==="P"){const _=ht[w];return _(f,a.formatLong)}return f}).join("").match(Mt).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const w=f[0];if(w==="'")return{isToken:!1,value:Wt(f)};if(G[w])return{isToken:!0,value:f};if(w.match(Dt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(d=a.localize.preprocessor(u,d));const y={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return d.map(f=>{if(!f.isToken)return f.value;const w=f.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&xt(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&wt(w))&&vt(w,t,String(e));const _=G[w[0]];return _(u,w,a.localize,y)}).join("")}function Wt(e){const t=e.match(jt);return t?t[1].replace(kt,"'"):e}function A(e){return+v(e)<Date.now()}function T(e,t){return ne(p(e,e),re(e))}function Ot(e,t){return ne(e,ke(re(e),1),t)}const _t={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},St=(e,t,r)=>{let n;const a=_t[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},Ct={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Tt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Yt={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Et={date:C({formats:Ct,defaultWidth:"full"}),time:C({formats:Tt,defaultWidth:"full"}),dateTime:C({formats:Yt,defaultWidth:"full"})},Ft={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},qt=(e,t,r,n)=>Ft[e],$t={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Ht={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Rt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},At={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Lt={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Jt=(e,t)=>{const r=Number(e),n=t==null?void 0:t.unit;if(r===0)return"0";const a=["year","week","hour","minute","second"];let s;return r===1?s=n&&a.includes(n)?"ère":"er":s="ème",r+s},Xt=["MMM","MMMM"],zt={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&Xt.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:Jt,era:j({values:$t,defaultWidth:"wide"}),quarter:j({values:Ht,defaultWidth:"wide",argumentCallback:e=>e-1}),month:j({values:Rt,defaultWidth:"wide"}),day:j({values:At,defaultWidth:"wide"}),dayPeriod:j({values:Lt,defaultWidth:"wide"})},Qt=/^(\d+)(ième|ère|ème|er|e)?/i,Vt=/\d+/i,Gt={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},Bt={any:[/^av/i,/^ap/i]},It={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Ut={any:[/1/i,/2/i,/3/i,/4/i]},Kt={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Zt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},er={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},tr={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},rr={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},nr={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},ar={ordinalNumber:ae({matchPattern:Qt,parsePattern:Vt,valueCallback:e=>parseInt(e)}),era:k({matchPatterns:Gt,defaultMatchWidth:"wide",parsePatterns:Bt,defaultParseWidth:"any"}),quarter:k({matchPatterns:It,defaultMatchWidth:"wide",parsePatterns:Ut,defaultParseWidth:"any",valueCallback:e=>e+1}),month:k({matchPatterns:Kt,defaultMatchWidth:"wide",parsePatterns:Zt,defaultParseWidth:"any"}),day:k({matchPatterns:er,defaultMatchWidth:"wide",parsePatterns:tr,defaultParseWidth:"any"}),dayPeriod:k({matchPatterns:rr,defaultMatchWidth:"any",parsePatterns:nr,defaultParseWidth:"any"})},ir={code:"fr",formatDistance:St,formatLong:Et,formatRelative:qt,localize:zt,match:ar,options:{weekStartsOn:1,firstWeekContainsDate:4}},sr=({reminder:e,onDeleted:t,onCompleted:r})=>{var M,N;const[n,a]=P.useState(!1),[s,o]=P.useState(!1),u=l=>{switch(l){case"vaccin":return i.jsx(Me,{className:"text-red-500",size:20});case"vermifuge":return i.jsx(pe,{className:"text-orange-500",size:20});case"antiparasitaire":return i.jsx(ve,{className:"text-green-500",size:20});default:return i.jsx(K,{className:"text-blue-500",size:20})}},d=l=>{switch(l){case"vaccin":return"Vaccin";case"vermifuge":return"Vermifuge";case"antiparasitaire":return"Antiparasitaire";default:return"Rappel"}},y=(l,c)=>{if(c)return"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700";const g=new Date(l),f=R(g,new Date);return A(g)&&!T(g)?"bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-700":T(g)?"bg-orange-50 dark:bg-orange-900/20 border-orange-300 dark:border-orange-700":f<=7?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-700":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700"},h=l=>{const c=new Date(l);if(A(c)&&!T(c)){const f=Math.abs(R(c,new Date));return`En retard de ${f} jour${f>1?"s":""}`}if(T(c))return"Aujourd'hui";if(Ot(c))return"Demain";const g=R(c,new Date);return g<=7?`Dans ${g} jour${g>1?"s":""}`:Nt(c,"dd MMMM yyyy",{locale:ir})},x=async()=>{o(!0);try{r(e.id,!e.is_completed)}catch(l){console.error("Erreur marquage rappel:",l)}finally{o(!1)}},D=async()=>{if(window.confirm(`Êtes-vous sûr de vouloir supprimer ce rappel ?

Note: Cela supprimera la ${e.source==="vaccination"?"vaccination":"traitement"} associé(e).`)){a(!0);try{const l=e.source==="vaccination"?"vaccinations":"treatments",{error:c}=await Y.from(l).delete().eq("id",e.original_id);if(c)throw c;t(e.id)}catch(l){console.error("Erreur suppression rappel:",l),alert("Erreur lors de la suppression")}finally{a(!1)}}};return i.jsx("div",{className:`rounded-3xl p-4 sm:p-6 border-2 transition-all ${y(e.due_date,e.is_completed)}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"flex-shrink-0",children:u(e.reminder_type)}),i.jsxs("div",{className:"flex items-center gap-2",children:[((M=e.dogs)==null?void 0:M.profile_image_url)&&i.jsx("img",{src:e.dogs.profile_image_url,alt:e.dogs.name,className:"w-8 h-8 rounded-full object-cover"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-gray-900 dark:text-gray-100 text-sm",children:(N=e.dogs)==null?void 0:N.name}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:d(e.reminder_type)})]})]})]}),i.jsx("h3",{className:`text-lg font-bold mb-2 ${e.is_completed?"text-gray-500 line-through":"text-gray-900 dark:text-gray-100"}`,children:e.title}),e.description&&i.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:e.description}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(be,{size:16,className:"text-gray-500 dark:text-gray-400"}),i.jsx("span",{className:`font-medium ${e.is_completed?"text-gray-500":A(new Date(e.due_date))&&!T(new Date(e.due_date))?"text-red-600 dark:text-red-400":"text-gray-700 dark:text-gray-300"}`,children:h(e.due_date)})]})]}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("button",{onClick:x,disabled:s,className:`p-2 rounded-lg transition-smooth ${e.is_completed?"bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-300 dark:hover:bg-gray-600":"bg-green-500 text-white hover:bg-green-600"}`,title:e.is_completed?"Marquer comme non complété":"Marquer comme complété",children:e.is_completed?i.jsx(ye,{size:20}):i.jsx(we,{size:20})}),i.jsx("button",{onClick:D,disabled:n,className:"p-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-smooth",title:"Supprimer",children:i.jsx(xe,{size:20})})]})]})})},gr=()=>{const{user:e}=me(),t=le(),[r,n]=P.useState(!0),[a,s]=P.useState(!1),[o,u]=P.useState(!1),[d,y]=P.useState([]),[h,x]=P.useState([]);P.useEffect(()=>{(async()=>{if(e!=null&&e.id)try{const{data:c}=await Y.from("user_profiles").select("subscription_tier").eq("id",e.id).single(),f=["premium","professional"].includes(c==null?void 0:c.subscription_tier);if(!f){u(!0),n(!1);return}s(f)}catch(c){console.error("Erreur vérification premium:",c)}})()},[e==null?void 0:e.id]),P.useEffect(()=>{if(!(e!=null&&e.id)||!a)return;(async()=>{try{const{data:c,error:g}=await Y.from("dogs").select("*").eq("user_id",e.id).eq("is_active",!0);if(g)throw g;y(c||[])}catch(c){console.error("Erreur chargement chiens:",c)}})()},[e==null?void 0:e.id,a]),P.useEffect(()=>{if(!d.length||!a){n(!1);return}(async()=>{n(!0);try{const c=d.map(b=>b.id),{data:g,error:f}=await Y.from("vaccinations").select("*, dogs(name, breed, profile_image_url)").in("dog_id",c).not("next_due_date","is",null).order("next_due_date",{ascending:!0});if(f)throw f;const{data:w,error:_}=await Y.from("treatments").select("*, dogs(name, breed, profile_image_url)").in("dog_id",c).not("next_due_date","is",null).order("next_due_date",{ascending:!0});if(_)throw _;const oe=(g||[]).map(b=>({id:`vac_${b.id}`,original_id:b.id,dog_id:b.dog_id,reminder_type:"vaccin",title:b.vaccine_name,description:b.notes,due_date:b.next_due_date,is_completed:!1,dogs:b.dogs,source:"vaccination"})),ce=(w||[]).map(b=>({id:`treat_${b.id}`,original_id:b.id,dog_id:b.dog_id,reminder_type:b.treatment_type==="worm"?"vermifuge":"antiparasitaire",title:b.product_name,description:b.notes,due_date:b.next_due_date,is_completed:!1,dogs:b.dogs,source:"treatment"})),ue=[...oe,...ce].sort((b,de)=>new Date(b.due_date)-new Date(de.due_date));x(ue)}catch(c){console.error("Erreur chargement rappels:",c)}finally{n(!1)}})()},[d,a]);const D=async(l,c)=>{x(h.map(g=>g.id===l?{...g,is_completed:c}:g))},M=l=>{x(h.filter(c=>c.id!==l))},N=()=>{t("/dog-profile")};return r?i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-primary"}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement des rappels..."})]})}):a?i.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[i.jsx("header",{className:"sticky top-0 z-50 bg-card border-b border-border shadow-sm",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-3 sm:py-4 flex items-center justify-between",children:[i.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground transition-smooth py-2 min-h-[44px]",children:[i.jsx(Pe,{size:20}),i.jsx("span",{className:"text-base font-medium",children:"Retour"})]}),i.jsx(fe,{})]})}),i.jsx(J,{}),i.jsx("main",{className:"flex-1 pb-20",children:i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-6",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:i.jsx(X,{className:"text-white",size:24})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-heading font-bold text-foreground",children:"Mes Rappels"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gérez les rappels de santé de vos chiens"})]})]})}),d.length===0&&i.jsxs("div",{className:"bg-card rounded-xl border border-border p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(X,{size:24,className:"text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Aucun chien enregistré"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Créez d'abord un profil de chien pour gérer ses rappels"}),i.jsx("button",{onClick:()=>t("/multi-profile-management"),className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-smooth",children:"Créer un profil"})]}),d.length>0&&h.length===0&&i.jsxs("div",{className:"bg-card rounded-xl border border-border p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(K,{size:24,className:"text-muted-foreground"})}),i.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Aucun rappel à venir"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ajoutez des vaccinations ou des traitements depuis le profil de votre chien"}),i.jsxs("button",{onClick:N,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-smooth inline-flex items-center gap-2",children:[i.jsx(H,{size:20}),"Aller au profil"]})]}),h.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"sm:hidden",children:i.jsxs("button",{onClick:N,className:"w-full px-4 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-smooth flex items-center justify-center gap-2",children:[i.jsx(H,{size:20}),"Ajouter une vaccination/traitement"]})}),i.jsx("div",{className:"hidden sm:flex justify-end",children:i.jsxs("button",{onClick:N,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-smooth inline-flex items-center gap-2",children:[i.jsx(H,{size:20}),"Ajouter une vaccination/traitement"]})}),h.map(l=>i.jsx(sr,{reminder:l,onDeleted:M,onCompleted:D},l.id))]})]})}),i.jsx(he,{})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"min-h-screen bg-background",children:i.jsx(J,{})}),i.jsx(ge,{isOpen:o,onClose:()=>{u(!1),t("/dog-profile")},reason:"reminders"})]})};export{gr as default};
