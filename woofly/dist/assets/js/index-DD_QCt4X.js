import{r,j as e}from"./vendor-react-CkOypKSt.js";import{u as M,s as T}from"./index-CmpvQ7zl.js";import{T as F}from"./TabNavigation-U9FZqoY9.js";import{U as z}from"./UserMenu-z7rjEeqh.js";import{Q as B,S as E,C as L,F as q,a as J}from"./CommunityStats-LmzWmZb8.js";import{F as R}from"./Footer-1uazuOPJ.js";import{b as V}from"./vendor-router-M7WQPhYn.js";import"./vendor-misc-B8HVOz_X.js";import"./vendor-pdf-lazy-D4am8o_0.js";import"./vendor-supabase-DEZzVAXw.js";import"./AppImage-vtzmhPdL.js";import"./Input-lBQ8bs8G.js";import"./Button-Cc6JY5v3.js";const se=()=>{const{user:a}=M(),w=V(),[i,v]=r.useState(""),[o,g]=r.useState([]),[f,d]=r.useState(null),[A,j]=r.useState([]),k={totalMembers:"12.5k",totalPosts:"8.2k",totalLikes:"45k",activeToday:"1.2k"},c=[{id:1,name:"Malinois",slug:"malinois",description:"Berger belge malinois - √âducation et comportement",image:"https://images.unsplash.com/photo-1713917032646-4703f3feffde",imageAlt:"Belgian Malinois dog with alert expression standing in outdoor field with golden sunlight",memberCount:"3.2k",postCount:"2.1k",isActive:!0,trendingTopics:["Dressage","Agilit√©"],latestPost:{title:"Conseils pour l'entra√Ænement d'ob√©issance avanc√©",author:"Marie Dubois",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1ad9e1013-1763294640440.png",authorAvatarAlt:"Professional woman with shoulder-length brown hair wearing casual blue sweater smiling warmly",timeAgo:"Il y a 15 min"}},{id:2,name:"Shih-Tzu",slug:"shih-tzu",description:"Petits compagnons - Soins et toilettage",image:"https://images.unsplash.com/photo-1599228127629-0a6d721fce06",imageAlt:"Adorable Shih-Tzu dog with long silky white and brown coat sitting on grooming table",memberCount:"2.8k",postCount:"1.9k",isActive:!0,trendingTopics:["Toilettage","Sant√©"],latestPost:{title:"Meilleures techniques de brossage pour √©viter les n≈ìuds",author:"Sophie Martin",authorAvatar:"https://images.unsplash.com/photo-1578006711491-890dec58badb",authorAvatarAlt:"Young woman with blonde hair in ponytail wearing pink top with friendly smile",timeAgo:"Il y a 32 min"}},{id:3,name:"American Bully",slug:"american-bully",description:"Bully am√©ricain - Force et caract√®re",image:"https://images.unsplash.com/photo-1704044985311-b363b415cb0d",imageAlt:"Muscular American Bully dog with broad chest and confident stance in urban setting",memberCount:"2.1k",postCount:"1.4k",isActive:!1,trendingTopics:["Nutrition","Musculation"],latestPost:{title:"Programme d'exercice pour maintenir la masse musculaire",author:"Thomas Leroy",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1b44763a5-1763295696725.png",authorAvatarAlt:"Athletic man with short dark hair wearing black athletic shirt with determined expression",timeAgo:"Il y a 1 heure"}},{id:4,name:"Races Mixtes",slug:"races-mixtes",description:"Chiens crois√©s - Diversit√© et unicit√©",image:"https://images.unsplash.com/photo-1683051147071-657d46aa1e3c",imageAlt:"Happy mixed breed dog with brown and white coat running joyfully through green grass field",memberCount:"4.4k",postCount:"3.8k",isActive:!0,trendingTopics:["Adoption","Comportement"],latestPost:{title:"Mon chien crois√© a des comportements surprenants",author:"Julie Bernard",authorAvatar:"https://images.unsplash.com/photo-1612439289738-15a4cba74d9f",authorAvatarAlt:"Middle-aged woman with curly red hair wearing green cardigan with warm smile",timeAgo:"Il y a 45 min"}}],m=[{id:1,title:"Comment g√©rer l'anxi√©t√© de s√©paration chez les chiots ?",preview:"Mon chiot de 4 mois pleure beaucoup quand je pars travailler. J'ai essay√© plusieurs techniques mais rien ne semble fonctionner. Des conseils ?",author:"Claire Rousseau",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1a32a3733-1763295164509.png",authorAvatarAlt:"Young woman with long dark hair wearing white blouse with concerned expression",timeAgo:"Il y a 2 heures",likes:47,replies:23,category:"Comportement",isExpert:!1},{id:2,title:"Alimentation BARF : Guide complet pour d√©butants",preview:"Apr√®s 6 mois de BARF avec mon Malinois, je partage mon exp√©rience compl√®te : avantages, d√©fis, recettes et conseils pratiques pour bien commencer.",author:"Dr. Antoine Moreau",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1e95cb24a-1763296883553.png",authorAvatarAlt:"Professional veterinarian with gray hair wearing white medical coat with stethoscope",timeAgo:"Il y a 3 heures",likes:156,replies:89,category:"Nutrition",isExpert:!0},{id:3,title:"Vaccination : Nouveau protocole 2025 expliqu√©",preview:"Les nouvelles recommandations v√©t√©rinaires pour la vaccination des chiens en 2025. Quels changements et pourquoi ?",author:"Dr. Isabelle Petit",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_1be4365a3-1763296831000.png",authorAvatarAlt:"Female veterinarian with short blonde hair wearing blue scrubs with professional smile",timeAgo:"Il y a 5 heures",likes:203,replies:67,category:"Sant√©",isExpert:!0},{id:4,title:"Toilettage maison : Mes astuces pour un pelage parfait",preview:"Je toilette mon Shih-Tzu moi-m√™me depuis 2 ans. Voici tous mes secrets pour un r√©sultat professionnel √† la maison sans stress.",author:"Nathalie Girard",authorAvatar:"https://img.rocket.new/generatedImages/rocket_gen_img_154a96764-1763300123486.png",authorAvatarAlt:"Woman with medium brown hair wearing casual pink sweater with friendly smile",timeAgo:"Il y a 6 heures",likes:92,replies:41,category:"Toilettage",isExpert:!1}];r.useEffect(()=>{(async()=>{if(a!=null&&a.id)try{const{data:s,error:n}=await T.from("dogs").select("*").eq("user_id",a.id).order("created_at",{ascending:!0});if(n)throw n;if(s&&s.length>0){j(s);const l=localStorage.getItem("currentDogProfile");l?d(JSON.parse(l)):(d(s[0]),localStorage.setItem("currentDogProfile",JSON.stringify(s[0])))}}catch(s){console.error("Erreur chargement chiens:",s)}})()},[a==null?void 0:a.id]),r.useEffect(()=>{if((i==null?void 0:i.trim())==="")g(c);else{const t=c==null?void 0:c.filter(s=>{var n,l,h,p,x;return((l=(n=s==null?void 0:s.name)==null?void 0:n.toLowerCase())==null?void 0:l.includes(i==null?void 0:i.toLowerCase()))||((p=(h=s==null?void 0:s.description)==null?void 0:h.toLowerCase())==null?void 0:p.includes(i==null?void 0:i.toLowerCase()))||((x=s==null?void 0:s.trendingTopics)==null?void 0:x.some(u=>{var b;return(b=u==null?void 0:u.toLowerCase())==null?void 0:b.includes(i==null?void 0:i.toLowerCase())}))});g(t)}},[i]);const y=t=>{d(t),localStorage.setItem("currentDogProfile",JSON.stringify(t))},N=t=>{v(t)},C=()=>{alert(`üöß Fonctionnalit√© "Poser une question" en cours de d√©veloppement.

Prochainement disponible !`)},P=()=>{alert(`üöß Galerie photos de la communaut√© en cours de d√©veloppement.

Prochainement disponible !`)},S=()=>{alert(`üöß Fonctionnalit√© "Cr√©er une discussion" en cours de d√©veloppement.

Prochainement disponible !`)},_=t=>{w(`/forum/${t}`)},D=(t,s)=>{alert(`üöß Discussion "${s}" en cours de d√©veloppement.

Prochainement disponible !`)},I=()=>{alert(`üöß Page "Toutes les discussions" en cours de d√©veloppement.

Prochainement disponible !`)};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx("div",{className:"sticky top-0 z-50 bg-card border-b border-border shadow-soft",children:e.jsx("div",{className:"max-w-screen-xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("h1",{className:"text-2xl font-heading font-semibold text-foreground",children:"Communaut√©"})}),e.jsx(z,{dogProfiles:A,currentDog:f,onDogChange:y})]})})}),e.jsx(F,{}),e.jsx("main",{className:"main-content",children:e.jsxs("div",{className:"max-w-screen-xl mx-auto px-4 py-6 space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-heading font-semibold text-foreground mb-1",children:"Rejoignez votre communaut√©"}),e.jsx("p",{className:"text-muted-foreground font-caption",children:"Partagez, apprenez et connectez-vous avec d'autres propri√©taires"})]}),e.jsx(B,{onAskQuestion:C,onBrowsePhotos:P})]}),e.jsx(E,{onSearch:N})]}),e.jsx(L,{stats:k}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground mb-4",children:"Forums par race"}),(o==null?void 0:o.length)>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:o==null?void 0:o.map(t=>e.jsx("div",{onClick:()=>_(t.slug),className:"cursor-pointer",children:e.jsx(q,{forum:t})},t==null?void 0:t.id))}):e.jsx("div",{className:"bg-card rounded-lg p-8 text-center border border-border",children:e.jsxs("p",{className:"text-muted-foreground font-caption",children:['Aucun forum trouv√© pour "',i,'"']})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-heading font-semibold text-foreground",children:"Discussions populaires"}),e.jsx("button",{onClick:I,className:"text-sm text-primary font-medium hover:underline",children:"Voir tout"})]}),e.jsx("div",{className:"space-y-4",children:m==null?void 0:m.map(t=>e.jsx("div",{onClick:()=>D(t.id,t.title),className:"cursor-pointer",children:e.jsx(J,{discussion:t})},t==null?void 0:t.id))})]}),e.jsx("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 rounded-lg p-6 border border-border",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"text-center md:text-left",children:[e.jsx("h3",{className:"text-xl font-heading font-semibold text-foreground mb-2",children:"Partagez votre exp√©rience"}),e.jsx("p",{className:"text-muted-foreground font-caption",children:"Aidez d'autres propri√©taires en partageant vos connaissances et conseils"})]}),e.jsx("button",{onClick:S,className:"px-6 py-3 bg-primary text-primary-foreground rounded-lg font-medium hover:bg-primary/90 transition-smooth whitespace-nowrap",children:"Cr√©er une discussion"})]})})]})}),e.jsx(R,{})]})};export{se as default};
